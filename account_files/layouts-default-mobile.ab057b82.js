"use strict";(self.webpackChunkklook_ssr_user_center=self.webpackChunkklook_ssr_user_center||[]).push([["83084"],{42432:function(e,t,i){i.d(t,{Z:()=>d});var s=i("28395"),o=i("79999"),n=i("60965"),r=i("96989"),a=i("60946"),l=i("84422");let h=(0,o.namespace)("auth");class c extends r.Z{get isCareerLinkVisible(){return this.getPartnerWebConfig("enable_join_us")}get isLanguageCurrencyVariable(){return this.siteConfig.footer}get isLanguageVariable(){return this.getPartnerWebConfig("enable_change_language")}get isCurrencyVariable(){return this.getPartnerWebConfig("enable_currency")}get renderLanguages(){return(0,l.Y2)(this.klook.websiteConfig.website,this.klook.supportLanguages)}get currencies(){return(0,a.Kc)(this.klook.language,this.klook.websiteConfig.website)}get isCnSite(){return"cn"===this.klook.market}get isChangeSiteTipVisible(){return this.siteConfig.change_site_tip}}(0,s.gn)([h.State],c.prototype,"user",void 0);let u=c=(0,s.gn)([(0,o.Component)({components:{KlkTravellerFooter:n.Z}})],c),d=(0,i("77427").Z)(u,function(){var e=this.$createElement;return(this._self._c||e)("KlkTravellerFooter",{attrs:{platform:"mobile",currency:this.klook.currency,language:this.klook.language,"is-powered-visible":this.isPoweredVisible,"is-social-count-visible":this.isSocialCountVisible,"is-country-variable":this.isCountryVariable,"is-business-license-visible":this.isBusinessLicenseVisible,"is-about-us-link-visible":this.isAboutUsLinkVisible,"is-career-link-visible":this.isCareerLinkVisible,"is-language-currency-variable":this.isLanguageCurrencyVariable,"is-language-variable":this.isLanguageVariable,"is-currency-variable":this.isCurrencyVariable,"support-currencies":this.currencies,"render-languages":this.renderLanguages,"is-change-site-tip-visible":this.isChangeSiteTipVisible,"user-info":this.user,market:this.market,"is-cn-site":this.isCnSite,"base-link":this.baseLink,"cookie-manage-text":this.cookieText}})},[],!1,null,null,null).exports},15682:function(e,t,i){i.d(t,{Z:()=>h});var s=i("28395"),o=i("79999"),n=i("29303"),r=i("14617");class a extends r.Z{get serverDestinationData(){return this.klook.destinationData||null}get serverAllCategoryList(){return this.klook.allCategoryList||[]}get isDestinationListVisible(){return this.siteConfig.showSecondaryNav}get isUserVisible(){return this.siteConfig.user_center_path&&!this.klook.isSCOPGuest&&!this.isTemporaryToken}get logo(){var e;let t=this.siteConfig,i=null===(e=this.klook.affiliateConf)||void 0===e?void 0:e.cobrand;return{link:t.noLinkToHomePageLogo?"javascript:;":this.$href("/",void 0,this.baseLink),url:null==i?void 0:i.logo_url,height:null==i?void 0:i.cobrand_height_mweb}}get isMiniStyle(){var e,t;return(null===(t=this.$route)||void 0===t?void 0:null===(e=t.meta)||void 0===e?void 0:e.isMobileMiniStyleHeader)||!1}beforeMount(){window.$sentry=this.$sentry,window.Cookies=this.$cookies,window.$axios=this.$axios,window.tracker={gtm:{sendGTMCustomEvent:this.$sendGTMCustomEvent.bind(this)},sendMixpanel(e){},inhouse:this.$inhouse}}}(0,s.gn)([o.State],a.prototype,"klook",void 0);let l=a=(0,s.gn)([(0,o.Component)({components:{KlkTravellerHeader:n.Z}})],a),h=(0,i("77427").Z)(l,function(){var e=this.$createElement;return(this._self._c||e)("KlkTravellerHeader",{attrs:{language:this.klook.language,platform:"mobile",currency:this.klook.currency,webp:this.klook.webp,"is-search-visible":this.isSearchVisible,"is-destination-visible":this.isDestinationListVisible,"is-user-visible":this.isUserVisible,"is-guest-booking-visible":this.isOrderVisible,"is-shopping-cart-visible":this.isShoppingCartVisible,"server-destination-data":this.serverDestinationData,"server-all-category-list":this.serverAllCategoryList,logo:this.logo,"is-mini-style":this.isMiniStyle,"user-info":this.user&&this.user.is_temporary_token?null:this.user,"anniversary-icon-src":this.anniversaryIcon,"anniversary-link":this.anniversaryLink,"login-success":this.loginSuccess,ismp:""!==this.klook.platformMp,aid:this.aid,"use-login-sdk":this.isUseLoginSdk,market:this.market,"base-link":this.baseLink}})},[],!1,null,null,null).exports},67645:function(e,t,i){i.d(t,{Pz:function(){return r},YX:function(){return l},yF:function(){return n}});var s=i(50593);let o=(0,i(32222).ZP)();async function n(e){let t=(0,s.Ol)("aid",e.$route.query);if(t&&(function(e){window.ga&&window.ga("send","event","affiliate","visit",e)}(t),"button"===(0,s.Ol)("affiliate_partner",e.$route.query))){let t={affiliate_partner:(0,s.Ol)("affiliate_partner",e.$route.query)||"",content:""};await a();let i=window.bttnio("getReferrerToken")||"";t.content=i;let o=e.klook.affiliateConf.aid_extra_info,n=e.klook.affiliateConf.cookie_duration||30,l=new Date(Date.now()+864e5*n);r(e,o={...o,...t},l)}}function r(e,t,i){let s=JSON.stringify(t);e.$cookies.set("aid_extra",s,{path:"/",expires:i||new Date(Date.now()+2592e6)})}async function a(){window.ButtonWebConfig={applicationId:"app-46e96d02fcd86a4f"},await (0,s.ve)("https://web.btncdn.com/v1/button.js")}function l(e){if(e.$cookies.get("aid")&&13925===e.$cookies.get("aid")){let{cardIssueCountry:e}=(0,s.FU)();e&&o.setItem("master_country_code",e,86400)}}},58606:function(e,t,i){i.d(t,{Z:function(){return l}});var s=i(28395),o=i(79999),n=i(42297),r=i(37865);let a=e=>"boolean"==typeof e;class l extends o.Vue{created(){this.setLayout()}mounted(){this.handleInitCookieManage()}handleInitCookieManage(){var e=this;if(!this.klook.isOpenHarmony&&("Home"!==this.$route.name||"mobile"!==this.platform))(0,n.default)((0,r.Z)(function(t){for(var i=arguments.length,s=Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.$t(t,...s)},(e,t,i)=>this.$href(e,t,i),this.klook.language),{platform:this.platform,isEUArea:this.isEUArea}).then(e=>{e&&this.$once("hook:beforeDestroy",()=>{e.close()})})}setLayout(){let e=Object.assign({},this.$route.meta);a(e.header)&&(this.header=e.header),a(e.fixedSecondaryNav)&&(this.fixedSecondaryNav=e.fixedSecondaryNav),a(e.hideSecondaryNav)&&(this.hideSecondaryNav=e.hideSecondaryNav),a(e.fixedNav)&&(this.fixedNav=e.fixedNav),a(e.footer)&&(this.footer=e.footer)}onLayout(){this.$klook.$once("LAYOUT",e=>{a(e.header)&&(this.header=e.header),a(e.footer)&&(this.footer=e.footer)})}constructor(...e){super(...e),this.header=!0,this.footer=!0,this.fixedNav=!0,this.fixedSecondaryNav=!1,this.hideSecondaryNav=!1}}(0,s.gn)([o.Getter],l.prototype,"isEUArea",void 0),(0,s.gn)([o.Getter],l.prototype,"platform",void 0),(0,s.gn)([o.State],l.prototype,"klook",void 0),l=(0,s.gn)([o.Component],l)},66365:function(e,t,i){i.d(t,{Z:function(){return c}});var s=i(28395),o=i(79999),n=i(15643),r=i(43669),a=i(20677),l=i(50593);let h=(0,o.namespace)("auth");class c extends o.Vue{mounted(){a.r.includes(this.klook.websiteConfig.website)&&!this.klook.isKlookApp&&this.initShowTip()}initShowTip(){if(!localStorage.getItem("changeWebSiteTip")&&["ActivityHome","Home"].includes(this.$route.name||"")){let e=this.user&&this.user.confirmed_residence||"",t="";e&&(t="CN"===e?"www.klook.cn":"www.klook.com");let i=this.$cookies.get("website"),s="CN"===this.klook.ipCountry?"www.klook.cn":"www.klook.com",o=t&&this.klook.websiteConfig.website===t,n=i&&this.klook.websiteConfig.website===i,r=s&&this.klook.websiteConfig.website===s;t?o?this.isShowTip=!1:(this.isShowTip=!0,localStorage.setItem("changeWebSiteTip","true")):i&&"production"!==window.__conf_env.kvClientConfig.APP_ENV?n?this.isShowTip=!1:(this.isShowTip=!0,localStorage.setItem("changeWebSiteTip","true")):s&&(r?this.isShowTip=!1:(this.isShowTip=!0,localStorage.setItem("changeWebSiteTip","true")))}}closeTip(){this.isShowTip=!1}siteChange(e,t){let i=(0,l.Xl)({website:e,language:t});location.href=this.$href(`/change-website-form?${i}`)}changeCnWebsite(){let e="https://www.klook.cn",t="www.klook.cn",i="zh-CN";this.changUserpreferSite(t),this.siteChange(e,i),this.$sendGTMCustomEvent("Switch Site Pop-up|Click To Switch The Country/Region")}async changUserpreferSite(e){let t=`site=${e}`;await this.$axios.$post(r.Z.changePreferSite,t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}get wantToSite(){let{cn:e,global:t}=n.siteConfig.generateOtherLinks(this.klook.host);return"cn"===this.klook.market?t:e}constructor(...e){super(...e),this.isShowTip=!1}}(0,s.gn)([o.State],c.prototype,"klook",void 0),(0,s.gn)([h.State],c.prototype,"user",void 0),c=(0,s.gn)([o.Component],c)},31447:function(e,t,i){i.r(t),i.d(t,{default:()=>T});var s=i("28395"),o=i("79999"),n=i("58606"),r=i("50593");let a=(0,o.namespace)("common"),l="Home_appusergrowth";class h extends o.Vue{get AB72326(){return(0,r.I3)(this.kepler.experimentsGroup,l)("variant")}get hitExperiment(){return this.kepler.experimentsGroup[l]}}(0,s.gn)([a.State],h.prototype,"kepler",void 0),h=(0,s.gn)([o.Component],h);var c=i("15682"),u=i("42432"),d=i("15643"),p=i("66365");class g extends(0,o.mixins)(p.Z){handleSiteChange(){d.siteConfig.isGlobal(this.klook.host)?this.changeCnWebsite():window.location.href=this.$href("/edit_profile?residence=show")}}let k=g=(0,s.gn)([o.Component],g);var f=i("77427");let w=(0,f.Z)(k,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this.isShowTip?t("div",{staticClass:"change-website-tip"},[t("div",{staticClass:"left"},[t("div",{staticClass:"text"},[this._v(" "+this._s(this.$t("cn.want.to.switch",[this.wantToSite]))+" ")]),t("span",{staticClass:"btn",on:{click:this.handleSiteChange}},[this._v(this._s(this.$t("cn.change")))])]),t("div",{staticClass:"right",on:{click:this.closeTip}},[t("klk-icon",{attrs:{type:"icon_navigation_close",size:"14"}})],1)]):this._e()])},[],!1,null,"3e7eff54",null).exports;var b=i("44066"),m=i("67645");let v=(e,t,i)=>{if(!i)return e;let s=RegExp("([?&])"+t+"=.*?(&|$)","i"),o=e.includes("?")?"&":"?";return e.match(s)?e.replace(s,"$1"+t+"="+i+"$2"):e+o+t+"="+i},y=(e,t,i)=>{let s=e.klook.affiliateConf.aid_extra_info||{};if(s=Object.assign({[t]:i},s),(0,m.Pz)(e,s),(0,r.Ol)("aid",e.$route.query)){let e=v(window.location.href,"aff_skytone_openid",i);window.history.replaceState({path:e},"",e)}let o=e.$cookies.get("aid_query_string")||"";o=(""===o?"":`${o}&`)+`${t}=${i}`,e.$cookies.set("aid_query_string",o,{expires:30,path:"/"})},C=e=>new Promise((t,i)=>{!(0,r.rk)(e)&&t(""),window.hbs.isSupport()?(window.hbs.config({appId:"103133867",jsApiList:["signIn"]}),window.hbs.ready(function(){window.hbs.signIn({scope:"https://www.huawei.com/auth/account/base.profile"},function(i){let{openId:s}=i;y(e,"aff_skytone_openid",s),t(s)},function(e){i(e)})}),window.hbs.error(function(e){i(e)})):i(Error("can not support skytone"))});var _=i("84422");let S=(0,o.namespace)("auth");class $ extends(0,o.mixins)(n.Z,h){head(){let e=(0,b.vq)(this);if(this.klook.platformMp){let t="https://cdn.klook.com/s/dist_web/klook-mp/dist/sdk/klook-mp-sdk.1.1.1.js";e.script?e.script.push({src:t}):e.script=[{src:t}]}return e}get headerVisible(){return this.isHeader&&this.header&&!this.platformMp&&!this.isOpenHarmony}get footerVisible(){return this.isFooter&&this.footer&&!this.platformMp&&!this.isOpenHarmony}get platformMp(){return this.klook.platformMp}get isOpenHarmony(){return this.klook.isOpenHarmony}beforeMount(){window.$sentry=this.$sentry,window.Cookies=this.$cookies,window.$axios=this.$axios,window.tracker={gtm:{sendGTMCustomEvent:this.$sendGTMCustomEvent.bind(this)},sendMixpanel(e){},inhouse:this.$inhouse}}mounted(){(0,m.yF)(this),(0,m.YX)(this),this.showDownloadBanner(),(0,r.rk)(this)&&(0,r.ve)("https://contentcenter-drcn.dbankcdn.com/cch5/IAP/hmssdk/hms/jssdk/hmssdk4.0.0.300.js").then(()=>{try{C(this)}catch(e){}})}get owaVisible(){return!["DealsPage"].includes(this.$route.name)}translate(e){let t=this.$refs.footer,i=document.getElementsByClassName("scroll-nav-wrapper")[0];t&&(t.style.transform=`translateY(${e.transform}px)`),i&&(i.style.transform=`translateY(${e.transform}px)`)}showDownloadBanner(){let e=["Home","DealsPage"].includes(this.$route.name)&&!["fr_FR","de_DE","it_IT","es_ES","ru_RU"].includes(this.klook.backendLanguage),t=this.klook.utilConfig.downland_bar&&!(0,_.LJ)(this.klook.language)&&(0,r.rM)(this,"partner_web_config.downland_bar",!0);this.showDownloadBar=e&&t}constructor(...e){super(...e),this.showDownloadBar=!1}}(0,s.gn)([o.State],$.prototype,"klook",void 0),(0,s.gn)([(0,o.Prop)({default:!0,type:Boolean})],$.prototype,"isHeader",void 0),(0,s.gn)([(0,o.Prop)({default:!0,type:Boolean})],$.prototype,"isFooter",void 0),(0,s.gn)([S.State],$.prototype,"isLimitedAccess",void 0);let x=$=(0,s.gn)([(0,o.Component)({components:{ota:()=>Promise.all([i.e("13465"),i.e("68911")]).then(i.bind(i,52233)),Header:c.Z,Footer:u.Z,changeWebsiteTip:w}})],$),T=(0,f.Z)(x,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"layout-default",class:{"layout-default--placeholder":this.header&&!this.isLimitedAccess,"klook-platform-no-common-header":!this.headerVisible||this.isLimitedAccess}},[t("change-website-tip"),this.headerVisible&&!this.isLimitedAccess?t("header",{staticClass:"layout-default_header mobile-header j-own-to-app_header"},[this.showDownloadBar?t("ota",{attrs:{location:"top"},on:{translate:this.translate}}):this._e(),t("Header")],1):this._e(),t("main",{staticClass:"layout-default_main j-layout-default_main"},[t("Nuxt")],1),this.footerVisible&&!this.isLimitedAccess?t("footer",{ref:"footer",staticClass:"layout-default_footer mobile-footer"},[t("Footer")],1):this._e()],1)},[],!1,null,null,null).exports},20677:function(e,t,i){i.d(t,{Z:function(){return n},r:function(){return o}});var s=i(15643);let o=s.siteConfig.availableWebsite,n=s.siteConfig.getWebsiteConfig}}]);