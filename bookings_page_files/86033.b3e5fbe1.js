"use strict";(self.webpackChunkklook_ssr_user_center=self.webpackChunkklook_ssr_user_center||[]).push([["86033"],{81923:function(t){t.exports=function(t){var i=t.url,e=t.parentNode;if(!!i){var o=t.target||"_self",r=document.createElement("a");r.target=o,r.style.display="none",r.href=i,r.onclick=function(t){t.stopPropagation(),r&&(r.onclick=null,e&&(null==e||e.removeChild(r)),r=null)},e&&(null==e||e.appendChild(r)),r.click()}}},1719:function(t){var i="/v\\d+",e=new RegExp(i);t.exports=function(t,o){if(void 0===o&&(o={quantity:85}),!(null===(r=null==t?void 0:t.includes)||void 0===r?void 0:r.call(t,"res.klook.com")))return t;var r,a=o.dirname,s=o.width,n=o.height,l=o.fill,c=void 0===l?"fill":l,d=o.quantity,p=void 0===d?"85":d,h=o.custom,u=o.gravity,v=o.webp,f="/image/upload",g=e.test(t),m=a?a.split("/").map(function(t){return encodeURIComponent(t)}).join("/"):"(/.+)?",y="".concat(f,"(").concat("(/(w|h|c|ar|g|z|x|y|f|q|r|a|e|o|bo|b|l|u|d|dl|co|cs|dpr|pg|dn|fl|t|if|fn)_[^/]+)*",")").concat(g?i:"").concat(m,"/[^/]+\\.[a-z]+$"),k=t.match(new RegExp(y));if(!k||!k.length)return t;var b=k[1],_=t;b&&(_=t.replace(b,""));var w=[];return(s&&w.push("w_".concat(s)),n&&w.push("h_".concat(n)),(s||n)&&c&&w.push("c_".concat(c)),p&&w.push("q_".concat(p)),u&&w.push("g_".concat(u)),h&&w.push(h),v&&(_=_.replace(/\.[^.]+$/,".webp")),null==w?void 0:w.length)?_.replace(f,"".concat(f,"/fl_lossy.progressive,").concat(w.join(","))):_}},41185:function(t,i,e){e.d(i,{Km:function(){return V},WK:function(){return R},rU:function(){return q}});var o=e(95334),r=e(1719),a=e.n(r),s=e(92303),n=e(97028),l=e(810),c=e(9943),d=e.n(c),p=e(81923),h=e.n(p),u=e(80170),v=function(t,i){return(v=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)};function f(t,i){if("function"!=typeof i&&null!==i)throw TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}v(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var g=function(){return(g=Object.assign||function(t){for(var i,e=1,o=arguments.length;e<o;e++)for(var r in i=arguments[e],i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t}).apply(this,arguments)};function m(t,i,e,o){var r,a=arguments.length,s=a<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,i,e,o);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(s=(a<3?r(s):a>3?r(i,e,s):r(i,e))||s);return a>3&&s&&Object.defineProperty(i,e,s),s}function y(t,i,e,o){return new(e||(e=Promise))(function(r,a){function s(t){try{l(o.next(t))}catch(t){a(t)}}function n(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){var i;t.done?r(t.value):((i=t.value)instanceof e?i:new e(function(t){t(i)})).then(s,n)}l((o=o.apply(t,i||[])).next())})}function k(t,i){var e,o,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function n(a){return function(n){return function(a){if(e)throw TypeError("Generator is already executing.");for(;s;)try{if(e=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=i.call(t,s)}catch(t){a=[6,t],o=0}finally{e=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,n])}}}var b=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.hydrated=!1,i}return f(i,t),i.prototype.mounted=function(){this.hydrated=!0},Object.defineProperty(i.prototype,"realWebp",{get:function(){var t,i,e;return void 0!==this.webp?this.webp:(null===(e=null===(i=null===(t=this.$store)||void 0===t?void 0:t.state)||void 0===i?void 0:i.klook)||void 0===e?void 0:e.webp)||0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"aspectRatio",{get:function(){if(this.klookImgRatio){var t=this.klookImgRatio.split(":").map(Number),i=t[0],e=t[1];return 1/(i/e)*100+"%"}return 0===this.imgRatio?"unset":1/Number(this.imgRatio)*100+"%"},enumerable:!1,configurable:!0}),i.prototype.formatPicUrl=function(t){return this.cropWidth&&this.cropHeight?a()(t,{width:this.cropWidth,height:this.cropHeight,webp:this.realWebp}):t},m([(0,o.Prop)({type:Boolean,default:function(){return!0}})],i.prototype,"isLazy",void 0),m([(0,o.Prop)({type:String,default:function(){return""},required:!0})],i.prototype,"imgSrc",void 0),m([(0,o.Prop)({type:Number,default:void 0})],i.prototype,"webp",void 0),m([(0,o.Prop)({type:String,default:function(){return"100%"}})],i.prototype,"imgWidth",void 0),m([(0,o.Prop)({type:String,default:function(){return"auto"}})],i.prototype,"imgHeight",void 0),m([(0,o.Prop)({type:Number,default:0})],i.prototype,"imgRatio",void 0),m([(0,o.Prop)({type:String,default:""})],i.prototype,"klookImgRatio",void 0),m([(0,o.Prop)({type:String,default:""})],i.prototype,"klookImgScene",void 0),m([(0,o.Prop)({type:String,default:"cover"})],i.prototype,"bgSize",void 0),m([(0,o.Prop)({type:Number,default:0})],i.prototype,"cropWidth",void 0),m([(0,o.Prop)({type:Number,default:0})],i.prototype,"cropHeight",void 0),m([(0,o.Prop)({type:String,default:""})],i.prototype,"className",void 0),m([(0,o.Prop)({type:Boolean,default:!1})],i.prototype,"disabled",void 0),m([(0,o.Prop)({type:Boolean,default:!1})],i.prototype,"isImgTag",void 0),m([(0,o.Prop)({type:Object,default:function(){return{}}})],i.prototype,"imgProps",void 0),i=m([(0,o.Component)({components:{KlookImage:s.Z}})],i)}(o.Vue),_=function(t,i,e,o,r,a,s,n,l,c){"boolean"!=typeof s&&(l=n,n=s,s=!1);var d,p="function"==typeof e?e.options:e;if(t&&t.render&&(p.render=t.render,p.staticRenderFns=t.staticRenderFns,p._compiled=!0,r&&(p.functional=!0)),o&&(p._scopeId=o),a?(d=function(t){!(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)&&"undefined"!=typeof __VUE_SSR_CONTEXT__&&(t=__VUE_SSR_CONTEXT__),i&&i.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},p._ssrRegister=d):i&&(d=s?function(t){i.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){i.call(this,n(t))}),d){if(p.functional){var h=p.render;p.render=function(t,i){return d.call(i),h(t,i)}}else{var u=p.beforeCreate;p.beforeCreate=u?[].concat(u,d):[d]}}return e},w=_({render:function(){var t=this.$createElement,i=this._self._c||t;return this.imgSrc?i("div",{staticClass:"image-view",class:{"image-view-hydrated":this.hydrated,"is-img-tag":this.isImgTag},style:{width:this.imgWidth,height:this.imgHeight,paddingBottom:this.isImgTag?this.aspectRatio:"unset"}},[this.isImgTag?[this.klookImgRatio?i("KlookImage",this._b({staticClass:"original-tag-image",class:{"original-tag-image-lazy":this.isLazy},attrs:{mode:"img",scene:this.klookImgScene,src:this.imgSrc,"is-lazy":this.isLazy,ratio:this.klookImgRatio,webp:!!this.realWebp}},"KlookImage",Object.assign({},this.imgProps),!1)):[i("img",this.isLazy?this._b({directives:[{name:"lazy",rawName:"v-lazy",value:this.formatPicUrl(this.imgSrc),expression:"formatPicUrl(imgSrc)"}],staticClass:"original-tag-image",class:{"original-tag-image-lazy":this.isLazy}},"img",Object.assign({},this.imgProps),!1):this._b({staticClass:"original-tag-image",attrs:{src:this.formatPicUrl(this.imgSrc)}},"img",Object.assign({},this.imgProps),!1))]]:[this.klookImgRatio?i("KlookImage",{class:[this.isLazy?"image-box-lazy":"image-box",this.className],style:{"padding-bottom":this.aspectRatio,backgroundSize:this.bgSize},attrs:{mode:"divbg",scene:this.klookImgScene,src:this.imgSrc,"is-lazy":this.isLazy,ratio:this.klookImgRatio,webp:!!this.realWebp}}):[i("div",this.isLazy?{directives:[{name:"lazy",rawName:"v-lazy:background-image.container",value:this.formatPicUrl(this.imgSrc),expression:"formatPicUrl(imgSrc)",arg:"background-image",modifiers:{container:!0}}],staticClass:"image-box-lazy",class:this.className,style:{"padding-bottom":this.aspectRatio,backgroundSize:this.bgSize}}:{staticClass:"image-box",class:this.className,style:{"padding-bottom":this.aspectRatio,backgroundSize:this.bgSize,backgroundImage:"url("+this.formatPicUrl(this.imgSrc)+")"}})]],this._v(" "),this._t("default"),this._v(" "),this.disabled?i("div",{staticClass:"mask"}):this._e()],2):this._e()},staticRenderFns:[]},void 0,b,"data-v-0dbfeeb7",!1,void 0,!1,void 0,void 0,void 0),C=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return f(i,t),Object.defineProperty(i.prototype,"realSize",{get:function(){return this.size||this.cardSize||"medium"},enumerable:!1,configurable:!0}),m([(0,o.Inject)({from:"cardSize",default:"medium"})],i.prototype,"cardSize",void 0),m([(0,o.Prop)({default:"",required:!1})],i.prototype,"size",void 0),i=m([o.Component],i)}(o.Vue),S=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return f(i,t),i.prototype.formatPercent=function(t){return(null==t?void 0:t.replace(/%/g,'<svg class="svg-percent" width="11" height="9" viewBox="0 0 11 9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 1L3 8" stroke="currentColor" stroke-linecap="square" stroke-linejoin="round"/><circle cx="2.5" cy="2.5" r="2" stroke="currentColor"/><circle cx="8.5" cy="6.5" r="2" stroke="currentColor"/></svg>'))||""},Object.defineProperty(i.prototype,"tagStyle",{get:function(){var t=this.data,i=t.type,e=t.tag_color,o=t.background_image_src;return"reward"===i?{background:o?"url(".concat(o,") no-repeat center"):"linear-gradient(270deg, #F38504 0%, #F9A938 100%)"}:"manual_tag"===i&&e?{color:e,"box-shadow":"inset 0 0 0 1px rgba(\n          ".concat(parseInt("0x"+e.slice(1,3)),",\n          ").concat(parseInt("0x"+e.slice(3,5)),",\n          ").concat(parseInt("0x"+e.slice(5,7)),",\n          0.4\n        )")}:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"iconSrc",{get:function(){var t=this.data,i=t.type,e=t.icon_src;switch(i){case"manual_tag":return e;case"platform_promo_code_tag":return"https://res.klook.com/image/upload/v1712803939/UED_new/Attraction/Attraction_tag_2404/Subtract.png";case"reward":return e||"https://res.klook.com/image/upload/v1661398434/qvekdumb9fv5vzfglegl.png"}},enumerable:!1,configurable:!0}),m([(0,o.Prop)({type:Object,default:function(){return null}})],i.prototype,"data",void 0),m([(0,o.Prop)({type:String,default:function(){return"small"}})],i.prototype,"size",void 0),i=m([o.Component],i)}(o.Vue),P=_({render:function(){var t=this.$createElement,i=this._self._c||t;return this.data?i("div",{class:"atomic-special-tag  atomic-special-tag-"+this.size+" special-"+this.data.type.replace(/_/g,"-"),style:this.tagStyle},["vertical_promo_tag"===this.data.type&&this.data.tag_text?i("span",{staticClass:"vertical-promo-tag-text",domProps:{innerHTML:this._s(this.formatPercent(this.data.tag_text))}}):this.iconSrc?i("img",{staticClass:"tag-icon",attrs:{src:this.iconSrc}}):this._e(),this._v(" "),i("div",{staticClass:"tag-content",domProps:{innerHTML:this._s(this.formatPercent(this.data.text))}})]):this._e()},staticRenderFns:[]},void 0,S,"data-v-ca5902ba",!1,void 0,!1,void 0,void 0,void 0),x=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return f(i,t),i.prototype.isSpecialTag=function(t){return t&&["reward","platform_promo_code_tag","vertical_promo_tag","manual_tag"].includes(t)},Object.defineProperty(i.prototype,"setStyle",{get:function(){var t="medium"===this.realSize?"24px":"20px",i=this.data,e=i.background_color_left,o=i.background_color_right,r=i.bg_color,a=i.line_color,s=i.text_color;return{height:t,lineHeight:t,border:a?"1px solid ".concat(a):"none",color:s,fontSize:"medium"===this.realSize?"14px":"12px",background:e&&o&&e!==o?"linear-gradient(to right, ".concat(e,", ").concat(o,")"):r||e}},enumerable:!1,configurable:!0}),m([(0,o.Prop)({type:Object,default:function(){return null}})],i.prototype,"data",void 0),i=m([(0,o.Component)({components:{AtomicSpecialTag:P}})],i)}(C),T=_({render:function(){var t=this.$createElement,i=this._self._c||t;return this.isSpecialTag(this.data.type)?i("AtomicSpecialTag",{attrs:{data:this.data,size:this.realSize}}):i("div",{staticClass:"atomic-basic-tag",style:this.setStyle},[this.data.icon_src?i("img",{staticClass:"tag-icon",attrs:{src:this.data.icon_src,alt:""}}):this._e(),this._v(" "),i("div",{staticClass:"tag-content"},[this._v(this._s(this.data.text))])])},staticRenderFns:[]},void 0,x,"data-v-37c7d013",!1,void 0,!1,void 0,void 0,void 0),z=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return f(i,t),Object.defineProperty(i.prototype,"realWebp",{get:function(){var t,i,e;return void 0!==this.webp?this.webp:(null===(e=null===(i=null===(t=this.$store)||void 0===t?void 0:t.state)||void 0===i?void 0:i.klook)||void 0===e?void 0:e.webp)||0},enumerable:!1,configurable:!0}),i.prototype.transformImageUrl=function(t){return a()(t,{webp:!!this.realWebp})||""},Object.defineProperty(i.prototype,"textStyle",{get:function(){return"overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: start; -webkit-line-clamp: ".concat(this.line,";")},enumerable:!1,configurable:!0}),m([(0,o.Prop)({type:String,default:function(){return""},required:!0})],i.prototype,"text",void 0),m([(0,o.Prop)({type:String,default:function(){return""}})],i.prototype,"icon",void 0),m([(0,o.Prop)({type:[String,Number],default:24})],i.prototype,"iconHeight",void 0),m([(0,o.Prop)({type:[Number,String],default:function(){return 0}})],i.prototype,"line",void 0),m([(0,o.Prop)({type:String,default:function(){return"div"}})],i.prototype,"tag",void 0),m([(0,o.Prop)({type:Array,default:function(){return[]}})],i.prototype,"className",void 0),m([(0,o.Prop)({type:Number,default:void 0})],i.prototype,"webp",void 0),m([(0,o.Prop)({type:String,default:function(){return""}})],i.prototype,"hrefLink",void 0),i=m([o.Component],i)}(o.Vue),D=_({render:function(){var t=this.$createElement,i=this._self._c||t;return this.text?i(this.tag,{tag:"component",class:this.className,style:this.textStyle},[this.icon?i("img",{style:"height: "+this.iconHeight+"px; margin-right: 2px; vertical-align: middle;",attrs:{src:this.transformImageUrl(this.icon),alt:this.icon}}):this._e(),this._v(" "),this.hrefLink?i("a",{attrs:{href:this.hrefLink},on:{click:function(t){t.preventDefault()}}},[this._v(this._s(this.text))]):[this._v(this._s(this.text))]],2):this._e()},staticRenderFns:[]},void 0,z,void 0,!1,void 0,!1,void 0,void 0,void 0),L=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return f(i,t),i.prototype.handleClick=function(){this.handlePropClick?this.handlePropClick():this.data.deep_link&&(window.location.href=this.data.deep_link)},m([(0,o.Prop)({type:Object,default:function(){return null}})],i.prototype,"data",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!0}})],i.prototype,"showNumber",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!0}})],i.prototype,"showBooked",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!1}})],i.prototype,"showUnderLine",void 0),m([(0,o.Prop)({type:String,default:function(){return"MoreReviews"}})],i.prototype,"propSpmItem",void 0),m([(0,o.Prop)({type:Function,default:function(){return null}})],i.prototype,"handlePropClick",void 0),i=m([(0,o.Component)({})],i)}(C),R=_({render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.data?e("div",{staticClass:"atomic-minimal-rating",class:"atomic-minimal-rating-size-"+t.realSize},[e("span",{staticClass:"review-star"},[t._v(t._s(t.data.star))]),t._v(" "),t.showNumber&&t.data.number?e("span",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:t.propSpmItem,componentName:"klook-card",autoTrackSpm:!0},expression:"{ spm: propSpmItem, componentName: 'klook-card', autoTrackSpm: true }"}],staticClass:"review-number",class:{"review-number-src":t.showUnderLine},attrs:{"data-spm-item":t.propSpmItem},on:{click:function(i){return i.stopPropagation(),t.handleClick(i)}}},[t._v("\n    "+t._s(t.data.number)+"\n  ")]):t._e(),t._v(" "),t.showBooked&&t.data.booked?e("span",{staticClass:"review-booked"},[t._v("\n    "+t._s(t.data.dot)+t._s(t.data.booked)+"\n  ")]):t._e()]):t._e()},staticRenderFns:[]},void 0,L,"data-v-f77f7d7a",!1,void 0,!1,void 0,void 0,void 0),$=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return f(i,t),i.prototype.getPrice=function(t,i){if(!(t&&i))return"";var e="",o=i.match(/\{[^}]+\}/);return o&&o[0]&&(e=i.replace(o[0],'<span class="price-number '.concat(this.highLightPrice?"high-light-price":"",'">\n            ').concat(t,"\n          </span>"))),e},m([(0,o.Prop)({type:Object,default:function(){return null}})],i.prototype,"data",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!1}})],i.prototype,"highLightPrice",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!0}})],i.prototype,"priceTagShow",void 0),i=m([(0,o.Component)({components:{AtomicBasicTag:T}})],i)}(C),F=_({render:function(){var t=this.$createElement,i=this._self._c||t;return this.data?i("div",{staticClass:"atomic-price-info",class:"atomic-price-info-size-"+this.realSize},[this.data.selling_price?i("div",{staticClass:"price-content"},[i("div",{staticClass:"sell-price",domProps:{innerHTML:this._s(this.getPrice(this.data.selling_price,this.data.selling_price_format))}}),this._v(" "),this.data.save_price?i("div",{staticClass:"save-price"},[this._v("\n      "+this._s(this.data.save_price)+"\n    ")]):this.data.market_price?i("div",{staticClass:"market-price",class:{"market-strike":!this.data.market_price_no_strike}},[this._v("\n      "+this._s(this.data.market_price)+"\n    ")]):this._e()]):this._e(),this._v(" "),this.data.discount_tag&&this.priceTagShow?i("AtomicBasicTag",{staticClass:"discount-tag-content",attrs:{data:this.data.discount_tag,size:"small"}}):this._e()],1):this._e()},staticRenderFns:[]},void 0,$,"data-v-2f595958",!1,void 0,!1,void 0,void 0,void 0);function j(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,o)}return e}function O(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?j(Object(e),!0).forEach(function(i){(function(t,i,e){i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e})(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):j(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}var I={data:function(){return{$colorTextReverse:n.qqS}},components:{IconCheckCircle:l.default},props:{wishlistTranslation:{type:Object,default:function(){return{poptipGotItBtn:"",poptipJumpBtn:"",poptipTitle:""}}},platform:"",relPoptipDom:null},computed:{formatUrl:function(){var t,i,e,o,r,a=(null===(t=window.$tetris)||void 0===t?void 0:null===(i=t.runtime)||void 0===i?void 0:i.language)||(null===(e=window.__KLOOK__)||void 0===e?void 0:null===(o=e.state)||void 0===o?void 0:null===(r=o.klook)||void 0===r?void 0:r.language)||"en";return"en"===a?"/wishlist/":"/".concat(a,"/wishlist/")}},methods:{show:function(){this.$refs.wishListPoptip.show()},hide:function(){this.$refs.wishListPoptip.hide()},wishListPoptipGot:function(){this.$refs.wishListPoptip.hide(),d().setItem("klk_wishListEnterClicked","true")},wishListPoptipJump:function(){this.wishListPoptipGot(),h()({url:this.formatUrl,target:"_blank"})}}},B=_({render:function(){var t=this.$createElement,i=this._self._c||t;return i("klk-poptip",{ref:"wishListPoptip",attrs:{trigger:"none","reference-el":this.relPoptipDom,offset:"mobile"===this.platform?[7,10]:[0,10],placement:"bottom-end",dark:"",fixed:!0,"z-index":9999,"append-to-body":!0}},[i("div",{staticClass:"wishlist-poptip",attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"title"},[i("IconCheckCircle",{staticStyle:{"margin-right":"12px"},attrs:{theme:"outline",size:"24",fill:this.$colorTextReverse}}),this._v(this._s(this.wishlistTranslation.poptipTitle))],1),this._v(" "),i("div",{staticClass:"btn"},[i("klk-button",{attrs:{size:"mini",type:"white-filled"},on:{click:this.wishListPoptipGot}},[this._v(this._s(this.wishlistTranslation.poptipGotItBtn))]),this._v(" "),i("klk-button",{attrs:{size:"mini",type:"white-outlined"},on:{click:this.wishListPoptipJump}},[this._v(this._s(this.wishlistTranslation.poptipJumpBtn))])],1)])])},staticRenderFns:[]},void 0,I,void 0,!1,void 0,!1,void 0,void 0,void 0),N={getFavoriteListData:"/v2/platformbffsrv/wishlist/ref_id/list",addFavorite:"/v4/usrcsrv/wishlist/add",cancelFavorite:"/v2/platformbffsrv/wishlist/favorites/joint/remove"},A=new o.Vue({data:function(){return{favoritePopTipShow:!1,favoriteRes:null,favoriteMap:{},loading:!1}},methods:{processArray:function(t){var i={};t.forEach(function(t){i["".concat(t.object_ref_id)]=!0}),this.favoriteMap=i},ajaxPostJSON:function(t,i){return window.$axios&&window.$axios.$post?(window.$axios.$post||window.$axios.post).bind(window.$axios)(t,i):console.error("window.$axios is required!!!")},ajaxGet:function(t,i){return window.$axios&&window.$axios.$get?(window.$axios.$get||window.$axios.get).bind(window.$axios)(t,i):console.error("window.$axios is required!!!")},getFavoriteList:function(){var t=this;return!this.favoriteRes&&(this.favoriteRes=new Promise(function(i,e){t.ajaxGet(N.getFavoriteListData).then(function(e){var o;t.processArray((null===(o=e.result)||void 0===o?void 0:o.object_list)||[]),i(t.favoriteMap)}).catch(function(t){e(t)})})),this.favoriteRes},toggleFavorite:function(t){var i=this;if(this.loading)return!1;var e=t.isFavorite?N.cancelFavorite:N.addFavorite;this.loading=!0;var o=O({},t),r=t.inst||this;return this.ajaxPostJSON(e,O({},t.params)).then(function(e){if(i.loading=!1,e.success)i.$set(i.favoriteMap,t.favoriteKey,!t.isFavorite),"true"!==d().getItem("klk_wishListEnterClicked")&&!i.favoritePopTipShow&&!t.isFavorite&&(i.initPopTip(t),i.favoritePopTipShow=!0),r.$emit("favoriteClick",O(O({},o),{},{result:e,isFavorite:!t.isFavorite,status:"success"}));else{var a,s;["05102","05103"].includes(null===(a=e.error)||void 0===a?void 0:a.code)?(i.$set(i.favoriteMap,t.favoriteKey,!t.isFavorite),i.$toast(t.wishlistTranslation.errorCode),r.$emit("favoriteClick",O(O({},o),{},{result:e,isFavorite:!t.isFavorite,status:"success"}))):(i.$toast(null===(s=e.error)||void 0===s?void 0:s.message),r.$emit("favoriteClick",O(O({},o),{},{result:e,isFavorite:t.isFavorite,status:"fail"})))}return e}).catch(function(t){return i.loading=!1,i.$toast(t.message),t})},initPopTip:function(t){if(!t.relPoptipDom)return!1;var i=new(o.Vue.extend({components:{wishListPopTip:B},name:"FavoritePopTipComponent",data:function(){return{}},methods:{show:function(){this.$refs.pop.show()},hide:function(){this.$refs.pop.hide()}},render:function(i){return i("wishListPopTip",{props:O({},t),ref:"pop"})}}))().$mount();document.body.appendChild(i.$el),i.$nextTick(function(){i.show()})}}}),W=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.clickFavoriteBtnToLogin=!1,i}return f(i,t),Object.defineProperty(i.prototype,"platform",{get:function(){var t,i,e,o,r;return(null===(i=null===(t=this.$tetris)||void 0===t?void 0:t.runtime)||void 0===i?void 0:i.platform)||(null===(r=null===(o=null===(e=this.$store)||void 0===e?void 0:e.state)||void 0===o?void 0:o.klook)||void 0===r?void 0:r.platform)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isLoggedIn",{get:function(){var t,i,e,o,r,a;return this.$tetris?null===(e=null===(i=null===(t=this.$tetris)||void 0===t?void 0:t.store)||void 0===i?void 0:i.state)||void 0===e?void 0:e.isLogin:null===(a=null===(r=null===(o=this.$store)||void 0===o?void 0:o.state)||void 0===r?void 0:r.auth)||void 0===a?void 0:a.isLoggedIn},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"favoriteKey",{get:function(){var t,i;return"act-".concat(null===(t=this.favoriteData)||void 0===t?void 0:t.activityType,":").concat(null===(i=this.favoriteData)||void 0===i?void 0:i.activityId)||""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isFavorite",{get:function(){return!!A.favoriteMap[this.favoriteKey]},enumerable:!1,configurable:!0}),i.prototype.login=function(t,i){var o,r,a,s,n;return y(this,void 0,void 0,function(){var l=this;return k(this,function(c){switch(c.label){case 0:if(!(this.$cookies&&this.$store&&this.$store&&this.$href))return[3,2];return[4,Promise.all([e.e("69732"),e.e("19833"),e.e("99015"),e.e("45926"),e.e("22875"),e.e("66455")]).then(e.bind(e,92593))];case 1:return(0,c.sent().loginWithSDK)({aid:this.$cookies.get("aid"),isMP:(null===(o=this.$store.state.klook)||void 0===o?void 0:o.platformMp)!=="",platform:null===(r=this.$store.state.klook)||void 0===r?void 0:r.platform,language:null===(a=this.$store.state.klook)||void 0===a?void 0:a.language,currency:null===(s=this.$store.state.klook)||void 0===s?void 0:s.currency,market:null===(n=this.$store.state.klook)||void 0===n?void 0:n.market,bizName:i||"Platform",purpose:t,cancel:function(){},success:function(){l.$store.dispatch("auth/getProfile")}}).then(function(t){!t&&(window.location.href=l.$href("/signin/?signin_jump=".concat(encodeURIComponent(window.location.href))))}),[3,3];case 2:console.error("need this.$cookies && this.klook && this.$store && this.$href"),c.label=3;case 3:return[2]}})})},i.prototype.tetrisLogin=function(t,i){return y(this,void 0,void 0,function(){return k(this,function(e){return this.$tetris.util.$login({purpose:t,bizName:i}),[2]})})},i.prototype.toggleFavorite=function(){var t="function"==typeof this.getBizSpecialParams?this.getBizSpecialParams():{},i=g({object_type:"act-".concat(this.favoriteData.activityType),object_id:this.favoriteData.activityId},t);A.toggleFavorite(g(g({},this.favoriteData),{inst:this,isFavorite:this.isFavorite,favoriteKey:this.favoriteKey,params:i,wishlistTranslation:this.wishlistTranslation,platform:this.platform,relPoptipDom:this.poptipDom?document.querySelector(this.poptipDom):null}))},i.prototype.handleFavoriteClick=function(){return y(this,void 0,void 0,function(){var t;return k(this,function(t){switch(t.label){case 0:if(this.isLoggedIn)return[3,5];if(this.clickFavoriteBtnToLogin=!0,!this.$tetris)return[3,2];return[4,this.tetrisLogin(this.purpose,this.bizName)];case 1:return t.sent(),[3,4];case 2:return[4,this.login(this.purpose,this.bizName)];case 3:t.sent(),t.label=4;case 4:return[3,6];case 5:this.toggleFavorite(),t.label=6;case 6:return[2]}})})},i.prototype.mounted=function(){return y(this,void 0,void 0,function(){var t,i=this;return k(this,function(e){return t=this,this.isLoggedIn?A.getFavoriteList():this.$watch(function(){return i.isLoggedIn},function(i,e){if(i){var o=A.getFavoriteList();i&&o&&o.then(function(i){t.clickFavoriteBtnToLogin&&!t.isFavorite&&t.toggleFavorite()})}}),[2]})})},m([(0,o.Prop)({type:Object,default:function(){return null}})],i.prototype,"favoriteData",void 0),m([(0,o.Prop)({type:String,default:function(){return""},required:!0})],i.prototype,"purpose",void 0),m([(0,o.Prop)({type:String,default:function(){return""}})],i.prototype,"bizName",void 0),m([(0,o.Prop)({type:String,default:function(){return""}})],i.prototype,"poptipDom",void 0),m([(0,o.Prop)({type:Object,default:function(){return null},required:!0})],i.prototype,"wishlistTranslation",void 0),m([(0,o.Prop)({type:Function,default:function(){return{}}})],i.prototype,"getBizSpecialParams",void 0),i=m([(0,o.Component)({})],i)}(C),M=_({render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.favoriteData?e("div",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"AddToFavorite",componentName:"klook-card",autoTrackSpm:!0},expression:"{ spm: 'AddToFavorite', componentName: 'klook-card', autoTrackSpm: true }"}],class:"favorite-tag-"+t.realSize,attrs:{"data-spm-item":"AddToFavorite?mod=stop&ext="+JSON.stringify({ClickType:t.isFavorite?"cut":"add"})},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.handleFavoriteClick(i)}}},[t._t("default",[e("svg",{directives:[{name:"show",rawName:"v-show",value:!t.isFavorite,expression:"!isFavorite"}],attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.9979 21.5C6.83695 18.5141 1.56054 14.3057 1.50051 8.7407C1.50017 8.7146 1.5 8.6884 1.5 8.6622L1.50001 8.6551L1.5 8.6448C1.50912 5.52565 3.96624 3 6.9959 3C9.21955 3 11.1348 4.36055 12 6.31775C12.8652 4.36055 14.7805 3 17.0041 3C20.0394 3 22.5 5.53505 22.5 8.6622C22.5 8.756 22.4978 8.8492 22.4934 8.94185H22.4959C22.4959 14.4555 17.1884 18.5894 11.9979 21.5Z",fill:"black","fill-opacity":"0.38",stroke:"white","stroke-width":"1.8","stroke-linejoin":"round"}})]),t._v(" "),e("svg",{directives:[{name:"show",rawName:"v-show",value:t.isFavorite,expression:"isFavorite"}],attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.9979 21.5C6.83695 18.5141 1.56054 14.3057 1.50051 8.7407C1.50017 8.7146 1.5 8.6884 1.5 8.6622L1.50001 8.6551L1.5 8.6448C1.50912 5.52565 3.96624 3 6.9959 3C9.21955 3 11.1348 4.36055 12 6.31775C12.8652 4.36055 14.7805 3 17.0041 3C20.0394 3 22.5 5.53505 22.5 8.6622C22.5 8.756 22.4978 8.8492 22.4934 8.94185H22.4959C22.4959 14.4555 17.1884 18.5894 11.9979 21.5Z",fill:"#FF5B00",stroke:"white","stroke-width":"1.8","stroke-linejoin":"round"}})])],{isFavorite:t.isFavorite})],2):t._e()},staticRenderFns:[]},void 0,W,"data-v-4d6c0af4",!1,void 0,!1,void 0,void 0,void 0),E={backgroundColor:{modern:"transparent",default:"#ffffff"},isFlowLayout:{modern:1,default:0},hoverStyle:{modern:"imageZoomIn",default:"shadow"},border:{modern:"none",default:"solid 1px #e0e0e0"},horizontal:{boxRadius:{modern:"",default:"radius-xl"},imgRadius:{modern:"radius-l",default:"radius-l"}},vertical:{boxRadius:{modern:"radius-xl",default:"radius-xl"},imgRadius:{modern:"radius-xl",default:null}}},U=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.cardSize=i.size,i}return f(i,t),i.prototype.sizeHandle=function(t){this.cardSize=t},Object.defineProperty(i.prototype,"realDataSpmModule",{get:function(){if(""===this.dataSpmModule)return"";if(!this.isFavoriteShow)return this.dataSpmModule;var t,i,e=this.dataSpmModule.split("?"),o=new URLSearchParams(e[1]),r=JSON.parse(o.get("ext"))||{};return r.favoriteStatus=!!A.favoriteMap["act-".concat(null===(t=this.cardData)||void 0===t?void 0:t.vertical_type,":").concat(null===(i=this.cardData)||void 0===i?void 0:i.vertical_id)],o.set("ext",JSON.stringify(r)),"".concat(e[0],"?").concat(o.toString())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cardTag",{get:function(){return this.isSeoCard?"div":"a"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cardAttrs",{get:function(){var t;return this.isSeoCard?{}:{href:null===(t=this.cardData)||void 0===t?void 0:t.deep_link,target:this.target}},enumerable:!1,configurable:!0}),i.prototype.getStyleType=function(t,i){if(void 0!==this.$props[t])return this.$props[t];var e=i?E[i]:E[t];return i?e[t]&&e[t][this.styleType]:e[this.styleType]},i.prototype.favoriteClick=function(t){this.$emit("favoriteClick",t)},i.prototype.cardClick=function(){var t;this.isSeoCard&&(null===(t=this.cardData)||void 0===t?void 0:t.deep_link)&&h()({url:this.cardData.deep_link,target:this.target})},Object.defineProperty(i.prototype,"realSize",{get:function(){return this.size||"medium"},enumerable:!1,configurable:!0}),m([(0,o.Prop)({type:String})],i.prototype,"size",void 0),m([(0,o.Prop)({type:Object,default:function(){}})],i.prototype,"cardData",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!0}})],i.prototype,"isLazy",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!1}})],i.prototype,"priceTagShow",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!0}})],i.prototype,"isCrop",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!0}})],i.prototype,"isShowReviewNumber",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!0}})],i.prototype,"isShowReviewBooked",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!1}})],i.prototype,"isLoading",void 0),m([(0,o.Prop)({type:Number})],i.prototype,"isFlowLayout",void 0),m([(0,o.Prop)({type:Number,default:function(){}})],i.prototype,"webp",void 0),m([(0,o.Prop)({type:[Number,String]})],i.prototype,"rank",void 0),m([(0,o.Prop)({type:String,default:function(){return"default"}})],i.prototype,"styleType",void 0),m([(0,o.Prop)({type:String,default:function(){return"_blank"}})],i.prototype,"target",void 0),m([(0,o.Prop)({type:String})],i.prototype,"hoverStyle",void 0),m([(0,o.Prop)({type:Number,default:function(){return 1}})],i.prototype,"subTextLine",void 0),m([(0,o.Prop)({type:Number,default:function(){return 2}})],i.prototype,"titleLine",void 0),m([(0,o.Prop)({type:String,default:function(){return"div"}})],i.prototype,"titleTag",void 0),m([(0,o.Prop)({type:Number,default:function(){return 2}})],i.prototype,"descLine",void 0),m([(0,o.Prop)({type:String,default:function(){return"#757575"}})],i.prototype,"subTextColor",void 0),m([(0,o.Prop)({type:String})],i.prototype,"backgroundColor",void 0),m([(0,o.Prop)({type:String})],i.prototype,"imgRadius",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!1}})],i.prototype,"isFavoriteShow",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!1}})],i.prototype,"isFavorite",void 0),m([(0,o.Prop)({type:String,default:function(){return""}})],i.prototype,"dataSpmModule",void 0),m([(0,o.Prop)({type:String,default:function(){return""}})],i.prototype,"poptipDom",void 0),m([(0,o.Prop)({type:Object,default:function(){return null}})],i.prototype,"wishlistTranslation",void 0),m([(0,o.Prop)({type:Boolean,default:function(){return!1}})],i.prototype,"isSeoCard",void 0),m([(0,o.Prop)({type:Object,default:function(){return{}}})],i.prototype,"imgProps",void 0),m([(0,o.Prop)({type:String,default:""})],i.prototype,"klookImgRatio",void 0),m([(0,o.Prop)({type:String,default:""})],i.prototype,"klookImgScene",void 0),m([(0,o.Provide)()],i.prototype,"cardSize",void 0),m([(0,o.Watch)("size")],i.prototype,"sizeHandle",null),i=m([(0,o.Component)({inject:[],components:{KlkSkeleton:u.default,AtomicAspectRatio:w,AtomicBasicText:D,AtomicBasicTag:T,AtomicPriceInfo:F,AtomicMinimalRating:R,AtomicFavorite:M}})],i)}(o.Vue),H=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return f(i,t),Object.defineProperty(i.prototype,"getImageWidth",{get:function(){return this.imageWidth?this.imageWidth:"small"===this.realSize?"96":"164"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"setCropW",{get:function(){if(!this.isCrop)return null;if(!this.cropWidth)return"small"===this.realSize?200:300;return 2*this.cropWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"setCropH",{get:function(){return this.setCropW?Math.round(this.setCropW/this.imgRatio):null},enumerable:!1,configurable:!0}),m([(0,o.Prop)({type:Number,default:function(){return 1}})],i.prototype,"imgRatio",void 0),m([(0,o.Prop)({type:Number})],i.prototype,"imageWidth",void 0),m([(0,o.Prop)({type:Number})],i.prototype,"cropWidth",void 0),m([(0,o.Prop)({type:String,default:function(){return"default"}})],i.prototype,"hzPosition",void 0),i=m([o.Component],i)}(U),q=_({render:function(){var t=this.$createElement,i=this._self._c||t;return this.isLoading?i("klk-skeleton",{class:["horizontal-card","horizontal-card-"+this.realSize,this.styleType,"hz-"+this.hzPosition,this.getStyleType("boxRadius","horizontal")],style:{backgroundColor:this.getStyleType("backgroundColor"),border:this.getStyleType("border")},attrs:{animate:""}},[i("div",{staticClass:"card-img",class:this.getStyleType("imgRadius","horizontal"),style:{width:this.getImageWidth+"px"}},[i("klk-skeleton-block",{style:{paddingBottom:1/this.imgRatio*100+"%"},attrs:{height:0}})],1),this._v(" "),i("div",{staticClass:"card-info",class:[!this.getStyleType("isFlowLayout")&&"notFlowLayout"]},[i("div",{staticClass:"card-info-top"},[i("klk-skeleton-block",{staticClass:"card-subText",attrs:{height:18*this.subTextLine}}),this._v(" "),i("klk-skeleton-block",{staticClass:"card-title",attrs:{height:20*this.titleLine}}),this._v(" "),i("klk-skeleton-block",{staticClass:"review",staticStyle:{width:"80%"},attrs:{height:16}}),this._v(" "),i("div",{staticClass:"general-tag"},[i("klk-skeleton-block",{staticClass:"tag",attrs:{inline:"",width:72}}),this._v(" "),i("klk-skeleton-block",{staticClass:"tag",attrs:{inline:"",width:72}}),this._v(" "),i("klk-skeleton-block",{staticClass:"tag",attrs:{inline:"",width:72}})],1)],1),this._v(" "),i("div",{staticClass:"card-price-bottom"},[i("klk-skeleton-block",{staticStyle:{width:"70%"}})],1)])]):this.cardData&&!this.isLoading?i(this.cardTag,this._b({tag:"component",class:["horizontal-card","horizontal-card-"+this.realSize,this.styleType,"hz-"+this.hzPosition,this.getStyleType("boxRadius","horizontal"),this.getStyleType("hoverStyle")],style:{backgroundColor:this.getStyleType("backgroundColor"),border:this.getStyleType("border")},attrs:{"data-spm-module":this.realDataSpmModule},on:{click:this.cardClick}},"component",this.cardAttrs,!1),[this.cardData.cover_url?i("div",{staticClass:"card-img",style:{width:this.getImageWidth+"px"}},[i("AtomicAspectRatio",{staticClass:"card-image-view",class:this.getStyleType("imgRadius","horizontal"),attrs:{"is-lazy":this.isLazy,webp:this.webp,"img-src":this.cardData.cover_url,"img-ratio":this.imgRatio,"klook-img-ratio":this.klookImgRatio,"klook-img-scene":this.klookImgScene,"crop-width":this.setCropW,"crop-height":this.setCropH,disabled:this.cardData.sold_out,"class-name":"img","is-img-tag":this.isSeoCard,"img-props":Object.assign({},{alt:this.cardData.title},this.imgProps)}},[this._t("default",[this.isFavoriteShow?i("AtomicFavorite",{key:"favorite-tag",staticClass:"favorite-tag",attrs:{"favorite-data":{activityId:this.cardData.vertical_id+"",activityType:this.cardData.vertical_type+""},"poptip-dom":this.poptipDom,"wishlist-translation":this.wishlistTranslation,purpose:"ActivityCard_AddtoWishlist"},on:{favoriteClick:this.favoriteClick}}):this.cardData.showVideo?i("div",{staticClass:"video"},[i("img",{attrs:{src:"https://res.klook.com/image/upload/v1658980469/bwnro6n3m505nfcvnwht.png",alt:"video"}})]):this._e(),this._v(" "),this.rank?i("klk-corner-label",{staticClass:"rank",attrs:{type:"rank"}},[this._v(this._s(this.rank))]):this._e(),this._v(" "),i("div",{staticClass:"image-bottom-slot"},[this._t("image-bottom-slot")],2)])],2)],1):this._e(),this._v(" "),i("div",{staticClass:"card-info",class:[!this.getStyleType("isFlowLayout")&&"notFlowLayout"]},[i("div",{staticClass:"card-info-top"},[this.cardData.promotion_tag&&this.cardData.promotion_tag.length?i("div",{staticClass:"promotion-tag"},this._l(this.cardData.promotion_tag||[],function(t,e){return i("AtomicBasicTag",{key:e,staticClass:"tag",attrs:{data:t,size:"small"}})}),1):this._e(),this._v(" "),i("AtomicBasicText",{style:{color:this.subTextColor},attrs:{"class-name":["card-subText"],text:this.cardData.sub_title||"",line:this.subTextLine}}),this._v(" "),i("AtomicBasicText",{attrs:{"class-name":["card-title"],text:this.cardData.title||"",webp:this.webp,icon:this.cardData.title_image,"icon-height":18,line:this.titleLine,tag:this.titleTag,"href-link":this.isSeoCard?this.cardData.deep_link:""}}),this._v(" "),this.cardData.general_tag&&this.cardData.general_tag.length?i("div",{staticClass:"general-tag"},this._l(this.cardData.general_tag||[],function(t,e){return i("AtomicBasicTag",{key:e,staticClass:"tag",attrs:{data:t,size:"small"}})}),1):this._e(),this._v(" "),i("AtomicMinimalRating",{staticClass:"review",attrs:{data:this.cardData.review,"show-number":this.isShowReviewNumber,"show-booked":this.isShowReviewBooked}}),this._v(" "),this.cardData.description?i("div",{staticClass:"description"},[i("AtomicBasicText",{attrs:{text:this.cardData.description||"",line:this.descLine}})],1):this._e(),this._v(" "),this._t("content-product-slot")],2),this._v(" "),i("div",{staticClass:"card-price-bottom"},[i("div",{staticClass:"card-price"},[i("div",{staticClass:"card-price-content"},[i("AtomicPriceInfo",{attrs:{data:this.cardData.price,"price-tag-show":this.priceTagShow}}),this._v(" "),!this.cardData.sold_out&&this.cardData.promo_tag_list&&this.cardData.promo_tag_list.length>0?i("div",{staticClass:"card-price-tag-list"},this._l(this.cardData.promo_tag_list||[],function(t,e){return i("AtomicBasicTag",{key:e,staticClass:"tag",attrs:{data:t,size:"small"}})}),1):this._e()],1),this._v(" "),this._t("content-price-right-slot")],2),this._v(" "),this._t("content-price-slot")],2)])]):this._e()},staticRenderFns:[]},void 0,H,"data-v-6b8f943c",!1,void 0,!1,void 0,void 0,void 0),K=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return f(i,t),Object.defineProperty(i.prototype,"setCropH",{get:function(){return this.isCrop?Math.round(this.cropWidth/this.imgRatio)+"":null},enumerable:!1,configurable:!0}),m([(0,o.Prop)({type:Number,default:function(){return 1.5}})],i.prototype,"imgRatio",void 0),m([(0,o.Prop)({type:Number})],i.prototype,"cropWidth",void 0),i=m([o.Component],i)}((0,o.Mixins)(U)),V=_({render:function(){var t=this.$createElement,i=this._self._c||t;return this.isLoading?i("klk-skeleton",{class:["vertical-card","vertical-card-"+this.realSize,this.styleType,this.getStyleType("boxRadius","vertical")],style:{backgroundColor:this.getStyleType("backgroundColor"),border:this.getStyleType("border")},attrs:{animate:""}},[i("div",{staticClass:"card-img card-img-skeleton",class:this.getStyleType("imgRadius","vertical")},[i("klk-skeleton-block",{style:{paddingBottom:1/this.imgRatio*100+"%"},attrs:{height:0}})],1),this._v(" "),i("div",{staticClass:"card-info",class:[!this.getStyleType("isFlowLayout")&&"notFlowLayout"]},[i("div",{staticClass:"card-info-top"},[i("klk-skeleton-block",{staticClass:"card-subText",attrs:{height:18*this.subTextLine}}),this._v(" "),i("klk-skeleton-block",{staticClass:"card-title",attrs:{height:20*this.titleLine}}),this._v(" "),i("klk-skeleton-block",{staticClass:"review",staticStyle:{width:"80%"},attrs:{height:16}}),this._v(" "),i("div",{staticClass:"general-tag"},[i("klk-skeleton-block",{staticClass:"tag",attrs:{inline:"",width:72}}),this._v(" "),i("klk-skeleton-block",{staticClass:"tag",attrs:{inline:"",width:72}}),this._v(" "),i("klk-skeleton-block",{staticClass:"tag",attrs:{inline:"",width:72}})],1)],1),this._v(" "),i("div",{staticClass:"card-info-bottom"},[i("klk-skeleton-block",{staticStyle:{width:"70%"}})],1)])]):this.cardData&&!this.isLoading?i(this.cardTag,this._b({tag:"component",class:["vertical-card","vertical-card-"+this.realSize,this.styleType,this.getStyleType("boxRadius","vertical"),this.getStyleType("hoverStyle")],style:{backgroundColor:this.getStyleType("backgroundColor"),border:this.getStyleType("border")},attrs:{"data-spm-module":this.realDataSpmModule},on:{click:this.cardClick}},"component",this.cardAttrs,!1),[this.cardData.cover_url?i("div",{staticClass:"card-img"},[i("AtomicAspectRatio",{staticClass:"card-image-view",class:this.getStyleType("imgRadius","vertical"),attrs:{"is-lazy":this.isLazy,webp:this.webp,"img-src":this.cardData.cover_url,"img-ratio":this.imgRatio,"klook-img-ratio":this.klookImgRatio,"klook-img-scene":this.klookImgScene,"crop-width":2*this.cropWidth,"crop-height":2*this.setCropH,disabled:this.cardData.sold_out,"class-name":"img","is-img-tag":this.isSeoCard,"img-props":Object.assign({},{alt:this.cardData.title},this.imgProps)}},[this._t("default",[this.isFavoriteShow?i("AtomicFavorite",{key:"favorite-tag",staticClass:"favorite-tag",attrs:{purpose:"ActivityCard_AddtoWishlist","poptip-dom":this.poptipDom,"favorite-data":{activityId:this.cardData.vertical_id+"",activityType:this.cardData.vertical_type+""},"wishlist-translation":this.wishlistTranslation},on:{favoriteClick:this.favoriteClick}}):this._e(),this._v(" "),!this.isFavoriteShow&&this.cardData.showVideo?i("div",{key:"video",staticClass:"video"},[i("img",{attrs:{src:"https://res.klook.com/image/upload/v1658980469/bwnro6n3m505nfcvnwht.png",alt:"video"}})]):this._e(),this._v(" "),this.cardData.promotion_tag&&this.cardData.promotion_tag.length?i("div",{key:"promotion_tag",staticClass:"promotion-tag"},this._l(this.cardData.promotion_tag||[],function(t,e){return i("AtomicBasicTag",{key:e,staticClass:"tag",attrs:{data:t,size:"small"}})}),1):this._e(),this._v(" "),this.rank?i("klk-corner-label",{key:"video",staticClass:"rank",attrs:{type:"rank"}},[this._v(this._s(this.rank))]):this._e(),this._v(" "),i("div",{staticClass:"image-bottom-slot"},[this._t("image-bottom-slot")],2)])],2)],1):this._e(),this._v(" "),i("div",{staticClass:"card-info",class:[!this.getStyleType("isFlowLayout")&&"notFlowLayout"]},[i("div",{staticClass:"card-info-top"},[i("AtomicBasicText",{style:{color:this.subTextColor},attrs:{"class-name":["card-subText"],text:this.cardData.sub_title||"",line:this.subTextLine}}),this._v(" "),i("AtomicBasicText",{attrs:{"class-name":["card-title"],text:this.cardData.title||"",webp:this.webp,icon:this.cardData.title_image,"icon-height":18,line:this.titleLine,tag:this.titleTag,"href-link":this.isSeoCard?this.cardData.deep_link:""}}),this._v(" "),this.cardData.general_tag&&this.cardData.general_tag.length?i("div",{staticClass:"general-tag"},this._l(this.cardData.general_tag||[],function(t,e){return i("AtomicBasicTag",{key:e,staticClass:"tag",attrs:{data:t,size:"small"}})}),1):this._e(),this._v(" "),i("AtomicMinimalRating",{staticClass:"review",attrs:{data:this.cardData.review,"show-number":this.isShowReviewNumber,"show-booked":this.isShowReviewBooked}}),this._v(" "),this.cardData.description?i("div",{staticClass:"description"},[i("AtomicBasicText",{attrs:{text:this.cardData.description||"",line:this.descLine}})],1):this._e(),this._v(" "),this._t("content-product-slot")],2),this._v(" "),i("div",{staticClass:"card-info-bottom"},[i("AtomicPriceInfo",{attrs:{data:this.cardData.price,"price-tag-show":this.priceTagShow}}),this._v(" "),!this.cardData.sold_out&&this.cardData.promo_tag_list&&this.cardData.promo_tag_list.length>0?i("div",{staticClass:"card-price-tag-list"},this._l(this.cardData.promo_tag_list||[],function(t,e){return i("AtomicBasicTag",{key:e,staticClass:"tag",attrs:{data:t,size:"small"}})}),1):this._e(),this._v(" "),this._t("content-price-slot")],2)])]):this._e()},staticRenderFns:[]},void 0,K,"data-v-33741a10",!1,void 0,!1,void 0,void 0,void 0)},810:function(t,i,e){var o=e(31632).IconWrapper("icon-check-circle",!1,(t,i)=>t("svg",{attrs:{width:i.size,height:i.size,viewBox:"0 0 48 48",fill:"none"}},[t("circle",{attrs:{cx:"24",cy:"24",r:"21",fill:i.colors[1],stroke:i.colors[0],"stroke-width":i.strokeWidth}}),t("path",{attrs:{d:"M15 24L21.364 30.364L32.6777 19.0503",stroke:i.colors[2],"stroke-width":i.strokeWidth,"stroke-linecap":i.strokeLinecap,"stroke-linejoin":i.strokeLinejoin}})]));i.default=o},80170:function(t,i,e){var o,r=e(74023),a=e(56090),s=e(84253);e(18991),e(20144);var n=r.normalizeComponent({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"klk-skeleton",class:[this.cClass,"klk-skeleton-"+this.mode]},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"klk-skeleton",props:{animate:Boolean,mode:{type:String,default:"light"}},computed:{cClass:function(){return{"klk-skeleton-animate":this.animate}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),l=r.normalizeComponent({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"klk-skeleton-comp klk-skeleton-circle",style:this.cStyle})},staticRenderFns:[]},void 0,{name:"klk-skeleton-circle",props:{size:{type:Number,default:60}},computed:{cStyle:function(){return{width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),borderRadius:"".concat(this.size/2,"px")}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),c=r.normalizeComponent({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"klk-skeleton-comp klk-skeleton-block",style:this.cStyle})},staticRenderFns:[]},void 0,{name:"klk-skeleton-block",props:{inline:Boolean,width:{type:[Number,String]},height:{type:[Number,String],default:26},radiusSize:{type:String,default:"min"}},computed:{cStyle:function(){var t={};return this.inline&&(t.display="inline-block",t["vertical-align"]="top"),this.width&&(t.width=isNaN(this.width)?this.width:this.width+"px"),this.height&&(t.paddingBottom=a.parseWidth(this.height)),t.borderRadius="min"===this.radiusSize?"6px":"8px",t}}},void 0,!1,void 0,!1,void 0,void 0,void 0),d=r.normalizeComponent({render:function(){var t=this.$createElement,i=this._self._c||t;return this.calcData?i(this.getEl(this.calcData.el),this._b({tag:"component",staticClass:"klk-skeleton-data"},"component",this.calcData,!1),[this.calcData.children&&this.calcData.children.length?this._l(this.getChildrenList(this.calcData),function(t,e){return i("klk-skeleton-data",{key:e,attrs:{data:t}})}):this._e()],2):this._e()},staticRenderFns:[]},void 0,{name:"klk-skeleton-data",components:{Skeleton:n,SkeletonCircle:l,SkeletonBlock:c},props:{data:{type:Object,default:null}},data:function(){return{nameMaps:{skeleton:"skeleton",circle:"skeleton-circle",block:"skeleton-block",default:"div"}}},computed:{calcData:function(){return this.data}},methods:{getEl:function(t){var i=this.nameMaps;return t&&i[t]||i.default},getChildrenList:function(t){var i=t.children,e=t.vfor,o=void 0===e?1:e;if(o<=1)return i;for(var r=[],a=0;a<o;a++)r.push.apply(r,s._toConsumableArray(i));return r}}},void 0,!1,void 0,!1,void 0,void 0,void 0);n.install=function(t){t.component(n.name,n),t.component(l.name,l),t.component(c.name,c),t.component(d.name,d)};i.default=n},18382:function(){}}]);