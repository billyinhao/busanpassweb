/*! For license information please see LICENSES */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="04e25185-b7c9-482f-bd08-a9771f9586ed",e._sentryDebugIdIdentifier="sentry-dbid-04e25185-b7c9-482f-bd08-a9771f9586ed")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"2e6dc9cb36ef0caa216f8281aaa6be6de5affe09"},(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1057:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1052).IconWrapper("icon-next",!0,(e,t)=>e("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"}},[e("path",{attrs:{d:"M17 8L35 24L26 32L17 40",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin}})]));t.default=r},1170:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1052).IconWrapper("icon-warn-circle",!1,(e,t)=>e("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"}},[e("path",{attrs:{d:"M24 45C35.598 45 45 35.598 45 24C45 12.402 35.598 3 24 3C12.402 3 3 12.402 3 24C3 35.598 12.402 45 24 45Z",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth}}),e("path",{attrs:{d:"M24 22.8L24 33.6",stroke:t.colors[2],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap}}),e("circle",{attrs:{cx:"24.0001",cy:"15.6",r:"2.4",fill:t.colors[2]}})]));t.default=r},1316:function(e,t,o){"use strict";o.d(t,"a",(function(){return z}));var r=o(13),n=o(400),l=o(1056),c=o.n(l);function d(e,t,o,desc){var r,n=arguments.length,l=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(n<3?r(l):n>3?r(t,o,l):r(t,o))||l);return n>3&&l&&Object.defineProperty(t,o,l),l}const h="undefined"==typeof window;if(!h){const e=o(390);r.Vue.use(e)}r.Vue.use(n.a,{adapter:{loaded(e){var t,o,r;const n=e.el,l=n.getAttribute("ratio");if(!h&&l){const e=(null===(t=null==n?void 0:n.querySelector)||void 0===t?void 0:t.call(n,".v-lazy-logo"))||(null===(r=null===(o=n.parentElement)||void 0===o?void 0:o.querySelector)||void 0===r?void 0:r.call(o,".v-lazy-logo"));e&&(e.style.display="none")}}},error:"https://res.klook.com/image/upload/image_logo_mx7wgd.png"});class v extends r.Vue{get realFieldKey(){return Object.assign(Object.assign({},{img_url:"img_url",img_resize_url:"img_resize_url",width:"width",height:"height"}),this.fieldKey)}translateI18n(e,...t){return this.localesTranslate()(e,...t)}}function f(){const e=[],t=[];function o(e,t){e.forEach(e=>{e(t)})}this.onSingleTap=function(t){"function"!=typeof t||e.includes(t)||e.push(t)},this.onDoubleTap=function(e){"function"!=typeof e||t.includes(e)||t.push(e)},this.attach=function(e){e instanceof Element&&(e.addEventListener("touchstart",v),e.addEventListener("touchmove",m),e.addEventListener("touchend",f),e.addEventListener("mousedown",y),e.addEventListener("mouseup",w),e.addEventListener("mousemove",_))},this.detach=function(e){e.removeEventListener("touchstart",v),e.removeEventListener("touchmove",m),e.removeEventListener("touchend",f),e.removeEventListener("mousedown",y),e.removeEventListener("mouseup",w),e.removeEventListener("mousemove",_)};let r=!1,n=0,l=0,c=0,d=0,h=0;function v(e){r=!0,1===e.touches.length&&k(e.touches[0].clientX,e.touches[0].clientY)}function f(e){0===e.touches.length&&x()}function m(e){1===e.touches.length&&C(e.touches[0].clientX,e.touches[0].clientY)}function y(e){r||k(e.clientX,e.clientY)}function w(){r||x()}function _(e){r||0===e.button&&C(e.clientX,e.clientY)}function k(e,t){d=e,h=t,c=0}function x(){const r=Date.now();c<10&&(r-n<300?l+=1:l=1,n=Date.now(),o(e,{clientX:d,clientY:h}),2===l&&(o(t,{clientX:d,clientY:h}),l=0)),c=0}function C(e,t){const o=d-e,r=h-t,n=Math.sqrt(o*o+r*r);c+=n,d=e,h=t}}d([Object(r.Prop)({default:()=>[]})],v.prototype,"images",void 0),d([Object(r.Prop)({type:String,default:""})],v.prototype,"title",void 0),d([Object(r.Prop)({type:Number,default:0})],v.prototype,"initIndex",void 0),d([Object(r.Prop)({default:()=>()=>{}})],v.prototype,"localesTranslate",void 0),d([Object(r.Prop)({type:Boolean,default:!0})],v.prototype,"showClose",void 0),d([Object(r.Prop)({type:Object,default:()=>({img_url:"img_url",img_resize_url:"img_resize_url",width:"width",height:"height"})})],v.prototype,"fieldKey",void 0);var m={props:{minScale:{type:Number,default:1},maxScale:{type:Number,default:5},zoomed:{type:Boolean,default:!1},resetTrigger:{type:Number,default:1e5},aspectRatio:{type:Number,default:1},backgroundColor:{type:String,default:"transparent"},pivot:{type:String,default:"image-center"},limitTranslation:{type:Boolean,default:!0},doubleClickToZoom:{type:Boolean,default:!0}},data:()=>({containerWidth:1,containerHeight:1,containerLeft:0,containerTop:0,translateX:0,animTranslateX:0,translateY:0,animTranslateY:0,scale:1,animScale:1,lastFullWheelTime:0,lastWheelTime:0,lastWheelDirection:"y",isPointerDown:!1,pointerPosX:-1,pointerPosY:-1,twoFingerInitDist:0,panLocked:!0,raf:null,tapDetector:null}),computed:{wrapperStyle(){return{transform:[`translate(${this.containerWidth*this.animTranslateX}px, ${this.containerHeight*this.animTranslateY}px)`,`scale(${this.animScale})`].join(" ")}}},watch:{scale(e){1!==e&&(this.$emit("update:zoomed",!0),this.panLocked=!1)},resetTrigger:"reset"},mounted(){this.tapDetector=new f,this.tapDetector.attach(this.$el),this.doubleClickToZoom&&this.tapDetector.onDoubleTap(this.onDoubleTap),window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.refreshContainerPos(),this.loop()},destroyed(){this.tapDetector.detach(this.$el),window.removeEventListener("resize",this.onWindowResize),window.cancelAnimationFrame(this.raf)},methods:{reset(){this.scale=1,this.panLocked=!0,this.translateX=0,this.translateY=0},zoomIn(e=2){this.tryToScale(e),this.onInteractionEnd()},zoomOut(e=.5){this.tryToScale(e),this.onInteractionEnd()},tryToScale(e){let t=this.scale*e;if(t<this.minScale||t>this.maxScale){let o=Math.log2(e);o*=.2,e=2**o,t=this.scale*e}if(e=t/this.scale,this.scale=t,"image-center"!==this.pivot){const t=(this.pointerPosX-this.containerLeft)/this.containerWidth,o=(this.pointerPosY-this.containerTop)/this.containerHeight;this.translateX=(.5+this.translateX-t)*e+t-.5,this.translateY=(.5+this.translateY-o)*e+o-.5}},setPointerPosCenter(){this.pointerPosX=this.containerLeft+this.containerWidth/2,this.pointerPosY=this.containerTop+this.containerHeight/2},onPointerMove(e,t){if(this.isPointerDown){const o=e-this.pointerPosX,r=t-this.pointerPosY;this.panLocked||(this.translateX+=o/this.containerWidth,this.translateY+=r/this.containerHeight)}this.pointerPosX=e,this.pointerPosY=t},onInteractionEnd:c()((function(){this.limit(),this.panLocked=1===this.scale,this.$emit("update:zoomed",!this.panLocked)}),100),limit(){if(this.scale<this.minScale?this.scale=this.minScale:this.scale>this.maxScale&&this.tryToScale(this.maxScale/this.scale),this.limitTranslation){const e=this.calcTranslateLimit();Math.abs(this.translateX)>e.x&&(this.translateX*=e.x/Math.abs(this.translateX)),Math.abs(this.translateY)>e.y&&(this.translateY*=e.y/Math.abs(this.translateY))}},calcTranslateLimit(){if("y"===this.getMarginDirection()){const e=this.containerWidth/this.aspectRatio/this.containerHeight;let t=(this.scale*e-1)/2;return t<0&&(t=0),{x:(this.scale-1)/2,y:t}}{const e=this.containerHeight*this.aspectRatio/this.containerWidth;let t=(this.scale*e-1)/2;return t<0&&(t=0),{x:t,y:(this.scale-1)/2}}},getMarginDirection(){return this.containerWidth/this.containerHeight>this.aspectRatio?"x":"y"},onDoubleTap(e){1===this.scale?(e.clientX>0&&(this.pointerPosX=e.clientX,this.pointerPosY=e.clientY),this.tryToScale(Math.min(3,this.maxScale))):this.reset(),this.onInteractionEnd()},onWindowResize(){const e=window.getComputedStyle(this.$el);this.containerWidth=parseFloat(e.width),this.containerHeight=parseFloat(e.height),this.setPointerPosCenter(),this.limit()},refreshContainerPos(){const rect=this.$el.getBoundingClientRect();this.containerLeft=rect.left,this.containerTop=rect.top},loop(){this.animScale=this.gainOn(this.animScale,this.scale),this.animTranslateX=this.gainOn(this.animTranslateX,this.translateX),this.animTranslateY=this.gainOn(this.animTranslateY,this.translateY),this.raf=window.requestAnimationFrame(this.loop)},gainOn(e,t){const o=.3*(t-e);return Math.abs(o)>1e-5?e+o:t},onMouseWheel(e){e.detail&&(e.wheelDelta=-10*e.detail);const t=Date.now();120===Math.abs(e.wheelDelta)?t-this.lastFullWheelTime>50&&(this.onMouseWheelDo(e.wheelDelta),this.lastFullWheelTime=t):(t-this.lastWheelTime>50&&"number"==typeof e.deltaX&&(this.lastWheelDirection=0===e.detail&&Math.abs(e.deltaX)>Math.abs(e.deltaY)?"x":"y","x"===this.lastWheelDirection&&this.$emit("swipe",e.deltaX>0?"left":"right")),"y"===this.lastWheelDirection&&this.onMouseWheelDo(e.wheelDelta)),this.lastWheelTime=t},onMouseWheelDo(e){const t=1.25**(e/120);this.tryToScale(t),this.onInteractionEnd()},onMouseDown(e){this.refreshContainerPos(),this.isPointerDown=!0,this.pointerPosX=e.clientX,this.pointerPosY=e.clientY},onMouseUp(){this.isPointerDown=!1,this.onInteractionEnd()},onMouseMove(e){this.onPointerMove(e.clientX,e.clientY)},onTouchStart(e){if(1===e.touches.length)this.refreshContainerPos(),this.pointerPosX=e.touches[0].clientX,this.pointerPosY=e.touches[0].clientY,this.isPointerDown=!0;else if(2===e.touches.length){this.isPointerDown=!0,this.pointerPosX=(e.touches[0].clientX+e.touches[1].clientX)/2,this.pointerPosY=(e.touches[0].clientY+e.touches[1].clientY)/2;const t=e.touches[0].clientX-e.touches[1].clientX,o=e.touches[0].clientY-e.touches[1].clientY;this.twoFingerInitDist=Math.sqrt(t*t+o*o)}},onTouchEnd(e){0===e.touches.length?(this.isPointerDown=!1,Math.abs(this.scale-1)<.1&&(this.scale=1),this.onInteractionEnd()):1===e.touches.length&&(this.pointerPosX=e.touches[0].clientX,this.pointerPosY=e.touches[0].clientY)},onTouchMove(e){if(1===e.touches.length)this.onPointerMove(e.touches[0].clientX,e.touches[0].clientY);else if(2===e.touches.length){const t=(e.touches[0].clientX+e.touches[1].clientX)/2,o=(e.touches[0].clientY+e.touches[1].clientY)/2;this.onPointerMove(t,o),this.pointerPosX=t,this.pointerPosY=o;const r=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY,l=Math.sqrt(r*r+n*n);this.tryToScale(l/this.twoFingerInitDist),this.twoFingerInitDist=l}}}};function y(template,style,script,e,t,o,r,n,l,c){"boolean"!=typeof r&&(l=n,n=r,r=!1);const d="function"==typeof script?script.options:script;let h;if(template&&template.render&&(d.render=template.render,d.staticRenderFns=template.staticRenderFns,d._compiled=!0,t&&(d.functional=!0)),e&&(d._scopeId=e),o?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),style&&style.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=h):style&&(h=r?function(e){style.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){style.call(this,n(e))}),h)if(d.functional){const e=d.render;d.render=function(t,o){return h.call(o),e(t,o)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,h):[h]}return script}const w="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function _(e){return(e,style)=>(function(e,t){const o=w?t.media||"default":e,style=x[o]||(x[o]={ids:new Set,styles:[]});if(!style.ids.has(e)){style.ids.add(e);let code=t.source;if(t.map&&(code+="\n/*# sourceURL="+t.map.sources[0]+" */",code+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),style.element||(style.element=document.createElement("style"),style.element.type="text/css",t.media&&style.element.setAttribute("media",t.media),void 0===k&&(k=document.head||document.getElementsByTagName("head")[0]),k.appendChild(style.element)),"styleSheet"in style.element)style.styles.push(code),style.element.styleSheet.cssText=style.styles.filter(Boolean).join("\n");else{const e=style.ids.size-1,t=document.createTextNode(code),o=style.element.childNodes;o[e]&&style.element.removeChild(o[e]),o.length?style.element.insertBefore(t,o[e]):style.element.appendChild(t)}}})(e,style)}let k;const x={};const C=y({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vue-zoomer",style:{backgroundColor:e.backgroundColor},on:{mousewheel:function(t){return t.preventDefault(),e.onMouseWheel(t)},DOMMouseScroll:e.onMouseWheel,mousedown:e.onMouseDown,mouseup:e.onMouseUp,mousemove:e.onMouseMove,mouseout:e.setPointerPosCenter,touchstart:e.onTouchStart,touchend:e.onTouchEnd,touchmove:e.onTouchMove}},[o("div",{staticClass:"zoomer",style:e.wrapperStyle},[e._t("default")],2)])},staticRenderFns:[]},(function(e){e&&e("data-v-107e4b90_0",{source:".vue-zoomer{overflow-x:hidden;padding:250px 0;margin:-250px 0;transition:background-color .5s}.zoomer{transform-origin:50% 50%;width:100%;height:100%}.zoomer>img{vertical-align:top;-webkit-user-drag:none}",map:void 0,media:void 0})}),m,void 0,!1,void 0,!1,_,void 0,void 0);var S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 24 24",fill:"none"}},[t("path",{attrs:{d:"M5.707 17.02a1 1 0 101.414 1.415l4.95-4.95 4.95 4.95a1 1 0 101.414-1.414l-4.95-4.95 4.95-4.95a1 1 0 10-1.414-1.414l-4.95 4.95-4.95-4.95a1 1 0 10-1.414 1.414l4.95 4.95-4.95 4.95z",fill:"#fff"}})])}};let I=class extends v{constructor(){super(...arguments),this.$swiper=null,this.swiperOptions={slidesPerView:1,initialSlide:this.initIndex,paginationClickable:!0,spaceBetween:16,pagination:{el:".swiper-pagination",type:"fraction"},on:{slideChange:()=>{this.slideChange()}}}}slideChange(){var e;const t=this.$swiper,o=null!==(e=null==t?void 0:t.realIndex)&&void 0!==e?e:0,image=this.images[o]||null;this.$emit("slideChange",{index:o,current:image,swiper:t})}initIndexChange(e){this.$nextTick(()=>{this.$swiper&&this.$swiper.slideTo(e)})}close(){this.$emit("close")}};d([Object(r.Watch)("initIndex",{immediate:!0})],I.prototype,"initIndexChange",null),I=d([Object(r.Component)({components:{ImageZoomer:C,CloseSvg:S}})],I);const P=y({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"swiper",rawName:"v-swiper:$swiper",value:e.swiperOptions,expression:"swiperOptions",arg:"$swiper"}],ref:"$swiper",staticClass:"activity-image-viewer_swiper_container swiper-container"},[o("div",{staticClass:"image-viewer-top"},[e.showClose?o("CloseSvg",{staticClass:"activity-image_icon-close",nativeOn:{click:function(t){return e.close(t)}}}):e._e(),e._v(" "),o("div",{ref:"pagination",staticClass:"swiper-pagination activity-swiper-pagination"})],1),e._v(" "),o("div",{staticClass:"image-viewer-title"},[e._t("title",[e._v(e._s(e.title))])],2),e._v(" "),o("div",{staticClass:"swiper-wrapper"},e._l(e.images,(function(image,t){return o("div",{key:t,staticClass:"swiper-slide"},[o("div",{staticClass:"activity-image-wrapper"},[o("div",{staticClass:"activity-image-content"},[o("ImageZoomer",[o("img",{staticClass:"activity-image",attrs:{src:image[e.realFieldKey.img_url],alt:"activity-image"}})])],1)]),e._v(" "),o("div",{staticClass:"merchant-image-description"},[e._t("content",null,{image:image})],2)])})),0)])},staticRenderFns:[]},(function(e){e&&e("data-v-3ba0c46e_0",{source:".activity-image-viewer_swiper_container[data-v-3ba0c46e]{height:100%}.activity-image-viewer_swiper_container .image-viewer-title[data-v-3ba0c46e]{position:absolute;z-index:2;top:56px;left:0;width:100%;padding:16px 20px;color:#fff;text-align:center}.activity-image-viewer_swiper_container .swiper-wrapper .swiper-slide[data-v-3ba0c46e]{height:100%;display:flex;align-items:center}.activity-image-viewer_swiper_container .swiper-wrapper .swiper-slide .vue-zoomer[data-v-3ba0c46e]{padding:400px 0;margin:-400px 0;width:100%}.activity-image-viewer_swiper_container .activity-image[data-v-3ba0c46e]{width:100%}.activity-image-viewer_swiper_container .activity-image-wrapper[data-v-3ba0c46e]{padding:400px 0;display:flex;align-items:center;justify-content:center;height:100%;width:100%;overflow-y:auto}.activity-image-viewer_swiper_container .activity-image-content[data-v-3ba0c46e]{max-height:100%}.activity-image-viewer_swiper_container .image-viewer-top[data-v-3ba0c46e]{display:flex;height:64px;align-items:center;justify-content:center;color:#fff;position:absolute;z-index:2;top:0;width:100%;left:0}.activity-image-viewer_swiper_container .image-viewer-top .activity-image_icon-close[data-v-3ba0c46e]{position:absolute;left:16px;top:20px;z-index:11;width:24px;height:24px}.activity-image-viewer_swiper_container .image-viewer-top .activity-swiper-pagination[data-v-3ba0c46e]{position:static}.activity-image-viewer_swiper_container .merchant-image-description[data-v-3ba0c46e]{position:absolute;left:0;bottom:0;width:100%;padding-bottom:calc(env(safe-area-inset-bottom) + 16px);max-height:133px;overflow:auto;z-index:1;box-sizing:border-box}",map:void 0,media:void 0})}),I,"data-v-3ba0c46e",!1,void 0,!1,_,void 0,void 0);let M=class extends v{constructor(){super(...arguments),this.$smallImageSwiper=null,this.$bigImageSwiper=null,this.highlightSwiperSlideIndex=0,this.isScreened=!1,this.smallImageSwiperOption={slidesPerView:"auto",centeredSlides:!1,navigation:{nextEl:".small-swiper-next",prevEl:".small-swiper-prev"},lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},spaceBetween:10,slidesPerGroup:8,noSwiping:!0,on:{init:()=>{this.initSwiper("$smallImageSwiper")},slideChange:()=>{this.slideChangeTransitionEnd("$smallImageSwiper"),this.emitChange("smallSlideChange","$smallImageSwiper")}}},this.bigImageSwiperOption={navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},on:{init:()=>{this.initSwiper("$bigImageSwiper")},slideChange:()=>{this.BigSwiperSlideChange(),this.slideChangeTransitionEnd("$bigImageSwiper"),this.emitChange("slideChange","$bigImageSwiper")},slideChangeTransitionStart:this.handleSlideStart}},this.showEnlargeEntry=!1,this.timer=null}initIndexChange(e){this.$nextTick(()=>{this.$bigImageSwiper&&this.$bigImageSwiper.slideTo(e),this.handleImageLoad(e)})}get screenText(){return this.isScreened?this.translateI18n("102478"):this.translateI18n("102477")}close(){this.$emit("close")}emitChange(e,t){var o;const r=this[t],n=null!==(o=null==r?void 0:r.realIndex)&&void 0!==o?o:0,image=this.images[n]||null;this.$emit(e,{index:n,current:image,swiper:t})}handleSlideStart(){this.isScreened=!1}slideChangeTransitionEnd(e){const t=this[e];t.isEnd?(t.navigation.$nextEl.css("display","none"),this.$emit("end")):t.navigation.$nextEl.css("display","flex"),t.isBeginning?t.navigation.$prevEl.css("display","none"):t.navigation.$prevEl.css("display","flex");const o=t.realIndex;this.images.length==o+1&&this.$emit("end")}initSwiper(e){this.$nextTick(()=>{const t=this[e];t.isBeginning?t.navigation.$prevEl.css("display","none"):t.navigation.$prevEl.css("display","flex")})}BigSwiperSlideChange(){const e=this.$bigImageSwiper.realIndex;this.highlightSwiperSlideIndex=e,this.$smallImageSwiper.slideTo(e),this.$emit("bigSwiperChange",e),this.handleImageLoad(e)}highlightSwiperSlide(e){this.$bigImageSwiper.slideTo(e),this.highlightSwiperSlideIndex=e}handleScreen(){this.isScreened=!this.isScreened}handleImageLoad(e){const t=this;this.showEnlargeEntry=!1,this.imageScroll&&(this.timer=setTimeout(()=>{const image=this.images[e],o=this.realFieldKey,r=image[o.img_url];if(!r)return;const n=image[o.width],l=image[o.height];if(n&&l)return void this.getImgSize(image);const img=new Image;img.src=r,img.onload=function(){image[o.width]=img.width,image[o.height]=img.height,t.getImgSize({width:img.width,height:img.height})}},350))}getImgSize(source){const e=this.$el.querySelector(".js-swiper-container .swiper-wrapper");if(e){const{clientWidth:t,clientHeight:o}=e;if(source){const{width:e,height:r}=source;if(e&&r){const n=t/o,l=e/r;this.showEnlargeEntry=l<=n}}}}};d([Object(r.Prop)({default:!0})],M.prototype,"imageScroll",void 0),d([Object(r.Watch)("initIndex",{immediate:!0})],M.prototype,"initIndexChange",null),M=d([Object(r.Component)({components:{ArrowSvg:{render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 20 20",fill:"none"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.804 3.578a.833.833 0 011.178 0l5.893 5.892a.833.833 0 010 1.179L8.982 16.54a.833.833 0 01-1.178-1.178l5.303-5.304-5.303-5.303a.833.833 0 010-1.178z",fill:"#fff"}})])}},Enlarge:{render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 16 16",fill:"none"}},[t("path",{attrs:{d:"M1.667 9v5.333H7M14.333 7V1.667H9",stroke:"#fff","stroke-width":"1.4","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M2 14l4.007-4.007M14 2L9.993 6.007",stroke:"#fff","stroke-width":"1.4","stroke-linecap":"round"}})])}},CloseSvg:S}})],M);const O=y({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"exp-common-comp-swiper-wrapper-desktop"},[e.showClose?o("CloseSvg",{staticClass:"activity-image_icon-close",nativeOn:{click:function(t){return e.close(t)}}}):e._e(),e._v(" "),o("div",{staticClass:"exp-swiper-title"},[e._t("title",[e._v(e._s(e.title)),e._t("default")])],2),e._v(" "),o("div",{staticClass:"exp-swiper-container"},[o("div",{staticClass:"exp-swiper-container-body"},[o("div",{directives:[{name:"swiper",rawName:"v-swiper:$bigImageSwiper",value:e.bigImageSwiperOption,expression:"bigImageSwiperOption",arg:"$bigImageSwiper"}],ref:"$bigImageSwiper",staticClass:"swiper-container js-swiper-container"},[o("div",{staticClass:"swiper-wrapper"},e._l(e.images,(function(t,r){return o("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image.container",value:t[e.realFieldKey.img_url],expression:"item[realFieldKey.img_url]",arg:"background-image",modifiers:{container:!0}}],key:r,staticClass:"swiper-slide",class:e.highlightSwiperSlideIndex===r&&"current-slide-visible",attrs:{ratio:"1:1"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.imageScroll&&e.isScreened&&e.highlightSwiperSlideIndex===r,expression:"imageScroll && isScreened && highlightSwiperSlideIndex === idx"}],staticClass:"swiper-slide__img-wrap"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t[e.realFieldKey.img_url],expression:"item[realFieldKey.img_url]"}],staticClass:"swiper-slide__img"})])])})),0),e._v(" "),e.imageScroll&&e.showEnlargeEntry?o("div",{staticClass:"swiper-screen",on:{click:function(t){return t.stopPropagation(),e.handleScreen(t)}}},[o("Enlarge",{staticClass:"enlarge"}),e._v(" "),o("span",{staticClass:"swiper-screen-text"},[e._v(e._s(e.screenText))])],1):e._e(),e._v(" "),o("div",{staticClass:"swiper-pagination swiper-pagination-fraction"},[e._v("\n          "+e._s(e.highlightSwiperSlideIndex+1)+" / "+e._s(e.images.length)+"\n        ")]),e._v(" "),o("div",{staticClass:"next-prev swiper-next"},[o("span",{staticClass:"next-prev__icon"},[o("ArrowSvg",{staticClass:"arrow-svg"})],1)]),e._v(" "),o("div",{staticClass:"next-prev swiper-prev"},[o("span",{staticClass:"next-prev__icon"},[o("ArrowSvg",{staticClass:"arrow-svg"})],1)])])]),e._v(" "),o("div",{staticClass:"exp-swiper-container-content"},[e._t("content")],2)]),e._v(" "),o("div",{staticClass:"small-swiper-container"},[o("div",{directives:[{name:"swiper",rawName:"v-swiper:$smallImageSwiper",value:e.smallImageSwiperOption,expression:"smallImageSwiperOption",arg:"$smallImageSwiper"}],ref:"$smallImageSwiper",staticClass:"swiper-container"},[o("div",{staticClass:"swiper-wrapper swiper-no-swiping"},e._l(e.images,(function(t,r){return o("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image.container",value:t[e.realFieldKey.img_resize_url],expression:"item[realFieldKey.img_resize_url]",arg:"background-image",modifiers:{container:!0}}],key:r,staticClass:"swiper-slide swiper-no-swiping",class:e.highlightSwiperSlideIndex===r?"high-light-swiper-slide":"",attrs:{ratio:"1:1"},on:{click:function(t){return e.highlightSwiperSlide(r)}}})})),0)]),e._v(" "),o("div",{staticClass:"small-control small-swiper-next"},[o("ArrowSvg",{staticClass:"arrow-svg"})],1),e._v(" "),o("div",{staticClass:"small-control small-swiper-prev"},[o("ArrowSvg",{staticClass:"arrow-svg"})],1)])],1)},staticRenderFns:[]},(function(e){e&&e("data-v-607152d8_0",{source:".exp-common-comp-swiper-wrapper-desktop[data-v-607152d8]{height:100%;display:flex;flex-direction:column;padding:40px;position:relative}.exp-common-comp-swiper-wrapper-desktop .activity-image_icon-close[data-v-607152d8]{position:absolute;z-index:2;top:40px;right:40px;width:36px;height:36px;cursor:pointer}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-title[data-v-607152d8]{font-size:16px;font-weight:500;color:#fff;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 120px);text-align:center;white-space:nowrap;margin:0 auto 40px;flex:none}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container[data-v-607152d8]{display:flex;flex:1;max-height:calc(100% - 160px)}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body[data-v-607152d8]{flex:1}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-content[data-v-607152d8]{max-width:350px;flex:none}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container[data-v-607152d8]{position:relative;width:calc(100% - 128px);height:72px;margin:20px auto 0}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container .swiper-slide[data-v-607152d8]{box-sizing:border-box;width:72px;height:72px;background-size:cover;background-repeat:no-repeat;background-position:center center;cursor:pointer;border-radius:8px;opacity:.6}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container .swiper-slide[lazy=loading][data-v-607152d8]{background-color:#f5f5f5;background-image:url(https://res.klook.com/image/upload/image_logo_mx7wgd.png)!important;background-position:center;background-size:60%;background-origin:border-box}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container .swiper-slide.high-light-swiper-slide[data-v-607152d8]{opacity:1;border:3px solid #fff}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container .small-control[data-v-607152d8]{position:absolute;top:50%;cursor:pointer;z-index:10;outline:0;visibility:visible;width:32px;height:32px;border-radius:50%;background-color:hsla(0deg,0%,100%,.16);display:flex;align-items:center;justify-content:center;transform:translateY(-50%)}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container .small-control[data-v-607152d8]:hover{border:1px solid #fff}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container .small-control .arrow-svg[data-v-607152d8]{width:20px;height:20px}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container .small-swiper-next[data-v-607152d8]{right:-48px}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container .small-swiper-prev[data-v-607152d8]{left:-48px}.exp-common-comp-swiper-wrapper-desktop .small-swiper-container .small-swiper-prev .arrow-svg[data-v-607152d8]{transform:rotate(180deg)}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body[data-v-607152d8]{flex:1;position:relative;max-width:100%}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container[data-v-607152d8]{padding:0 64px;max-width:100%;height:100%;max-height:100%;overflow:hidden}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-slide[data-v-607152d8]{position:relative;background-size:contain;background-repeat:no-repeat;background-position:center center;display:flex;align-items:center;visibility:hidden}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-slide.current-slide-visible[data-v-607152d8]{visibility:visible}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-slide[lazy=loading][data-v-607152d8]{background-color:#f5f5f5;background-image:url(https://res.klook.com/image/upload/image_logo_mx7wgd.png)!important;background-position:center;background-size:300px 300px;background-origin:border-box}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-slide__img-wrap[data-v-607152d8]{width:100%;max-height:100%;overflow:auto;cursor:pointer}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-slide__img-wrap[data-v-607152d8]::-webkit-scrollbar{-webkit-appearance:none;background-color:transparent;width:7px}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-slide__img-wrap[data-v-607152d8]:hover::-webkit-scrollbar{-webkit-appearance:none;background:0 0;width:7px}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-slide__img-wrap[data-v-607152d8]:hover::-webkit-scrollbar-track{background:0 0;width:7px}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-slide__img-wrap[data-v-607152d8]:hover::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(255,255,255,.3);box-shadow:0 0 1px rgba(255,255,255,.5)}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-slide__img[data-v-607152d8]{display:block;width:100%}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .next-prev[data-v-607152d8]{position:absolute;top:0;height:100%;width:64px;cursor:pointer;z-index:1}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .next-prev__icon[data-v-607152d8]{width:48px;height:48px;line-height:48px;border-radius:50%;background-color:rgba(255,255,255,.16);position:absolute;top:50%;right:0;transform:translate(0,-50%);display:flex;align-items:center;justify-content:center}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .next-prev__icon .arrow-svg[data-v-607152d8]{width:24px;height:24px}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .next-prev__icon[data-v-607152d8]:hover{border:1px solid #fff;background-color:rgba(255,255,255,.25)}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-next[data-v-607152d8]{right:0}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-prev[data-v-607152d8]{left:0;transform:rotate(180deg)}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-pagination[data-v-607152d8]{padding:3px 4px;position:absolute;left:auto;right:72px;bottom:8px;width:auto;color:#fff}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-screen[data-v-607152d8]{padding:8px;position:absolute;left:50%;bottom:8px;display:flex;align-items:center;justify-content:flex-start;border-radius:8px;color:#fff;background-color:rgba(0,0,0,.45);transform:translateX(-50%);z-index:100;cursor:pointer}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-screen .enlarge[data-v-607152d8]{width:16px;height:16px}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-screen[data-v-607152d8]:hover{background-color:rgba(0,0,0,.6)}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .swiper-container .swiper-screen-text[data-v-607152d8]{margin-left:8px}.exp-common-comp-swiper-wrapper-desktop .exp-swiper-container-body .exp-swiper-container-content[data-v-607152d8]{max-width:350px}",map:void 0,media:void 0})}),M,"data-v-607152d8",!1,void 0,!1,_,void 0,void 0);let T=class extends r.Vue{close(){this.$emit("close")}};d([Object(r.Prop)()],T.prototype,"title",void 0),d([Object(r.Prop)({type:String,default:"mobile-activity#icon-close"})],T.prototype,"icon",void 0),T=d([Object(r.Component)({components:{CloseSvg:S}})],T);const L=y({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"layer-head"},[o("CloseSvg",{staticClass:"icon-close",nativeOn:{click:function(t){return e.close(t)}}}),e._v(" "),o("span",{staticClass:"title"},[e._v("\n    "+e._s(e.title)+"\n  ")])],1)},staticRenderFns:[]},(function(e){e&&e("data-v-90a82bcc_0",{source:".layer-head{position:relative;display:flex;justify-content:center;align-items:center;height:48px;color:#212121;padding:0 16px;box-shadow:inset 0 -1px 0 0 rgba(0,0,0,.12)}.layer-head .icon-close{width:24px;height:24px;color:#212121;position:absolute;left:16px}.layer-head .title{font-weight:500;font-size:16px}",map:void 0,media:void 0})}),T,void 0,!1,void 0,!1,_,void 0,void 0);let j=class extends r.Vue{constructor(){super(...arguments),this.fixScrollY=0,this.transfered=!1}visibleChange(e){this.notFixed||(e?"fixed"!==document.body.style.position&&(this.fixScrollY=window.pageYOffset,document.body.style.position="fixed",document.body.style.top=-this.fixScrollY+"px"):(document.body.style.position="static",document.body.scrollTop=this.fixScrollY,document.documentElement.scrollTop=this.fixScrollY))}get contentStyle(){const style={};return this.height&&(style.height=this.height),this.color&&(style.backgroundColor=this.color),style}get headerStyle(){if(!this.fixed)return{};const e=parseFloat(this.height);return{top:/%/.test(this.height)?`${100-e}%`:`calc(100% - ${e}px)`}}clickMask(){this.overlayClosable&&this.$emit("close")}close(){this.$emit("close")}mounted(){this.transfer&&!this.transfered&&(document.body.appendChild(this.$el),this.transfered=!0)}beforeDestroy(){this.transfer&&this.transfered&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}};d([Object(r.Prop)({type:String,default:"100%"})],j.prototype,"height",void 0),d([Object(r.Prop)()],j.prototype,"headerVisible",void 0),d([Object(r.Prop)({type:String,default:"slide-up",validator:e=>["slide-up","slide-right","fade"].includes(e)})],j.prototype,"transition",void 0),d([Object(r.Prop)()],j.prototype,"visible",void 0),d([Object(r.Prop)()],j.prototype,"overlayClosable",void 0),d([Object(r.Prop)()],j.prototype,"title",void 0),d([Object(r.Prop)()],j.prototype,"icon",void 0),d([Object(r.Prop)()],j.prototype,"fixed",void 0),d([Object(r.Prop)()],j.prototype,"color",void 0),d([Object(r.Prop)()],j.prototype,"transfer",void 0),d([Object(r.Prop)({default:!1})],j.prototype,"notFixed",void 0),d([Object(r.Watch)("visible")],j.prototype,"visibleChange",null),j=d([Object(r.Component)({components:{LayerHeader:L}})],j);const $=y({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"fade"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"activity-layer"},[o("div",{staticClass:"activity-layer_mask",on:{click:e.clickMask}}),e._v(" "),o("transition",{attrs:{name:e.transition}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"content",staticClass:"activity-layer_content",style:e.contentStyle},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["activity-layer-header_wrap",{fixed:e.fixed}]},[o("div",{staticClass:"activity-layer-header",style:e.headerStyle},[e._t("title",[e.headerVisible||e.title?o("LayerHeader",{attrs:{title:e.title,icon:e.icon},on:{close:e.close}}):e._e()])],2)]),e._v(" "),e.visible?e._t("default"):e._e(),e._v(" "),e._t("firstRenderContent")],2)])],1)])},staticRenderFns:[]},(function(e){e&&e("data-v-5d6af690_0",{source:".activity-layer[data-v-5d6af690]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:999;background-color:rgba(0,0,0,.38)}.activity-layer .activity-layer_mask[data-v-5d6af690]{width:100%;height:100%;background-color:rgba(0,0,0,.38)}.activity-layer .activity-layer_content-wrap[data-v-5d6af690]{height:100%;width:100%}.activity-layer .activity-layer-header_wrap.fixed[data-v-5d6af690]{height:48px;width:100%}.activity-layer .activity-layer-header_wrap.fixed .activity-layer-header[data-v-5d6af690]{background:#fff;position:fixed;left:0;top:0;height:48px;width:100%;z-index:2}.activity-layer .activity-layer_content[data-v-5d6af690]{width:100%;height:100%;position:fixed;z-index:1;bottom:0;left:0;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;background-color:#fff}.activity-layer .fade-enter[data-v-5d6af690],.activity-layer .fade-leave-to[data-v-5d6af690]{opacity:0}.activity-layer .fade-enter-active[data-v-5d6af690],.activity-layer .fade-leave-active[data-v-5d6af690]{transition:all .1s ease}.activity-layer .slide-up-enter[data-v-5d6af690],.activity-layer .slide-up-leave-to[data-v-5d6af690]{transform:translateY(100%)}.activity-layer .slide-up-enter-active[data-v-5d6af690],.activity-layer .slide-up-leave-active[data-v-5d6af690]{transition:all .3s ease}.activity-layer .slide-left-enter[data-v-5d6af690],.activity-layer .slide-left-leave-to[data-v-5d6af690]{transform:translateX(100%)}.activity-layer .slide-left-enter-active[data-v-5d6af690],.activity-layer .slide-left-leave-active[data-v-5d6af690]{transition:all .3s ease}",map:void 0,media:void 0})}),j,"data-v-5d6af690",!1,void 0,!1,_,void 0,void 0);let E=class extends r.Vue{get realFieldKey(){return Object.assign(Object.assign({},{img_url:"img_url",img_resize_url:"img_resize_url",width:"width",height:"height"}),this.fieldKey)}translateI18n(e,...t){return this.localesTranslate()(e,...t)}get isMobile(){return"mobile"===this.platform}get componentName(){return this.isMobile?"MobileImagesSwiper":"DesktopImagesSwiper"}slideChange(data){this.$emit("slideChange",data)}handleClose(){this.$emit("close"),this.$emit("update:visible",!1)}};d([Object(r.Prop)({type:String,default:"mobile"})],E.prototype,"platform",void 0),d([Object(r.Prop)({type:Boolean,default:!0})],E.prototype,"showClose",void 0),d([Object(r.Prop)({type:Boolean,default:!1})],E.prototype,"visible",void 0),d([Object(r.Prop)({type:Boolean,default:!0})],E.prototype,"transfer",void 0),d([Object(r.Prop)()],E.prototype,"photoType",void 0),d([Object(r.Prop)({default:!1})],E.prototype,"notFixed",void 0),d([Object(r.Prop)({type:Array,default:()=>[]})],E.prototype,"images",void 0),d([Object(r.Prop)({default:()=>()=>{}})],E.prototype,"localesTranslate",void 0),d([Object(r.Prop)({type:String,default:""})],E.prototype,"title",void 0),d([Object(r.Prop)({type:Number,default:0})],E.prototype,"initIndex",void 0),d([Object(r.Prop)({type:Object,default:()=>({img_url:"img_url",img_resize_url:"img_resize_url",width:"width",height:"height"})})],E.prototype,"fieldKey",void 0),d([Object(r.Provide)("translateI18n")],E.prototype,"translateI18n",null),E=d([Object(r.Component)({components:{Layer:$,MobileImagesSwiper:P,DesktopImagesSwiper:O}})],E);var R=E;let D=class extends R{};D=d([r.Component],D);const z=y({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Layer",{staticClass:"activity-image-viewer",attrs:{visible:e.visible,transfer:e.transfer,"not-fixed":e.notFixed,color:"black",transition:"fade"}},[o(e.componentName,{tag:"component",attrs:{images:e.images,title:e.title,"locales-translate":e.localesTranslate,"show-close":e.showClose,"init-index":e.initIndex,fieldKey:e.realFieldKey},on:{slideChange:e.slideChange,close:e.handleClose},scopedSlots:e._u([{key:"content",fn:function(data){return[e._t("content",null,{data:data})]}}],null,!0)},[e._v(" "),o("template",{slot:"title"},[e._t("title",[e._v(e._s(e.title))])],2)],2)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-6901c288_0",{source:".activity-image-viewer[data-v-6901c288]{position:fixed;top:0;left:0;background:#000;width:100%;height:100%;z-index:9999!important}",map:void 0,media:void 0})}),D,"data-v-6901c288",!1,void 0,!1,_,void 0,void 0)},1498:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1052).IconWrapper("icon-triangle-up",!1,(e,t)=>e("svg",{attrs:{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"}},[e("path",{attrs:{d:"M22.5409 16.5563L10.5787 29.3161C9.97995 29.9547 10.4328 31 11.3082 31L36.6918 31C37.5672 31 38.0201 29.9547 37.4213 29.3161L25.4591 16.5563C24.6689 15.7135 23.3311 15.7135 22.5409 16.5563Z",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin}})]));t.default=r},1540:function(e,t,o){"use strict";o.d(t,"a",(function(){return Ci}));var r=o(2),n=o(313),l=o.n(n),c=o(109),d=o.n(c),h=o(158),v=o.n(h),f=(o(1793),o(1558)),m=(o(1559),o(399)),y=o(243),w=o.n(y),_=(o(1794),o(251)),k=o(25),x=o.n(k),C=o(160),S=o.n(C),I=o(248),P=o.n(I),M=o(126),O=o.n(M),T=o(310),L=o.n(T),j=(o(1795),o(1541),o(1560),o(586),o(1638),o(49)),$=o.n(j),E=(o(1796),o(1056)),R=o.n(E),D=(o(590),o(1652)),z=(o(1653),o(1908),o(159)),A=o.n(z),N=(o(1542),o(511)),F=function(e,b){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])})(e,b)};function B(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}F(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var W=function(){return(W=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)};function U(e,t,o,desc){var r,n=arguments.length,l=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(n<3?r(l):n>3?r(t,o,l):r(t,o))||l);return n>3&&l&&Object.defineProperty(t,o,l),l}function H(e,t,o,r){return new(o||(o=Promise))((function(n,l){function c(e){try{h(r.next(e))}catch(e){l(e)}}function d(e){try{h(r.throw(e))}catch(e){l(e)}}function h(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(c,d)}h((r=r.apply(e,t||[])).next())}))}function V(e,body){var t,o,r,g,n={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;g&&(g=0,l[0]&&(n=0)),n;)try{if(t=1,o&&(r=2&l[0]?o.return:l[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,l[1])).done)return r;switch(o=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(!(r=(r=n.trys).length>0&&r[r.length-1])&&(6===l[0]||2===l[0])){n=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){n.label=l[1];break}if(6===l[0]&&n.label<r[1]){n.label=r[1],r=l;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(l);break}r[2]&&n.ops.pop(),n.trys.pop();continue}l=body.call(e,n)}catch(e){l=[6,e],o=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function Y(e,t,o){if(o||2===arguments.length)for(var r,i=0,n=t.length;i<n;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e){return function(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function G(e,t,o){(o?Reflect.getOwnMetadataKeys(t,o):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var n=o?Reflect.getOwnMetadata(r,t,o):Reflect.getOwnMetadata(r,t);o?Reflect.defineMetadata(r,n,e,o):Reflect.defineMetadata(r,n,e)}))}var Q={__proto__:[]}instanceof Array;function Z(e){return function(t,o,r){var n="function"==typeof t?t:t.constructor;n.__decorators__||(n.__decorators__=[]),"number"!=typeof r&&(r=void 0),n.__decorators__.push((function(t){return e(t,o,r)}))}}var J=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var o=e.prototype;Object.getOwnPropertyNames(o).forEach((function(e){if("constructor"!==e)if(J.indexOf(e)>-1)t[e]=o[e];else{var r=Object.getOwnPropertyDescriptor(o,e);void 0!==r.value?"function"==typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t){var o=t.prototype._init;t.prototype._init=function(){var t=this,o=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||o.push(r);o.forEach((function(o){Object.defineProperty(t,o,{get:function(){return e[o]},set:function(t){e[o]=t},configurable:!0})}))};var data=new t;t.prototype._init=o;var r={};return Object.keys(data).forEach((function(e){void 0!==data[e]&&(r[e]=data[e])})),r}(this,e)}});var n=e.__decorators__;n&&(n.forEach((function(e){return e(t)})),delete e.__decorators__);var l,c,d=Object.getPrototypeOf(e.prototype),h=d instanceof r.default?d.constructor:r.default,v=h.extend(t);return function(e,t,o){Object.getOwnPropertyNames(t).forEach((function(r){if(!te[r]){var n=Object.getOwnPropertyDescriptor(e,r);if(!n||n.configurable){var l,c,d=Object.getOwnPropertyDescriptor(t,r);if(!Q){if("cid"===r)return;var h=Object.getOwnPropertyDescriptor(o,r);if(l=d.value,c=X(l),null!=l&&("object"===c||"function"===c)&&h&&h.value===d.value)return}Object.defineProperty(e,r,d)}}}))}(v,e,h),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys&&(G(l=v,c=e),Object.getOwnPropertyNames(c.prototype).forEach((function(e){G(l.prototype,c.prototype,e)})),Object.getOwnPropertyNames(c).forEach((function(e){G(l,c,e)}))),v}var te={prototype:!0,arguments:!0,callee:!0,caller:!0};function ie(e){return"function"==typeof e?ee(e):function(t){return ee(t,e)}}ie.registerHooks=function(e){J.push.apply(J,K(e))};var oe="__reactiveInject__";function re(e){return Z((function(t,o){void 0===t.inject&&(t.inject={}),Array.isArray(t.inject)||(t.inject[o]=e||o)}))}function ne(e){return Z((function(t,o){var r,n=t.provide;("function"!=typeof(r=n)||!r.managed&&!r.managedReactive)&&(n=t.provide=function(e){var t=function(){var o=this,r="function"==typeof e?e.call(this):e;for(var i in(r=Object.create(r||null))[oe]=this[oe]||{},t.managed)r[t.managed[i]]=this[i];var n=function(i){r[t.managedReactive[i]]=l[i],Object.defineProperty(r[oe],t.managedReactive[i],{enumerable:!0,get:function(){return o[i]}})},l=this;for(var i in t.managedReactive)n(i);return r};return t.managed={},t.managedReactive={},t}(n)),n.managed[o]=e||o}))}var ae="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function se(e){return void 0===e&&(e={}),function(t,o){!function(e,t,o){if(ae&&!Array.isArray(e)&&"function"!=typeof e&&void 0===e.type){var r=Reflect.getMetadata("design:type",t,o);r!==Object&&(e.type=r)}}(e,t,o),Z((function(t,o){(t.props||(t.props={}))[o]=e}))(t,o)}}function le(path,e){void 0===e&&(e={});var t=e.deep,o=void 0!==t&&t,r=e.immediate,n=void 0!==r&&r;return Z((function(e,t){"object"!=typeof e.watch&&(e.watch=Object.create(null));var r=e.watch;"object"!=typeof r[path]||Array.isArray(r[path])?void 0===r[path]&&(r[path]=[]):r[path]=[r[path]],r[path].push({handler:t,deep:o,immediate:n})}))}function ce(e){return Z((function(t,o){t.computed=t.computed||{},t.computed[o]={cache:!1,get:function(){return this.$refs[e||o]}}}))}var pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ue=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),he=function(e){return null==e||"function"!=typeof e&&"object"!==(void 0===e?"undefined":pe(e))},ve=function(e,t){if(null==e)throw new TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol)return e;if("function"!=typeof Object.getOwnPropertySymbols)return e;for(var o=Object.prototype.propertyIsEnumerable,r=Object(e),n=arguments.length,i=0;++i<n;)for(var l=Object(arguments[i]),c=Object.getOwnPropertySymbols(l),d=0;d<c.length;d++){var h=c[d];o.call(l,h)&&(r[h]=l[h])}return r},fe=Object.prototype.toString,me=function(e){var t=void 0===e?"undefined":pe(e);return"undefined"===t?"undefined":null===e?"null":!0===e||!1===e||e instanceof Boolean?"boolean":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?void 0!==e.constructor.name&&"Generator"===e.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(e)?"array":e instanceof RegExp?"regexp":e instanceof Date?"date":"[object RegExp]"===(t=fe.call(e))?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":"[object Promise]"===t?"promise":function(e){return e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Map Iterator]"===t?"mapiterator":"[object Set Iterator]"===t?"setiterator":"[object String Iterator]"===t?"stringiterator":"[object Array Iterator]"===t?"arrayiterator":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"};function ge(e){e=e||{};var t=arguments.length,i=0;if(1===t)return e;for(;++i<t;){var o=arguments[i];he(e)&&(e=o),be(o)&&ye(e,o)}return e}function ye(e,t){for(var o in ve(e,t),t)if("__proto__"!==o&&we(t,o)){var r=t[o];be(r)?("undefined"===me(e[o])&&"function"===me(r)&&(e[o]=r),e[o]=ge(e[o]||{},r)):e[o]=r}return e}function be(e){return"object"===me(e)||"function"===me(e)}function we(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _e=ge,ke="undefined"!=typeof window,xe=function(){if(ke&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0;return!1}();var Ce={event:"event",observer:"observer"},Se=function(){if(ke)return"function"==typeof window.CustomEvent?window.CustomEvent:(e.prototype=window.Event.prototype,e);function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}}();function Ie(e,t){if(e.length){var o=e.indexOf(t);return o>-1?e.splice(o,1):void 0}}function Pe(e,t){if("IMG"===e.tagName&&e.getAttribute("data-srcset")){var o=e.getAttribute("data-srcset"),r=[],n=e.parentNode.offsetWidth*t,l=void 0,c=void 0,d=void 0;(o=o.trim().split(",")).map((function(e){e=e.trim(),-1===(l=e.lastIndexOf(" "))?(c=e,d=999998):(c=e.substr(0,l),d=parseInt(e.substr(l+1,e.length-l-2),10)),r.push([d,c])})),r.sort((function(a,b){if(a[0]<b[0])return 1;if(a[0]>b[0])return-1;if(a[0]===b[0]){if(-1!==b[1].indexOf(".webp",b[1].length-5))return 1;if(-1!==a[1].indexOf(".webp",a[1].length-5))return-1}return 0}));for(var h="",v=void 0,i=0;i<r.length;i++){h=(v=r[i])[1];var f=r[i+1];if(f&&f[0]<n){h=v[1];break}if(!f){h=v[1];break}}return h}}function Me(e,t){for(var o=void 0,i=0,r=e.length;i<r;i++)if(t(e[i])){o=e[i];break}return o}var Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return ke&&window.devicePixelRatio||e};function Te(){if(!ke)return!1;var e=!0,t=document;try{var o=t.createElement("object");o.type="image/webp",o.style.visibility="hidden",o.innerHTML="!",t.body.appendChild(o),e=!o.offsetWidth,t.body.removeChild(o)}catch(t){e=!1}return e}var Le=function(){if(ke){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}}(),je={on:function(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Le?e.addEventListener(t,o,{capture:r,passive:!0}):e.addEventListener(t,o,r)},off:function(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,o,r)}},$e=function(e,t,o){var image=new Image;if(!e||!e.src){var r=new Error("image src is required");return o(r)}image.src=e.src,image.onload=function(){t({naturalHeight:image.naturalHeight,naturalWidth:image.naturalWidth,src:image.src})},image.onerror=function(e){o(e)}},style=function(e,t){return"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]},Ee=function(e){return style(e,"overflow")+style(e,"overflow-y")+style(e,"overflow-x")};function Re(){}var De=function(){function e(t){var o=t.max;de(this,e),this.options={max:o||100},this._caches=[]}return ue(e,[{key:"has",value:function(e){return this._caches.indexOf(e)>-1}},{key:"add",value:function(e){this.has(e)||(this._caches.push(e),this._caches.length>this.options.max&&this.free())}},{key:"free",value:function(){this._caches.shift()}}]),e}(),ze=function(){function e(t){var o=t.el,r=t.src,n=t.error,l=t.loading,c=t.bindType,d=t.$parent,h=t.options,v=t.elRenderer,f=t.imageCache;de(this,e),this.el=o,this.src=r,this.error=n,this.loading=l,this.bindType=c,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=h,this.rect=null,this.$parent=d,this.elRenderer=v,this._imageCache=f,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return ue(e,[{key:"initState",value:function(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(e){this.performanceData[e]=Date.now()}},{key:"update",value:function(e){var t=e.src,o=e.loading,r=e.error,n=this.src;this.src=t,this.loading=o,this.error=r,this.filter(),n!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var e=this;(function(e){if(!(e instanceof Object))return[];if(Object.keys)return Object.keys(e);var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(o);return t})(this.options.filter).map((function(t){e.options.filter[t](e,e.options)}))}},{key:"renderLoading",value:function(e){var t=this;this.state.loading=!0,$e({src:this.loading},(function(data){t.render("loading",!1),t.state.loading=!1,e()}),(function(){e(),t.state.loading=!1,t.options.silent||console.warn("VueLazyload log: load failed with loading image("+t.loading+")")}))}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void t()):this.state.rendered&&this.state.loaded?void 0:this._imageCache.has(this.src)?(this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,t()):void this.renderLoading((function(){e.attempt++,e.options.adapter.beforeLoad&&e.options.adapter.beforeLoad(e,e.options),e.record("loadStart"),$e({src:e.src},(function(data){e.naturalHeight=data.naturalHeight,e.naturalWidth=data.naturalWidth,e.state.loaded=!0,e.state.error=!1,e.record("loadEnd"),e.render("loaded",!1),e.state.rendered=!0,e._imageCache.add(e.src),t()}),(function(t){!e.options.silent&&console.error(t),e.state.error=!0,e.state.loaded=!1,e.render("error",!1)}))}))}},{key:"render",value:function(e,t){this.elRenderer(this,e,t)}},{key:"performance",value:function(){var e="loading",time=0;return this.state.loaded&&(e="loaded",time=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:time}}},{key:"$destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),e}(),Ae="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ne=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],Fe={rootMargin:"0px",threshold:0},Be=function(e){return function(){function t(e){var o=e.preLoad,r=e.error,n=e.throttleWait,l=e.preLoadTop,c=e.dispatchEvent,d=e.loading,h=e.attempt,v=e.silent,f=void 0===v||v,m=e.scale,y=e.listenEvents;e.hasbind;var w,_,k,x,filter=e.filter,C=e.adapter,S=e.observer,I=e.observerOptions;de(this,t),this.version="1.3.3",this.mode=Ce.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:f,dispatchEvent:!!c,throttleWait:n||200,preLoad:o||1.3,preLoadTop:l||0,error:r||Ae,loading:d||Ae,attempt:h||3,scale:m||Oe(m),ListenEvents:y||Ne,hasbind:!1,supportWebp:Te(),filter:filter||{},adapter:C||{},observer:!!S,observerOptions:I||Fe},this._initEvent(),this._imageCache=new De({max:200}),this.lazyLoadHandler=(w=this._lazyLoadHandler.bind(this),_=this.options.throttleWait,k=null,x=0,function(){if(!k){var e=Date.now()-x,t=this,o=arguments,r=function(){x=Date.now(),k=!1,w.apply(t,o)};e>=_?r():k=setTimeout(r,_)}}),this.setMode(this.options.observer?Ce.observer:Ce.event)}return ue(t,[{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_e(this.options,e)}},{key:"performance",value:function(){var e=[];return this.ListenerQueue.map((function(t){e.push(t.performance())})),e}},{key:"addLazyBox",value:function(e){this.ListenerQueue.push(e),ke&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}},{key:"add",value:function(t,o,r){var n=this;if(function(e,t){for(var o=!1,i=0,r=e.length;i<r;i++)if(t(e[i])){o=!0;break}return o}(this.ListenerQueue,(function(e){return e.el===t})))return this.update(t,o),e.nextTick(this.lazyLoadHandler);var l=this._valueFormatter(o.value),c=l.src,d=l.loading,h=l.error;e.nextTick((function(){c=Pe(t,n.options.scale)||c,n._observer&&n._observer.observe(t);var l=Object.keys(o.modifiers)[0],v=void 0;l&&(v=(v=r.context.$refs[l])?v.$el||v:document.getElementById(l)),v||(v=function(e){if(ke){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(Ee(t)))return t;t=t.parentNode}return window}}(t));var f=new ze({bindType:o.arg,$parent:v,el:t,loading:d,error:h,src:c,elRenderer:n._elRenderer.bind(n),options:n.options,imageCache:n._imageCache});n.ListenerQueue.push(f),ke&&(n._addListenerTarget(window),n._addListenerTarget(v)),n.lazyLoadHandler(),e.nextTick((function(){return n.lazyLoadHandler()}))}))}},{key:"update",value:function(t,o,r){var n=this,l=this._valueFormatter(o.value),c=l.src,d=l.loading,h=l.error;c=Pe(t,this.options.scale)||c;var v=Me(this.ListenerQueue,(function(e){return e.el===t}));v?v.update({src:c,loading:d,error:h}):this.add(t,o,r),this._observer&&(this._observer.unobserve(t),this._observer.observe(t)),this.lazyLoadHandler(),e.nextTick((function(){return n.lazyLoadHandler()}))}},{key:"remove",value:function(e){if(e){this._observer&&this._observer.unobserve(e);var t=Me(this.ListenerQueue,(function(t){return t.el===e}));t&&(this._removeListenerTarget(t.$parent),this._removeListenerTarget(window),Ie(this.ListenerQueue,t),t.$destroy())}}},{key:"removeComponent",value:function(e){e&&(Ie(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(e){var t=this;xe||e!==Ce.observer||(e=Ce.event),this.mode=e,e===Ce.event?(this._observer&&(this.ListenerQueue.forEach((function(e){t._observer.unobserve(e.el)})),this._observer=null),this.TargetQueue.forEach((function(e){t._initListen(e.el,!0)}))):(this.TargetQueue.forEach((function(e){t._initListen(e.el,!1)})),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(e){if(e){var t=Me(this.TargetQueue,(function(t){return t.el===e}));return t?t.childrenCount++:(t={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===Ce.event&&this._initListen(t.el,!0),this.TargetQueue.push(t)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(e){var t=this;this.TargetQueue.forEach((function(o,r){o.el===e&&(o.childrenCount--,o.childrenCount||(t._initListen(o.el,!1),t.TargetQueue.splice(r,1),o=null))}))}},{key:"_initListen",value:function(e,t){var o=this;this.options.ListenEvents.forEach((function(r){return je[t?"on":"off"](e,r,o.lazyLoadHandler)}))}},{key:"_initEvent",value:function(){var e=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(t,o){e.Event.listeners[t]||(e.Event.listeners[t]=[]),e.Event.listeners[t].push(o)},this.$once=function(t,o){var r=e;e.$on(t,(function e(){r.$off(t,e),o.apply(r,arguments)}))},this.$off=function(t,o){if(o)Ie(e.Event.listeners[t],o);else{if(!e.Event.listeners[t])return;e.Event.listeners[t].length=0}},this.$emit=function(t,o,r){e.Event.listeners[t]&&e.Event.listeners[t].forEach((function(e){return e(o,r)}))}}},{key:"_lazyLoadHandler",value:function(){var e=this,t=[];this.ListenerQueue.forEach((function(e,o){e.el&&e.el.parentNode||t.push(e),e.checkInView()&&e.load()})),t.forEach((function(t){Ie(e.ListenerQueue,t),t.$destroy()}))}},{key:"_initIntersectionObserver",value:function(){var e=this;xe&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach((function(t){e._observer.observe(t.el)})))}},{key:"_observerHandler",value:function(e,t){var o=this;e.forEach((function(e){e.isIntersecting&&o.ListenerQueue.forEach((function(t){if(t.el===e.target){if(t.state.loaded)return o._observer.unobserve(t.el);t.load()}}))}))}},{key:"_elRenderer",value:function(e,t,o){if(e.el){var r=e.el,n=e.bindType,l=void 0;switch(t){case"loading":l=e.loading;break;case"error":l=e.error;break;default:l=e.src}if(n?r.style[n]='url("'+l+'")':r.getAttribute("src")!==l&&r.setAttribute("src",l),r.setAttribute("lazy",t),this.$emit(t,e,o),this.options.adapter[t]&&this.options.adapter[t](e,this.options),this.options.dispatchEvent){var c=new Se(t,{detail:e});r.dispatchEvent(c)}}}},{key:"_valueFormatter",value:function(e){var t,o=e,r=this.options.loading,n=this.options.error;return null!==(t=e)&&"object"===(void 0===t?"undefined":pe(t))&&(e.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+e),o=e.src,r=e.loading||this.options.loading,n=e.error||this.options.error),{src:o,loading:r,error:n}}}]),t}()},We=function(e){return{props:{tag:{type:String,default:"div"}},render:function(e){return!1===this.show?e(this.tag):e(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeDestroy:function(){e.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),ke&&this.rect.top<window.innerHeight*e.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*e.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)},destroy:function(){return this.$destroy}}}},Ue=function(){function e(t){var o=t.lazy;de(this,e),this.lazy=o,o.lazyContainerMananger=this,this._queue=[]}return ue(e,[{key:"bind",value:function(e,t,o){var r=new Ve({el:e,binding:t,vnode:o,lazy:this.lazy});this._queue.push(r)}},{key:"update",value:function(e,t,o){var r=Me(this._queue,(function(t){return t.el===e}));r&&r.update({el:e,binding:t,vnode:o})}},{key:"unbind",value:function(e,t,o){var r=Me(this._queue,(function(t){return t.el===e}));r&&(r.clear(),Ie(this._queue,r))}}]),e}(),He={selector:"img"},Ve=function(){function e(t){var o=t.el,r=t.binding,n=t.vnode,l=t.lazy;de(this,e),this.el=null,this.vnode=n,this.binding=r,this.options={},this.lazy=l,this._queue=[],this.update({el:o,binding:r})}return ue(e,[{key:"update",value:function(e){var t=this,o=e.el,r=e.binding;this.el=o,this.options=_e({},He,r.value),this.getImgs().forEach((function(e){t.lazy.add(e,_e({},t.binding,{value:{src:"dataset"in e?e.dataset.src:e.getAttribute("data-src"),error:("dataset"in e?e.dataset.error:e.getAttribute("data-error"))||t.options.error,loading:("dataset"in e?e.dataset.loading:e.getAttribute("data-loading"))||t.options.loading}}),t.vnode)}))}},{key:"getImgs",value:function(){return function(e){for(var t=e.length,o=[],i=0;i<t;i++)o.push(e[i]);return o}(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var e=this;this.getImgs().forEach((function(t){return e.lazy.remove(t)})),this.vnode=null,this.binding=null,this.lazy=null}}]),e}(),Ye=function(e){return{props:{src:[String,Object],tag:{type:String,default:"img"}},render:function(e){return e(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data:function(){return{el:null,options:{src:"",error:"",loading:"",attempt:e.options.attempt},state:{loaded:!1,error:!1,attempt:0},rect:{},renderSrc:""}},watch:{src:function(){this.init(),e.addLazyBox(this),e.lazyLoadHandler()}},created:function(){this.init(),this.renderSrc=this.options.loading},mounted:function(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeDestroy:function(){e.removeComponent(this)},methods:{init:function(){var t=e._valueFormatter(this.src),o=t.src,r=t.loading,n=t.error;this.state.loaded=!1,this.options.src=o,this.options.error=n,this.options.loading=r,this.renderSrc=this.options.loading},getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),ke&&this.rect.top<window.innerHeight*e.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*e.options.preLoad&&this.rect.right>0},load:function(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;if(this.state.attempt>this.options.attempt-1&&this.state.error)return e.options.silent||console.log("VueLazyload log: "+this.options.src+" tried too more than "+this.options.attempt+" times"),void o();var r=this.options.src;$e({src:r},(function(e){var o=e.src;t.renderSrc=o,t.state.loaded=!0}),(function(e){t.state.attempt++,t.renderSrc=t.options.error,t.state.error=!0}))}}}},Xe={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Be(e),r=new o(t),n=new Ue({lazy:r}),l="2"===e.version.split(".")[0];e.prototype.$Lazyload=r,t.lazyComponent&&e.component("lazy-component",We(r)),t.lazyImage&&e.component("lazy-image",Ye(r)),l?(e.directive("lazy",{bind:r.add.bind(r),update:r.update.bind(r),componentUpdated:r.lazyLoadHandler.bind(r),unbind:r.remove.bind(r)}),e.directive("lazy-container",{bind:n.bind.bind(n),componentUpdated:n.update.bind(n),unbind:n.unbind.bind(n)})):(e.directive("lazy",{bind:r.lazyLoadHandler.bind(r),update:function(e,t){_e(this.vm.$refs,this.vm.$els),r.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:e,oldValue:t},{context:this.vm})},unbind:function(){r.remove(this.el)}}),e.directive("lazy-container",{update:function(e,t){n.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:e,oldValue:t},{context:this.vm})},unbind:function(){n.unbind(this.el)}}))}};var Ke=function(template,style,script,e,t,o,r,n,l,c){"boolean"!=typeof r&&(l=n,n=r,r=!1);var d,h="function"==typeof script?script.options:script;if(template&&template.render&&(h.render=template.render,h.staticRenderFns=template.staticRenderFns,h._compiled=!0,t&&(h.functional=!0)),e&&(h._scopeId=e),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),style&&style.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=d):style&&(d=r?function(e){style.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){style.call(this,n(e))}),d)if(h.functional){var v=h.render;h.render=function(e,t){return d.call(t),v(e,t)}}else{var f=h.beforeCreate;h.beforeCreate=f?[].concat(f,d):[d]}return script},Ge=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"comma-text",class:{"is-print":e.isPrinting}},e._l(e.dataList,(function(t,r){return o("span",{key:r,staticClass:"comma-text-item",class:{"is-icon":"text"!==t.type}},["text"===t.type?[o("span",[e._v(e._s(t.content))])]:e._t("default")],2)})),0)},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),Object.defineProperty(t.prototype,"dataList",{get:function(){return(this.textData||[]).reduce((function(e,t){return e.length&&e.push({type:"icon",content:""}),e.push({type:"text",content:t}),e}),[])},enumerable:!1,configurable:!0}),U([se()],t.prototype,"textData",void 0),U([re("isPrinting")],t.prototype,"isPrinting",void 0),t=U([ie],t)}(r.default),"data-v-dfbf5874",!1,void 0,!1,void 0,void 0,void 0),qe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.434 2.73a.8.8 0 011.13 0l6.766 6.764a.8.8 0 010 1.132L8.565 17.39a.8.8 0 01-1.131-1.131l6.199-6.2-6.2-6.198a.8.8 0 010-1.132z"}})])}},Qe="undefined"==typeof window,Ze=function(e){void 0===e&&(e="desktop");return W({cardCrop:"/fl_lossy.progressive,q_auto/c_fill,w_480/",adminCrop:"/fl_lossy.progressive,q_auto/q_80,c_fill,w_400/",uploadUrl:"https://res.klook.com/image/upload"},{desktop:{previewCrop:"/fl_lossy.progressive,q_65/w_1080/"},mobile:{previewCrop:"/fl_lossy.progressive,q_65/"}}[e||"desktop"])},Je={1:.75,2:1,3:9/16};function et(e){var t=e.type,o=e.width,r=e.src,n=Math.floor(o),l=Math.floor(n*Je[t]),c="w_".concat(2*n,",h_").concat(2*l);return r.includes("c_fill")?r:r.replace("image/upload/","image/upload/q_85/c_fill,".concat(c,"/"))}var tt=function(e){return new Promise((function(t){var o=document.createElement("textarea");o.value=e,o.style.position="absolute",o.style.left="-9999px",o.readOnly=!0,o.contentEditable="true",document.body.appendChild(o),it(o,0,e.length),document.execCommand("copy")?(document.body.removeChild(o),t(!0)):t(!1)}))},it=function(e,t,o){if(navigator.userAgent.match(/ipad|iPod|iphone/i)){var r=document.createRange();r.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(r),e.setSelectionRange(t,o)}else e.select()};function ot(e,t,o,r,n,l){void 0===l&&(l=!0);var c=e||"";if(t&&e){var d=t+"fl_lossy.progressive,q_85/",h=r>0?",h_"+r+"/":"/";c=(c=c.replace(t,d)).replace(d,d+(l?"c_fill,":"")+"w_"+o+h),n&&c.indexOf("res.klook.com")>0&&(c=c.replace(/.(jpg|png|jpeg|gif)$/,".webp"))}return c}function nt(){return"uuid_".concat(Math.random().toString(36).substring(2,15))}var at=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"see-more-with-lines",class:{"cursor-pointer":e.isShowMoreBtn&&!e.hideMoreButton},on:{click:function(t){return e.showMore()}}},[o("p",{ref:"contentRef",staticClass:"content",class:{"not-truncated":e.isShowMore},style:{"-webkit-line-clamp":e.maxLines,"white-space":"pre-line"},domProps:{innerHTML:e._s(e.content)}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMoreBtn&&!e.hideMoreButton,expression:"isShowMoreBtn && !hideMoreButton"}],staticClass:"more-btn-wrap"},[o("span",{staticClass:"more-btn"},[o("span",[e._v("\n        "+e._s(e.viewMoreText)+"\n      ")]),e._v(" "),e.showMoreIcon?o("span",{staticClass:"more-btn-icon"},[o("ArrowRightSvg",{staticStyle:{"margin-left":"4px",width:"14px",height:"14px"}})],1):e._e()])])])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isShowMore=!0,t.isShowMoreBtn=!1,t.elementObserver=null,t.shouldCreateObserver=!1,t}return B(t,e),Object.defineProperty(t.prototype,"viewMoreText",{get:function(){return this.isShowMore?this.translateI18n("collapse_all"):this.translateI18n("city_page_view_more")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideMoreButton",{get:function(){return this.isShowMore&&this.hideLess},enumerable:!1,configurable:!0}),t.prototype.beforeDestroy=function(){this.destroyObserver()},t.prototype.showMore=function(){this.hideMoreButton||(this.isShowMore=!this.isShowMore,this.$emit("show-more"))},t.prototype.checkHeight=function(){if(!this.isShowMoreBtn&&!Qe){var e=this.contentRef;e&&e.scrollHeight>e.offsetHeight?this.isShowMoreBtn=!0:e&&0===e.scrollHeight&&(this.shouldCreateObserver=!0)}},t.prototype.createObserver=function(){var e=this;"IntersectionObserver"in window&&(this.elementObserver=new IntersectionObserver((function(t){t.forEach((function(t){t.intersectionRatio>0&&(e.checkHeight(),e.destroyObserver())}))}),{threshold:[.1]}),this.contentRef&&this.elementObserver.observe(this.contentRef))},t.prototype.destroyObserver=function(){this.elementObserver&&this.contentRef&&this.elementObserver.unobserve(this.contentRef)},U([se({default:2})],t.prototype,"maxLines",void 0),U([se()],t.prototype,"content",void 0),U([se({default:!1})],t.prototype,"hideLess",void 0),U([se({default:!1})],t.prototype,"showMoreIcon",void 0),U([se({default:!1})],t.prototype,"visible",void 0),U([re({default:function(){return""}})],t.prototype,"translateI18n",void 0),U([ce()],t.prototype,"contentRef",void 0),t=U([ie({components:{ArrowRightSvg:qe}})],t)}(r.default),"data-v-e0eb63b8",!1,void 0,!1,void 0,void 0,void 0),st=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.valid?o("div",{staticClass:"icons-wrapper"},e._l(e.icons,(function(t,r){return o("div",{key:r,staticClass:"icon-item",class:e.classList},[o("img",{staticClass:"icon",attrs:{src:t.icon,alt:""}}),e._v(" "),o("span",{staticClass:"text"},[e._v(e._s(t.text))])])})),0):e._e()},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),Object.defineProperty(t.prototype,"valid",{get:function(){var e;return null===(e=this.icons)||void 0===e?void 0:e.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classList",{get:function(){var e;return this.isImageSwiper?["const-width"]:((null===(e=this.icons)||void 0===e?void 0:e.length)||0)%2?["odd-icons"]:[]},enumerable:!1,configurable:!0}),U([se({default:function(){return[]}})],t.prototype,"icons",void 0),U([re("isImageSwiper")],t.prototype,"isImageSwiper",void 0),t=U([ie],t)}(r.default),"data-v-0bb303c8",!1,void 0,!1,void 0,void 0,void 0),lt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"itinerary-text"},[e.componentData.icons&&e.componentData.icons.length>0?[o("div",{staticClass:"itinerary-text-icons"},[o("IconGroup",{attrs:{icons:e.componentData.icons}})],1)]:e._e(),e._v(" "),e.textsList.length?o("div",{staticClass:"itinerary-text-content"},e._l(e.textsList,(function(t,r){return o("div",{key:t.type+"-"+r,staticClass:"itinerary-text-content-wrap"},[e.isNewPickUp?o("div",{staticClass:"itinerary-text-content-item-icon"},[t.icon?o("img",{staticClass:"itinerary-text-content-item-icon-img",attrs:{src:t.icon}}):e._e()]):e._e(),e._v(" "),"text"===t.type?o("SeeMoreWithLines",{staticClass:"itinerary-text-content-item",class:[e.isNewPickUp?"item-desc":"item-text"],attrs:{content:t.text,"hide-less":!0,"max-lines":9999,"hide-more-button":!0},on:{"show-more":e.handleShowMore}}):["desc","dark_desc"].includes(t.type)?o("div",{staticClass:"itinerary-text-content-item item-text",class:[e.isNewPickUp?"item-desc":"item-text"]},[e._v("\n        "+e._s(t.text)+"\n      ")]):e._e()],1)})),0):e._e()],2)},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),t.prototype.handleShowMore=function(){this.$emit("check-height")},Object.defineProperty(t.prototype,"textsList",{get:function(){var e,t;return d()(null!==(t=null===(e=this.componentData)||void 0===e?void 0:e.texts)&&void 0!==t?t:[]).map((function(e){if("bold"===e.type){var t=new RegExp(e.bold,"g");e.text=e.text.replace(t,"<b>".concat(e.bold,"</b>")),e.type="text"}return e}))},enumerable:!1,configurable:!0}),U([se()],t.prototype,"componentData",void 0),U([re("platform")],t.prototype,"platform",void 0),U([re("isMobile")],t.prototype,"isMobile",void 0),U([re("isNewPickUp")],t.prototype,"isNewPickUp",void 0),t=U([ie({components:{SeeMoreWithLines:at,IconGroup:st}})],t)}(r.default),"data-v-17c63c50",!1,void 0,!1,void 0,void 0,void 0),ct={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 24 24",fill:"none"}},[t("path",{attrs:{d:"M5.707 17.02a1 1 0 101.414 1.415l4.95-4.95 4.95 4.95a1 1 0 101.414-1.414l-4.95-4.95 4.95-4.95a1 1 0 10-1.414-1.414l-4.95 4.95-4.95-4.95a1 1 0 10-1.414 1.414l4.95 4.95-4.95 4.95z",fill:"#fff"}})])}},pt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.isDesktop?o("transition",{attrs:{name:"fade"}},[o("div",{staticClass:"page-activity-map-container",on:{click:function(t){return t.stopPropagation(),e.hideMap(t)}}},[o("div",{staticClass:"page-activity-map-wrap",on:{click:function(e){e.stopPropagation()}}},[o("Klk-map",{attrs:{language:e.language,height:"100%",center:e.cloneAddress,zoom:e.zoom,type:e.mapStyle,"map-tracker":e.localMapTracker}},[o("klk-map-marker",{attrs:{center:e.cloneAddress}},[e.addressDesc?o("span",{attrs:{slot:"poptip"},slot:"poptip"},[e._v("\n            "+e._s(e.addressDesc)+"\n          ")]):e._e()])],1)],1),e._v(" "),o("div",{staticClass:"map-close",on:{click:function(t){return t.stopPropagation(),e.hideMap(t)}}},[o("CloseSvg",{staticStyle:{width:"100%",height:"100%"}})],1)])]):o("klk-modal",{attrs:{fullscreen:"",open:e.mapShow},on:{"update:open":function(t){e.mapShow=t}}},[o("div",{staticClass:"page-activity-map-container"},[o("Klk-map",{attrs:{language:e.language,height:"100%",center:e.cloneAddress,zoom:e.zoom,type:e.mapStyle,"map-tracker":e.localMapTracker}},[o("klk-map-marker",{attrs:{center:e.cloneAddress}},[e.addressDesc?o("span",{attrs:{slot:"poptip"},slot:"poptip"},[e._v("\n          "+e._s(e.addressDesc)+"\n        ")]):e._e()])],1),e._v(" "),o("div",{staticClass:"map-close",on:{click:e.hideMap}},[o("CloseSvg",{staticStyle:{width:"18px",height:"18px"}})],1)],1)])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mapShow=!1,t}return B(t,e),t.prototype.onShowChange=function(){this.showMap()},Object.defineProperty(t.prototype,"cloneAddress",{get:function(){return this.address?this.address.split(",").reverse().join(","):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDesktop",{get:function(){return"desktop"===this.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localMapTracker",{get:function(){return W(W({},this.realMapTracker||{}),{mapPlace:"PlayAPI_Activity_ItineraryMap"})},enumerable:!1,configurable:!0}),t.prototype.showMap=function(){this.mapShow=!0},t.prototype.hideMap=function(){this.mapShow=!1,this.$emit("update:show",!1)},t.prototype.mounted=function(){this.address&&this.showMap()},U([se({default:""})],t.prototype,"address",void 0),U([se({default:""})],t.prototype,"addressDesc",void 0),U([se()],t.prototype,"show",void 0),U([se({default:16})],t.prototype,"zoom",void 0),U([re("platform")],t.prototype,"platform",void 0),U([re("mapStyle")],t.prototype,"mapStyle",void 0),U([re("language2provide")],t.prototype,"language",void 0),U([re("realMapTracker")],t.prototype,"realMapTracker",void 0),U([le("show")],t.prototype,"onShowChange",null),t=U([ie({components:{KlkMapMarker:f.d,KlkMap:f.a,CloseSvg:ct}})],t)}(r.default),"data-v-7827dd42",!1,void 0,!1,void 0,void 0,void 0),ut=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.item.title||e.showMap?o("div",{staticClass:"title-wrapper",class:[{"map-title-wrapper":e.showMap}]},[o("div",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"ItineraryMap",autoTrackSpm:!0},expression:"{ spm: 'ItineraryMap', autoTrackSpm: true }"}],staticClass:"text-box",on:{click:e.handleMap}},[o("div",{staticClass:"text"},[e.showMap&&!e.isPrinting?o("span",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"ItineraryMap"},expression:"{ spm: 'ItineraryMap' }"}],staticClass:"map1 map",class:[e.isOver24Height?"show":"hidden"],attrs:{"data-spm-module":"ItineraryMap?"+e.spmParams,"data-spm-virtual-item":"__virtual?type=entry"}},[e._v("\n        "+e._s(e.translateI18n("16271"))+"\n      ")]):e._e(),e._v(" "),e.item.title?o("span",{ref:"contentRef",staticClass:"title"},[e._v(e._s(e.item.title))]):e._e(),e._v(" "),e.showMap&&!e.isPrinting?o("span",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"ItineraryMap"},expression:"{ spm: 'ItineraryMap' }"}],staticClass:"map",class:[{"no-margin-left":!e.item.title}],attrs:{"data-spm-module":"ItineraryMap?"+e.spmParams,"data-spm-virtual-item":"__virtual?type=entry"}},[e._v("\n      "+e._s(e.translateI18n("16271"))+"\n      ")]):e._e()])]),e._v(" "),e.mapVisible?o("Map",e._b({attrs:{show:e.mapVisible},on:{"update:show":function(t){e.mapVisible=t}}},"Map",e.mapAtrrs,!1)):e._e()],1):e._e()},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mapVisible=!1,t.isOver24Height=!1,t.elementObserver=null,t.shouldCreateObserver=!1,t}return B(t,e),Object.defineProperty(t.prototype,"showMap",{get:function(){var e,t;return null===(t=null===(e=this.item)||void 0===e?void 0:e.map)||void 0===t?void 0:t.location},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapAtrrs",{get:function(){var e;if(null===(e=this.item)||void 0===e?void 0:e.map){var t=this.item.map||{};return{address:t.location,addressDesc:t.address_desc}}return this.mapVisible&&(this.mapVisible=!1),{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spmParams",{get:function(){return"oid=package_".concat(this.packageId,"&ext=").concat(JSON.stringify({MapType:this.trackInfo.type}))},enumerable:!1,configurable:!0}),t.prototype.handleMap=function(){this.customMap?this.handleShowMap(this.item):this.showMap&&(this.mapVisible=!0)},t.prototype.getTextHeight=function(){if(!Qe){var e=this.$el&&this.$el.querySelector&&this.$el.querySelector(".title");if(e){var t=e.getBoundingClientRect().height;0===t?this.shouldCreateObserver=!0:t>24&&(this.isOver24Height=!0)}}},t.prototype.createObserver=function(){var e=this;"IntersectionObserver"in window&&(this.elementObserver=new IntersectionObserver((function(t){t.forEach((function(t){t.intersectionRatio>0&&(e.getTextHeight(),e.destroyObserver())}))}),{threshold:[.1]}),this.contentRef&&this.elementObserver.observe(this.contentRef))},t.prototype.destroyObserver=function(){this.elementObserver&&this.contentRef&&this.elementObserver.unobserve(this.contentRef)},t.prototype.beforeDestroy=function(){this.destroyObserver()},t.prototype.mounted=function(){var e=this;this.$nextTick((function(){e.getTextHeight(),e.shouldCreateObserver&&e.createObserver()}))},U([se({default:function(){return{}}})],t.prototype,"item",void 0),U([se({default:function(){return{}}})],t.prototype,"trackInfo",void 0),U([re({default:function(){return""}})],t.prototype,"translateI18n",void 0),U([re("packageId")],t.prototype,"packageId",void 0),U([re("platform")],t.prototype,"platform",void 0),U([ce()],t.prototype,"contentRef",void 0),U([re("customMap")],t.prototype,"customMap",void 0),U([re({default:function(){return null}})],t.prototype,"handleShowMap",void 0),U([re("isPrinting")],t.prototype,"isPrinting",void 0),t=U([ie({components:{Map:pt}})],t)}(r.default),"data-v-5a3b10a2",!1,void 0,!1,void 0,void 0,void 0),ht=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.item.title||e.showMap?o("div",{staticClass:"title-wrapper",class:[{"map-title-wrapper":e.showMap},e.platform]},[e.item.title?o("div",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"ItineraryMap",autoTrackSpm:!0},expression:"{ spm: 'ItineraryMap', autoTrackSpm: true }"}],staticClass:"text-box",class:{"show-map":e.showMap},attrs:{"data-spm-module":"ItineraryMap?"+e.spmParams,"data-spm-virtual-item":"__virtual?type=entry"},on:{click:e.handleMap}},[e.item.title_icon?o("img",{staticClass:"title-icon",attrs:{src:e.item.title_icon}}):e._e(),e._v(" "),o("div",{staticClass:"title-text"},[e._v(e._s(e.item.title))])]):e._e()]):e._e()},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mapVisible=!1,t.isOver24Height=!1,t.elementObserver=null,t.shouldCreateObserver=!1,t}return B(t,e),Object.defineProperty(t.prototype,"showMap",{get:function(){var e,t;return null===(t=null===(e=this.item)||void 0===e?void 0:e.map)||void 0===t?void 0:t.location},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapAtrrs",{get:function(){var e;if(null===(e=this.item)||void 0===e?void 0:e.map){var t=this.item.map||{};return{address:t.location,addressDesc:t.address_desc}}return this.mapVisible&&(this.mapVisible=!1),{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spmParams",{get:function(){return"oid=package_".concat(this.packageId,"&ext=").concat(JSON.stringify({MapType:this.trackInfo.type}))},enumerable:!1,configurable:!0}),t.prototype.handleMap=function(){this.customMap?this.handleShowMap(this.item):this.showMap&&this.setMapShow(this.mapAtrrs)},t.prototype.getTextHeight=function(){if(!Qe){var e=this.$el&&this.$el.querySelector&&this.$el.querySelector(".title");if(e){var t=e.getBoundingClientRect().height;0===t?this.shouldCreateObserver=!0:t>24&&(this.isOver24Height=!0)}}},t.prototype.createObserver=function(){var e=this;"IntersectionObserver"in window&&(this.elementObserver=new IntersectionObserver((function(t){t.forEach((function(t){t.intersectionRatio>0&&(e.getTextHeight(),e.destroyObserver())}))}),{threshold:[.1]}),this.contentRef&&this.elementObserver.observe(this.contentRef))},t.prototype.destroyObserver=function(){this.elementObserver&&this.contentRef&&this.elementObserver.unobserve(this.contentRef)},t.prototype.beforeDestroy=function(){this.destroyObserver()},t.prototype.mounted=function(){var e=this;this.$nextTick((function(){e.getTextHeight(),e.shouldCreateObserver&&e.createObserver()}))},U([se({default:function(){return{}}})],t.prototype,"item",void 0),U([se({default:function(){return{}}})],t.prototype,"trackInfo",void 0),U([re({default:function(){return""}})],t.prototype,"translateI18n",void 0),U([re("packageId")],t.prototype,"packageId",void 0),U([re("platform")],t.prototype,"platform",void 0),U([ce()],t.prototype,"contentRef",void 0),U([re("customMap")],t.prototype,"customMap",void 0),U([re({default:function(){return null}})],t.prototype,"handleShowMap",void 0),U([re({default:function(){return null}})],t.prototype,"setMapShow",void 0),t=U([ie],t)}(r.default),"data-v-9241e4f8",!1,void 0,!1,void 0,void 0,void 0),vt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.valid?o("div",{staticClass:"summary-wrapper"},e._l(e.summaryList,(function(t,r){return o("span",{key:r,staticClass:"item"},[o("span",[e._v(" "+e._s(t)+" ")])])})),0):e._e()},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),Object.defineProperty(t.prototype,"valid",{get:function(){var e;return(null===(e=this.summaryList)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),U([se({default:function(){return[]}})],t.prototype,"summaryList",void 0),t=U([ie],t)}(r.default),"data-v-f91fe926",!1,void 0,!1,void 0,void 0,void 0),ft=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.valid?o("div",{staticClass:"icons-wrapper",class:{"flex-group":e.isImageSwiper}},e._l(e.iconList,(function(t,r){return o("div",{key:r,staticClass:"icon-item"},[o("img",{staticClass:"icon",attrs:{src:t.icon,alt:""}}),e._v(" "),o("span",{staticClass:"text"},[e._v(e._s(t.text))])])})),0):e._e()},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),Object.defineProperty(t.prototype,"valid",{get:function(){var e;return null===(e=this.iconList)||void 0===e?void 0:e.length},enumerable:!1,configurable:!0}),U([se({default:function(){return[]}})],t.prototype,"iconList",void 0),U([re("isImageSwiper")],t.prototype,"isImageSwiper",void 0),t=U([ie],t)}(r.default),"data-v-06bb5c82",!1,void 0,!1,void 0,void 0,void 0),mt=Ze("mobile"),gt={width:"0",height:"0",backgroundSize:"0"},yt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.valid?o("div",{staticClass:"image-container"},[o("div",{staticClass:"image-container-wrapper"},[o("div",{staticClass:"image-container-wrapper_left"},e._l(e.imagesObject.left,(function(t,r){return o("img",{key:r,staticClass:"banner-images",style:e.leftImgStyle,attrs:{src:t},on:{click:function(t){return e.imgClickEvent(0)}}})})),0),e._v(" "),e.imgs.length>2?o("div",{staticClass:"image-container-wrapper_right"},e._l(e.imagesObject.right,(function(t,r){return o("div",{key:r,staticClass:"container-item"},[o("img",{staticClass:"banner-images",style:e.rightImgStyle,attrs:{src:t},on:{click:function(t){return e.imgClickEvent(r+1)}}})])})),0):e._e()]),e._v(" "),e.imgCount?o("div",{staticClass:"img-count",on:{click:function(t){return e.imgClickEvent(0)}}},[e._v(e._s(e.imgCount))]):e._e()]):e._e()},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.leftImgStyle=gt,t.rightImgStyle=gt,t.borderRadius="16px",t.imagesObject={left:[],right:[]},t}return B(t,e),t.prototype.mounted=function(){this.calcImgStyle()},Object.defineProperty(t.prototype,"valid",{get:function(){var e;return null===(e=this.imgs)||void 0===e?void 0:e.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imgCount",{get:function(){var e=null;if(this.valid){var t=this.imgs.length;2===t&&(e="+1"),t>3&&(e="+".concat(t-3))}return e},enumerable:!1,configurable:!0}),t.prototype.imgClickEvent=function(e){this.$emit("viewImages",e)},t.prototype.getCropUrl=function(e){var t=this.getCropUrl2provide;return t?t(e,{crop:mt.cardCrop}):e},t.prototype.calcImgStyle=function(){var e=this;!Qe&&this.valid&&this.$nextTick((function(){var t=e.notIcon?40:84,o=e.imgs.length,r=e.$el.scrollWidth||document.documentElement.clientWidth-t;if(o<3)e.leftImgStyle={width:r+"px",height:9*r/16+"px",backgroundSize:3*r/16+"px",borderRadius:e.borderRadius},e.imagesObject.left=[et({type:"3",width:r,src:e.getCropUrl(e.imgs[0])})];else{var n=8*(r-1)/11,l=3*n/8-1;e.leftImgStyle={width:n+"px",height:3*n/4+"px",backgroundSize:n/4+"px",borderTopLeftRadius:e.borderRadius,borderBottomLeftRadius:e.borderRadius},e.rightImgStyle={width:l+"px",height:l+"px",backgroundSize:l/3+"px"},e.imagesObject.right=[e.imgs[1],e.imgs[2]].map((function(img){return et({type:"2",width:l,src:e.getCropUrl(img)})})),e.imagesObject.left=[et({type:"1",width:n,src:e.getCropUrl(e.imgs[0])})]}}))},U([se()],t.prototype,"imgs",void 0),U([se({default:!1})],t.prototype,"notIcon",void 0),U([re({default:null})],t.prototype,"getCropUrl2provide",void 0),t=U([ie],t)}(r.default),"data-v-07cb9d12",!1,void 0,!1,void 0,void 0,void 0),bt=Ke({render:function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"v-lazy-logo",style:{width:this.width+"px"},attrs:{src:"https://res.klook.com/image/upload/image_logo_mx7wgd.png",alt:"logoImg"}})},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),U([se({type:Number})],t.prototype,"width",void 0),U([se({type:String})],t.prototype,"ratio",void 0),t=U([ie],t)}(r.default),"data-v-edaae3a4",!1,void 0,!1,void 0,void 0,void 0),wt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("klk-card-swiper",{staticClass:"card-swiper-container",attrs:{"item-gap":16,"controller-position":"inside"}},e._l(e.imagesGroup,(function(t,r){return o("klk-card-swiper-item",{key:r,staticClass:"item-container",style:e.getItemWidth(t)},[e._l(t,(function(r,n){return[o("div",e._b({directives:[{name:"lazy",rawName:"v-lazy:background-image.container",value:r.src,expression:"item.src",arg:"background-image",modifiers:{container:!0}}],key:r.id+"_"+n,staticClass:"card-swiper-item",style:e.getImageWidth(t),attrs:{ratio:"1:1"},on:{click:function(t){return e.$emit("viewImages",r.id)}}},"div",e.trackInfo,!1),[o("Logo",{attrs:{ratio:"1:1",width:48}})],1),e._v(" "),n<t.length-1?o("div",{key:r.id,staticClass:"enmty"}):e._e()]}))],2)})),1)],1)},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),Object.defineProperty(t.prototype,"imagesGroup",{get:function(){return this.images.reduce((function(e,t,o){var i=Math.floor(o/3),image={id:o,src:t};return Array.isArray(e[i])?e[i].push(image):e[i]=[image],e}),[])},enumerable:!1,configurable:!0}),t.prototype.getItemWidth=function(e){var t,o=null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0,r=16*(o-1);return{width:"calc((100% - 32px) * ".concat(o,"/ 3 + ").concat(r,"px)")}},t.prototype.getImageWidth=function(e){var t,o=null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0;return{width:"calc((100% - ".concat(16*(o-1),"px) / ").concat(o,")")}},U([se()],t.prototype,"images",void 0),U([se({type:Object,default:function(){return{}}})],t.prototype,"trackInfo",void 0),U([re("provideCardSwiperItemWidth")],t.prototype,"provideCardSwiperItemWidth",void 0),t=U([ie({components:{KlkCardSwiper:m.CardSwiper,KlkCardSwiperItem:m.CardSwiperItem,Logo:bt}})],t)}(r.default),"data-v-12a3e6f0",!1,void 0,!1,void 0,void 0,void 0),_t=Ze("mobile"),kt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.hide?e._e():o("div",{staticClass:"itinerary-map-item mobile"},[e.hideTitle?e._e():o("div",{staticClass:"itinerary-map-item__right",class:{"has-img":e.hasNormalImg()}},[o("TitleV2",{attrs:{item:e.item,"track-info":e.trackInfo}})],1),e._v(" "),e.images&&e.images.length>0&&!e.isPrinting?o("div",{staticClass:"itinerary-map-item__left"},[e.isImageSwiper?o("ImageCardSwiper",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"ItineraryPhoto"},expression:"{spm: 'ItineraryPhoto'}"}],attrs:{images:e.filterDefaultImg(),"data-spm-module":e.TrackInfo,"data-spm-virtual-item":"__virtual?type=entry"},on:{viewImages:function(t){return e.viewImages(t)}}}):o("MobileImg",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"ItineraryPhoto"},expression:"{spm: 'ItineraryPhoto'}"}],staticClass:"mobile-img-component",attrs:{imgs:e.filterDefaultImg(),"not-icon":e.notIcon,"data-spm-module":e.TrackInfo,"data-spm-virtual-item":"__virtual?type=entry"},on:{viewImages:function(t){return e.viewImages(t)}}})],1):e._e(),e._v(" "),o("div",{staticClass:"itinerary-map-item__right",class:[{"has-img":e.hasNormalImg()},e.platform]},[o("Summary",{attrs:{"summary-list":e.item.summary_infos}}),e._v(" "),o("Icons",{attrs:{"icon-list":e.item.icons}}),e._v(" "),e.tips?o("div",{staticClass:"desc"},[e._v("\n      "+e._s(e.item.tips.text)+"\n    ")]):e._e()],1)])},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),Object.defineProperty(t.prototype,"images",{get:function(){var e;return(null===(e=this.item)||void 0===e?void 0:e.imgs)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hide",{get:function(){var e=this.item,t=e.imgs,o=e.summary_infos,r=e.icons;return[null==t?void 0:t.length,null==o?void 0:o.length,null==r?void 0:r.length].every((function(e){return!e}))&&this.hideTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tips",{get:function(){var e;return(null===(e=this.item.tips)||void 0===e?void 0:e.text)||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TrackInfo",{get:function(){return"ItineraryPhoto?oid=package_".concat(this.packageId,"&ext=").concat(JSON.stringify({PhotoType:this.trackInfo.type}))},enumerable:!1,configurable:!0}),t.prototype.viewImages=function(e){var t;(null===(t=this.images)||void 0===t?void 0:t.length)&&this.images.every((function(e){return"normal"===(null==e?void 0:e.type)}))&&this.$emit("showImageViewer",this.images,this.item.title,"number"==typeof e?e:null,this.item)},t.prototype.filterDefaultImg=function(){var e,t=this.getCropUrl2provide;return((null===(e=this.item)||void 0===e?void 0:e.imgs)||[]).filter((function(e){return"default"!==e.type})).map((function(e){return t?t(e.src,{crop:_t.cardCrop}):e.src}))||[]},t.prototype.hasNormalImg=function(){var e=this.filterDefaultImg();return!!(null==e?void 0:e.length)},t.prototype.mounted=function(){this.$emit("mounted",this.hide)},U([se({default:function(){return{}}})],t.prototype,"item",void 0),U([se({default:function(){return{}}})],t.prototype,"trackInfo",void 0),U([re("platform")],t.prototype,"platform",void 0),U([re("componentSize")],t.prototype,"componentSize",void 0),U([re("packageId")],t.prototype,"packageId",void 0),U([se({default:!1})],t.prototype,"hideTitle",void 0),U([se({default:!1})],t.prototype,"notIcon",void 0),U([re("isPrinting")],t.prototype,"isPrinting",void 0),U([re("isImageSwiper")],t.prototype,"isImageSwiper",void 0),U([re({default:null})],t.prototype,"getCropUrl2provide",void 0),t=U([ie({components:{Title:ut,Summary:vt,Icons:ft,MobileImg:yt,TitleV2:ht,ImageCardSwiper:wt}})],t)}(r.default),"data-v-852f6126",!1,void 0,!1,void 0,void 0,void 0);if(!Qe){var xt=o(390);r.default.use(xt)}r.default.use(v.a);var Ct=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.valid?o("div",{staticClass:"itinerary-map-wrapper"},e._l(e.poiData,(function(t,r){return o("poiItem",{key:r,attrs:{item:t,"track-info":e.trackInfo,"not-icon":e.notIcon,"hide-title":e.hideTitle},on:{mounted:e.poiItemMounted,showImageViewer:e.handleShowImageViewer}})})),1):e._e()},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hidden=!1,t}return B(t,e),t.prototype.poiItemMounted=function(e){void 0===e&&(e=!0),this.hidden=e},Object.defineProperty(t.prototype,"valid",{get:function(){var e,t,o=null===(t=null===(e=this.componentData)||void 0===e?void 0:e.poi_data)||void 0===t?void 0:t.length;return!!o&&(1!==o||!this.hidden)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"poiData",{get:function(){var e;return(null===(e=this.componentData)||void 0===e?void 0:e.poi_data)||[]},enumerable:!1,configurable:!0}),t.prototype.handleShowImageViewer=function(e,title,t,o){"function"!=typeof this.showImageFn?this.showImagesViewer(o,t):this.showImageFn(e,title,t)},U([se({default:!1})],t.prototype,"hackCloseBtn",void 0),U([se()],t.prototype,"showImageFn",void 0),U([se({default:function(){return{}}})],t.prototype,"componentData",void 0),U([se({default:function(){return{}}})],t.prototype,"trackInfo",void 0),U([se({default:!1})],t.prototype,"notIcon",void 0),U([se({default:!1})],t.prototype,"hideTitle",void 0),U([re("platform")],t.prototype,"platform",void 0),U([re("showImagesViewer")],t.prototype,"showImagesViewer",void 0),t=U([ie({components:{poiItem:kt}})],t)}(r.default),"data-v-469b648b",!1,void 0,!1,void 0,void 0,void 0);r.default.use(w.a);var St=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"tagging-tag"},[o("div",{staticClass:"tagging-tag_custom",style:e.customStyle},[e.leftIcon&&e.leftIcon.src?o("span",{staticClass:"tagging-tag_tips"},[o("img",e._b({staticClass:"tagging-tag_icon left-icon"},"img",e.leftIcon,!1))]):e._e(),e._v(" "),o("span",{staticClass:"tagging-tag_text"},[o("span",[e._v(e._s(e.$attrs.text))])]),e._v(" "),e.rightIcon&&e.rightIcon.src?["desktop"===e.platform?o("KlkPoptip",{staticClass:"tagging-tag_tips",attrs:{title:e.rightIcon.desc,dark:""}},[o("img",e._b({staticClass:"tagging-tag_icon right-icon"},"img",e.rightIcon,!1))]):o("span",{staticClass:"tagging-tag_tips"},[o("img",e._b({staticClass:"tagging-tag_icon right-icon",on:{click:function(t){return e.clickRightIcon(e.rightIcon.desc)}}},"img",e.rightIcon,!1))])]:e._e()],2)])},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),Object.defineProperty(t.prototype,"customStyle",{get:function(){var e=this.$attrs;return{class:e.class,maxWidth:e.maxWidth,color:e.color,borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderRadius:e.borderRadius}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftIcon",{get:function(){var e;return null===(e=this.$attrs)||void 0===e?void 0:e.leftIcon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightIcon",{get:function(){var e;return(null===(e=this.$attrs)||void 0===e?void 0:e.right_icon)||{}},enumerable:!1,configurable:!0}),t.prototype.clickRightIcon=function(title){this.$alert(title)},U([re("platform")],t.prototype,"platform",void 0),t=U([ie({components:{KlkPoptip:v.a}})],t)}(r.default),"data-v-089ea1d7",!1,void 0,!1,void 0,void 0,void 0),It=[{key:1,value:"middle-style"},{key:2,value:"small-style"}],Pt=[{key:"tag_key",mapKey:"tag_key"},{key:"icon",mapKey:"leftIcon",deepKeys:[{key:"left_icon_url",mapKey:"src"}]},{key:"type",mapKey:"class",getterValue:function(e){var t,o=e.value;return(null===(t=It.find((function(e){return e.key===o})))||void 0===t?void 0:t.value)||"middle-style"}},{key:"text",mapKey:"text"},{key:"text_color",mapKey:"color"},{key:"background_color",mapKey:"backgroundColor",getterValue:function(e){var t,o,r,n,l,c=e.value,d=e.item,h=c||"",v="number"==typeof(null==d?void 0:d.background_alpha)?null==d?void 0:d.background_alpha:0;return v=parseInt(255-255*v/100),t=h,o=v,r=parseInt("0x"+t.slice(1,3)),n=parseInt("0x"+t.slice(3,5)),l=parseInt("0x"+t.slice(5,7)),"rgba(".concat(r,", ").concat(n,", ").concat(l,", ").concat(o,")")}},{key:"border_color",mapKey:"borderColor"},{key:"radius",mapKey:"borderRadius",getterValue:function(e){var t=e.value;return"".concat(t,"px")}},{key:"right_action",mapKey:"right_icon",deepKeys:[{key:"icon",mapKey:"src"},{key:"desc",mapKey:"desc"}]}],Mt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.calcList&&e.calcList.length?o("div",{staticClass:"tagging-wrap",class:e.calcTagType,style:e.wrapStyle},[o("div",{staticClass:"tagging-box"},e._l(e.calcList,(function(t,i){return o("tag",e._b({key:i,class:[t.class,e.getSpecClass(t)]},"tag",Object.assign({},t,{maxWidth:e.maxWidth}),!1))})),1)]):e._e()},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.typeDefined={tagHeight:{"small-style":20,"middle-style":24}},t}return B(t,e),t.prototype.getSpecClass=function(e){var t=e||{},o=t.tag_key,r=t.leftIcon;return"credits"===o&&(null==r?void 0:r.src)?"credits-style":""},Object.defineProperty(t.prototype,"wrapStyle",{get:function(){var line=this.line,e=this.tagHeight,t=this.typeDefined,o=this.calcTagType,r="small-style"===o?4:8;if(!line)return{};var n=e||t.tagHeight[o];return{maxHeight:"".concat(n*line+(line-1)*r,"px")}},enumerable:!1,configurable:!0}),t.prototype.getMapsItem=function(e,t){var o=this;return t.reduce((function(t,r){var n=r.key,l=r.mapKey,c=r.deepKeys,d=r.getterValue;if(c&&"object"==typeof e[n])t[l]=o.getMapsItem(e[n],c);else{var h=e[n];t[l]=d?d({value:h,item:e}):h}return t}),{})},Object.defineProperty(t.prototype,"calcTagType",{get:function(){var e,t;return(null===(t=null===(e=this.calcList)||void 0===e?void 0:e[0])||void 0===t?void 0:t.class)||this.tagType||"middle-style"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calcList",{get:function(){var e=this;return(Array.isArray(this.list)?this.list:[]).map((function(t){return e.getMapsItem(t,Pt)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calcTrack",{get:function(){return{type:"item",spm:"Savings_Detail"}},enumerable:!1,configurable:!0}),U([se({type:Object,default:null})],t.prototype,"pkg",void 0),U([se({type:String,default:""})],t.prototype,"tagType",void 0),U([se({type:String,default:"auto"})],t.prototype,"maxWidth",void 0),U([se({type:Number,default:0})],t.prototype,"line",void 0),U([se({type:Number,default:0})],t.prototype,"tagHeight",void 0),U([se({type:Array,default:function(){return[]}})],t.prototype,"list",void 0),t=U([ie({components:{tag:St}})],t)}(r.default),"data-v-b7bb120a",!1,void 0,!1,void 0,void 0,void 0),Ot=Ke({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"view-more",class:{"has-shadow":!this.hideShadow}},[t("span",{staticClass:"view-more_text"},[this._t("default")],2)])},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),U([se()],t.prototype,"hideShadow",void 0),t=U([ie],t)}(r.default),"data-v-e8dbdd28",!1,void 0,!1,void 0,void 0,void 0),Tt=Ze("mobile"),Lt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",e._l(e.subData,(function(t,r){return o("div",{key:t.attr_id+"_"+r,staticClass:"group-wrap"},[o("img",{staticClass:"group-icon",attrs:{src:t.title_icon}}),e._v(" "),o("div",{staticClass:"group-right"},[o("div",{staticClass:"group-head"},[e._v(e._s(t.title))]),e._v(" "),e.validGroup(t)?o("div",{staticClass:"group-data",class:[e.platform]},[e.getTitle(t)?o("div",e._b({staticClass:"group-title",class:{"is-invalid-poi":!e.isValidePoi(t)},on:{click:function(o){return e.handleMap(t)}}},"div",e.getTracker(t),!1),[o("div",{staticClass:"group-title-text"},[e._v(e._s(e.getTitle(t)))]),e._v(" "),o("ArrowRightSvg",{staticClass:"group-title-arr"})],1):e._e(),e._v(" "),e.isPrinting&&e.getAddress(t)?o("div",{staticClass:"address"},[e._v(e._s(e.getAddress(t)))]):e._e(),e._v(" "),e.getImages(t).length&&!e.isPrinting?o("div",{staticClass:"image-container"},["cardswiper"===e.realImageGroupType?o("ImageCardSwiper",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"ItineraryPhoto"},expression:"{spm: 'ItineraryPhoto'}"}],attrs:{images:e.getImages(t),trackInfo:e.trackInfoData},on:{viewImages:function(i){return e.viewImages(t,i)}}}):e._e(),e._v(" "),"carousel"===e.realImageGroupType?o("klk-carousel",e._b({},"klk-carousel",e.carouselOptions,!1),e._l(e.getImages(t),(function(img,r){return o("klk-carousel-item",{key:t.attr_id+"_"+r},[o("div",e._b({directives:[{name:"lazy",rawName:"v-lazy:background-image.container",value:img,expression:"img",arg:"background-image",modifiers:{container:!0}}],staticClass:"carousel-item",on:{click:function(o){return e.viewImages(t,r)}}},"div",e.trackInfoData,!1),[o("Logo",{attrs:{ratio:"1:1",width:48}})],1)])})),1):e._e()],1):e._e(),e._v(" "),t.details?o("div",{staticClass:"group-text"},[e._v(e._s(t.details))]):e._e()]):e._e()])])})),0)},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),t.prototype.filterDefaultImg=function(e){void 0===e&&(e=[]);var t=this.getCropUrl2provide;return e.filter((function(e){return"default"!==e.type})).map((function(e){return t?t(e.src,{crop:Tt.cardCrop}):e.src}))||[]},Object.defineProperty(t.prototype,"trackInfoData",{get:function(){var e,t;return{"data-spm-module":"ItineraryPhoto?oid=package_".concat(this.packageId,"&ext=").concat(JSON.stringify({PhotoType:null!==(t=null===(e=this.trackInfo)||void 0===e?void 0:e.type)&&void 0!==t?t:""})),"data-spm-virtual-item":"__virtual"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmptyPickUpInfo",{get:function(){return x()(this.pickUpInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realImageGroupType",{get:function(){var e=this.imageGroupType;return["cardswiper","carousel"].includes(e)?e:"carousel"},enumerable:!1,configurable:!0}),t.prototype.getTracker=function(e){if(!this.isValidePoi(e))return{};var t=this.groupKey,o=0===e.type&&!this.isEmptyPickUpInfo&&this.isMobile?"pickup_map":{itinerary_departure:"departure_normal",itinerary_return:"return_normal"}[t];if(!o)return{};var r="package_".concat(this.packageId),n=JSON.stringify({MapType:o});return{"data-spm-module":"ItineraryMap?oid=".concat(r,"&ext=").concat(n),"data-spm-virtual-item":"__virtual"}},t.prototype.validGroup=function(e){var t=this.getTitle(e),o=this.getImages(e).length,r=e.details;return t||o||r},t.prototype.handleMap=function(e){var t;if((null===(t=null==e?void 0:e.map)||void 0===t?void 0:t.location)||this.isMobile&&!this.isEmptyPickUpInfo){if(this.customMap)return void this.handleShowMap(e);this.setMapShow(this.getMapAtrrs(e))}},t.prototype.getMapAtrrs=function(e){var t=e.map;return{address:t.location,addressDesc:t.address_desc}},Object.defineProperty(t.prototype,"subData",{get:function(){var e,t;return null!==(t=null===(e=this.componentData)||void 0===e?void 0:e.sub_data)&&void 0!==t?t:[]},enumerable:!1,configurable:!0}),t.prototype.getImages=function(e){var t,o=null!==(t=null==e?void 0:e.imgs)&&void 0!==t?t:[];return this.filterDefaultImg(o)},t.prototype.isValidePoi=function(e){var t,o;return!(0!==e.type||this.isEmptyPickUpInfo||!this.isMobile)||!!(null!==(o=null===(t=null==e?void 0:e.map)||void 0===t?void 0:t.location)&&void 0!==o?o:"")},t.prototype.getAddress=function(e){var t,o;return null!==(o=null===(t=null==e?void 0:e.map)||void 0===t?void 0:t.address_desc)&&void 0!==o?o:""},t.prototype.getTitle=function(e){var t,o,r,n,l=this.isEmptyPickUpInfo,c=0===e.type;return!l&&c?null!==(o=null===(t=this.pickUpInfo)||void 0===t?void 0:t.description_v2)&&void 0!==o?o:"":null!==(n=null===(r=null==e?void 0:e.map)||void 0===r?void 0:r.name)&&void 0!==n?n:""},Object.defineProperty(t.prototype,"carouselOptions",{get:function(){return{hideControllers:this.isMobile,loop:!1,controllerPosition:"inside",autoplay:!1,size:"small"}},enumerable:!1,configurable:!0}),t.prototype.viewImages=function(data,e){var t,o,r=null!==(o=null===(t=this.componentData)||void 0===t?void 0:t.map)&&void 0!==o?o:null,n=data.attr_id;this.showImagesViewer(W(W({},r),{attr_id:n}),e)},U([se({default:function(){return[]}})],t.prototype,"componentData",void 0),U([se({default:function(){return{}}})],t.prototype,"trackInfo",void 0),U([se()],t.prototype,"pickUpInfo",void 0),U([se({type:String,default:""})],t.prototype,"groupKey",void 0),U([re("isImageSwiper")],t.prototype,"isImageSwiper",void 0),U([re("showImagesViewer")],t.prototype,"showImagesViewer",void 0),U([re("platform")],t.prototype,"platform",void 0),U([re("isMobile")],t.prototype,"isMobile",void 0),U([re("isPrinting")],t.prototype,"isPrinting",void 0),U([re({default:function(){return null}})],t.prototype,"setMapShow",void 0),U([re("customMap")],t.prototype,"customMap",void 0),U([re({default:function(){return null}})],t.prototype,"handleShowMap",void 0),U([re({default:"carousel"})],t.prototype,"imageGroupType",void 0),U([re({default:0})],t.prototype,"packageId",void 0),U([re({default:null})],t.prototype,"getCropUrl2provide",void 0),t=U([ie({components:{ArrowRightSvg:qe,ImageCardSwiper:wt,KlkCarousel:_.Carousel,KlkCarouselItem:_.CarouselItem,Logo:bt}})],t)}(r.default),"data-v-57717798",!1,void 0,!1,void 0,void 0,void 0),jt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.isValid?o("div",{staticClass:"itinerary-day-group",class:[{"no-icon":e.emptyIcon},e.platform]},[o("div",{ref:"contentRef",staticClass:"itinerary-day-group-wrap",class:{collapsed:e.isShowMore},style:{"max-height":e.maxHeight}},[e.emptyIcon?e._e():[o("div",{staticClass:"itinerary-day-group-line"}),e._v(" "),o("img",{staticClass:"itinerary-day-group-icon",attrs:{src:e.groupData.left_icon,alt:"icon"}})],e._v(" "),e.groupNameList.length?o("div",{staticClass:"itinerary-day-group-title-tags"},[o("div",e._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"",autoTrackSpm:!0},expression:"{ spm: '', autoTrackSpm: true }"}],staticClass:"itinerary-day-group-title-wrap",class:{"is-print":e.isPrinting,pointer:e.showRightArrow},on:{click:function(t){return e.handleTitleClick(e.groupData,e.showRightArrow,e.isPoiTitle)}}},"div",e.trackData,!1),[o("CommaText",{staticClass:"itinerary-day-group-title",class:{"itinerary-day-group-poi-title":e.isPoiTitle},attrs:{"text-data":e.groupNameList}},[o("i",{staticClass:"itinerary-point"})]),e._v(" "),e.showRightArrow?o("ArrowRightSvg",{staticClass:"right-arr"}):e._e()],1),e._v(" "),e.normalTagsList&&e.normalTagsList.length>0?o(e.tagComponent,{tag:"component",staticClass:"itinerary-day-group-tags",attrs:{list:e.normalTagsList,line:1,track:{spm:"itinerary_Tag"}}}):e._e()],1):e._e(),e._v(" "),e.customTagsList&&e.customTagsList.length>0?o("div",{staticClass:"itinerary-day-group-custom-tag-wrapper"},[o("IconGroup",{attrs:{icons:e.customTagsList}})],1):e._e(),e._v(" "),e.groupData.components&&e.groupData.components.length>0?o("div",{staticClass:"itinerary-day-group-content"},e._l(e.groupData.components,(function(component,t){return o(e.componentMap[component.type],{key:component.type+"-"+t,tag:"component",staticClass:"itinerary-day-group-item",attrs:{"track-info":e.groupData.track_info,"group-key":e.groupData.group_key,"component-data":component.data,showImageFn:e.showImageFn,hackCloseBtn:e.hackCloseBtn,"not-icon":e.emptyIcon,"hide-title":e.isPoiTitle,"pick-up-info":e.pickUpInfo},on:{"check-height":e.deferCheckHeight}})})),1):e._e()],2),e._v(" "),o("ViewMore",{directives:[{name:"show",rawName:"v-show",value:e.isShowMoreBtn,expression:"isShowMoreBtn"}],staticClass:"itinerary-day-group-more",attrs:{"hide-shadow":!e.isShowMore},nativeOn:{click:function(t){return e.toggleViewMore(t)}}},[e._v("\n    "+e._s(e.viewMoreText)+"\n  ")])],1):e._e()},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentMap={texts:lt,poi:Ct,sub_group:Lt},t.isShowMore=!1,t.isShowMoreBtn=!1,t.elementObserver=null,t.shouldCreateObserver=!1,t.foldHeight=360,t}return B(t,e),Object.defineProperty(t.prototype,"isValid",{get:function(){var e,t,o=this.groupNameList,r=void 0===o?[]:o,n=this.customTagsList,l=void 0===n?[]:n,c=null!==(t=null===(e=this.groupData)||void 0===e?void 0:e.components)&&void 0!==t?t:[];return!!(r.length||l.length||c.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPoiTitle",{get:function(){var e,t,o,r,n,l,c,d,h,v,f=null!==(t=null===(e=this.groupData)||void 0===e?void 0:e.group_key)&&void 0!==t?t:"",m=null!==(r=null===(o=this.groupData)||void 0===o?void 0:o.group_name)&&void 0!==r?r:"",y=(null!==(l=null===(n=this.groupData)||void 0===n?void 0:n.components)&&void 0!==l?l:[]).filter((function(e){return"poi"===e.type}))[0],w=(null!==(d=null===(c=null==y?void 0:y.data)||void 0===c?void 0:c.poi_data)&&void 0!==d?d:[])[0],_=null!==(v=null===(h=null==w?void 0:w.map)||void 0===h?void 0:h.location)&&void 0!==v?v:"";return["itinerary_attraction"].includes(f)&&!!m&&!!_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackData",{get:function(){var e,t,o,r,n=null!==(t=null===(e=this.groupData)||void 0===e?void 0:e.group_key)&&void 0!==t?t:"";if(["itinerary_departure"].includes(n)&&!this.isPickUp)return{"data-spm-module":"MoreDepartureInfo","data-spm-virtual-item":"__virtual"};if(this.isPoiTitle){var l=null===(r=null===(o=this.groupData)||void 0===o?void 0:o.track_info)||void 0===r?void 0:r.type,c=JSON.stringify({MapType:l});return{"data-spm-module":"ItineraryMap?ext=".concat(c),"data-spm-virtual-item":"__virtual"}}return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRightArrow",{get:function(){var e,t,o=null!==(t=null===(e=this.groupData)||void 0===e?void 0:e.group_key)&&void 0!==t?t:"";return["itinerary_departure","itinerary_return"].includes(o)&&!this.isPickUp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyIcon",{get:function(){return!this.groupData.left_icon||this.isNewPickUp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewMoreText",{get:function(){var e=this.isShowMore?"city_page_view_more":"collapse_all";return this.translateI18n(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDesktop",{get:function(){return"desktop"===this.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasLeftIconUrl",{get:function(){var e=this.groupData||{},t=e.tags,o=void 0===t?[]:t,r=e.group_key;return!!(["itinerary_departure","itinerary_return"].includes(r)&&(null==o?void 0:o.length))&&o.some((function(e){var t;return null===(t=null==e?void 0:e.icon)||void 0===t?void 0:t.left_icon_url}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceData",{get:function(){return d()(this.groupData.tags)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normalTagsList",{get:function(){return this.isDesktop?this.sourceData:this.sourceData.filter((function(e){var t;return!(null===(t=null==e?void 0:e.icon)||void 0===t?void 0:t.left_icon_url)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customTagsList",{get:function(){return this.hasLeftIconUrl?this.sourceData.filter((function(e){var t;return null===(t=null==e?void 0:e.icon)||void 0===t?void 0:t.left_icon_url})).map((function(e){return{icon:e.icon.left_icon_url,text:e.text}})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagComponent",{get:function(){var e,t;return(null===(e=this.customCompObj)||void 0===e?void 0:e.tagComponent)?null===(t=this.customCompObj)||void 0===t?void 0:t.tagComponent:Mt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupNameList",{get:function(){var e=this.groupData;return[null==e?void 0:e.time,null==e?void 0:e.group_name].filter(Boolean)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this.isShowMore?"".concat(this.foldHeight,"px"):"none"},enumerable:!1,configurable:!0}),t.prototype.mounted=function(){},t.prototype.beforeDestro=function(){this.destroyObserver()},t.prototype.deferCheckHeight=function(){this.$nextTick(this.checkHeight)},t.prototype.checkHeight=function(){if(!this.isShowMoreBtn&&!Qe){var e=this.contentRef;e&&e.scrollHeight>this.foldHeight?(this.isShowMoreBtn=!0,this.isShowMore=!0):e&&0===e.scrollHeight&&(this.shouldCreateObserver=!0)}},t.prototype.createObserver=function(){var e=this;"IntersectionObserver"in window&&(this.elementObserver=new IntersectionObserver((function(t){t.forEach((function(t){t.intersectionRatio>0&&(e.checkHeight(),e.destroyObserver())}))}),{threshold:[.1]}),this.contentRef&&this.elementObserver.observe(this.contentRef))},t.prototype.destroyObserver=function(){this.elementObserver&&this.contentRef&&this.elementObserver.unobserve(this.contentRef)},t.prototype.toggleViewMore=function(){this.isShowMore=!this.isShowMore},U([se()],t.prototype,"showImageFn",void 0),U([se({default:!1})],t.prototype,"hackCloseBtn",void 0),U([se()],t.prototype,"groupData",void 0),U([se()],t.prototype,"noLine",void 0),U([se()],t.prototype,"pickUpInfo",void 0),U([ce()],t.prototype,"contentRef",void 0),U([re("customCompObj")],t.prototype,"customCompObj",void 0),U([re({default:function(){return""}})],t.prototype,"translateI18n",void 0),U([re("platform")],t.prototype,"platform",void 0),U([re("isPickUp")],t.prototype,"isPickUp",void 0),U([re("isNewPickUp")],t.prototype,"isNewPickUp",void 0),U([re("handleTitleClick")],t.prototype,"handleTitleClick",void 0),U([re("isPrinting")],t.prototype,"isPrinting",void 0),t=U([ie({components:{ItineraryText:lt,ItineraryPoi:Ct,CommaText:Ge,ViewMore:Ot,IconGroup:st,ArrowRightSvg:qe,DepartureReturnGroup:Lt}})],t)}(r.default),"data-v-0d90415c",!1,void 0,!1,void 0,void 0,void 0),$t=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pick-up-info"},[o("div",{staticClass:"pick-up-info-title"},[e._v("\n    "+e._s(e.info.title)+"\n  ")]),e._v(" "),o("p",{staticClass:"pick-up-info-sentence"},[e._v("\n    "+e._s(e.info.description)+"\n  ")]),e._v(" "),o("div",{staticClass:"pick-up-info-points"},e._l(e.info.point_list,(function(text){return o("div",{key:text,staticClass:"pick-up-info-point"},[e._v("\n      "+e._s(text)+"\n    ")])})),0),e._v(" "),!e.isScope&&e.isSimplified&&e.seeMoreNum>0?o("div",{staticClass:"pick-up-info-more",on:{click:e.handleSeeMore}},[e._v("\n    "+e._s(e.translateI18n("city_page_view_more"))+"("+e._s(e.seeMoreNum)+"+)\n  ")]):e._e()])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.limit=10,t}return B(t,e),Object.defineProperty(t.prototype,"seeMoreNum",{get:function(){return this.info.point_count-this.limit},enumerable:!1,configurable:!0}),t.prototype.handleSeeMore=function(){this.isSimplified&&this.handleEmit("pickUpClick")},U([se({default:function(){return{}}})],t.prototype,"info",void 0),U([se({default:!1})],t.prototype,"isScope",void 0),U([re({default:!1})],t.prototype,"isSimplified",void 0),U([re({default:function(){return""}})],t.prototype,"translateI18n",void 0),U([re({default:function(){return 1}})],t.prototype,"handleEmit",void 0),t=U([ie],t)}(r.default),"data-v-42933eae",!1,void 0,!1,void 0,void 0,void 0),Et="/v1/experiencesrv/search/poi_service/autocomplete",Rt="/v1/experiencesrv/search/poi_service/get_place_detail",Dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancelToken=null,t.cancelDetailToken=null,t.searchResultList=[],t.keywords="",t.currentLoadingIndex=-1,t.isNotMatch=!1,t}return B(t,e),Object.defineProperty(t.prototype,"defaultResult",{get:function(){var e=this;return(this.mapData||[]).reduce((function(t,o){return 1===o.pick_up_type&&t.push(e.initResult(o)),t}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderList",{get:function(){var e=this.isMobile?[]:this.defaultResult;return this.keywords?this.searchResultList:e},enumerable:!1,configurable:!0}),t.prototype.initResult=function(data){return void 0===data&&(data={}),{title:data.location_name,sub_title:data.address_desc,place_id:data.google_place_id,is_default:!0,detail_data:W({},data)}},t.prototype.getSearchFun=function(e){var t,o,r,n,l,c;return H(this,void 0,void 0,(function(){var d;return V(this,(function(h){switch(h.label){case 0:return this.cancelToken&&this.cancelToken.cancel("cancel"),this.cancelToken=(null===(r=null===(o=null===(t=this.customAxios)||void 0===t?void 0:t.CancelToken)||void 0===o?void 0:o.source)||void 0===r?void 0:r.call(o))||null,[4,this.customAxios.$get(Et,{params:e,cancelToken:null===(n=this.cancelToken)||void 0===n?void 0:n.token})];case 1:return d=h.sent(),[2,(null!==(c=null===(l=null==d?void 0:d.result)||void 0===l?void 0:l.suggestions)&&void 0!==c?c:[]).map((function(e){return W({},e)}))]}}))}))},t.prototype.getPoiDetail=function(e){var t,o,r,n,l;return H(this,void 0,void 0,(function(){var c;return V(this,(function(d){switch(d.label){case 0:return this.cancelDetailToken&&this.cancelDetailToken.cancel("cancel"),this.cancelDetailToken=(null===(r=null===(o=null===(t=this.customAxios)||void 0===t?void 0:t.CancelToken)||void 0===o?void 0:o.source)||void 0===r?void 0:r.call(o))||null,[4,this.customAxios.$get(Rt,{params:e,cancelToken:null===(n=this.cancelDetailToken)||void 0===n?void 0:n.token})];case 1:return c=d.sent(),[2,null!==(l=null==c?void 0:c.result)&&void 0!==l?l:null]}}))}))},U([se({type:Array,default:function(){return[]}})],t.prototype,"mapData",void 0),U([re("translateI18n")],t.prototype,"translateI18n",void 0),U([re("customAxios")],t.prototype,"customAxios",void 0),U([re("packageId")],t.prototype,"packageId",void 0),U([re("isMobile")],t.prototype,"isMobile",void 0),t=U([ie],t)}(r.default),zt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:["search-keywords",!e.isSimplified&&"js-search-pick-up-keywards-desktop",e.isPopReversed&&"is-pop-reversed"]},[o("div",{staticClass:"search-keywords-wrap"},[o("klk-input",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"LocationSearch"},expression:"{ spm: 'LocationSearch' }"}],class:["search-keywords-input",e.isWarningError&&"is-error"],attrs:{clearable:"","prepend-icon":"icon_edit_search_s",placeholder:e.translateI18n("104032"),"data-spm-module":"LocationSearch","data-spm-virtual-item":"__virtual"},on:{input:e.handleInput,focus:e.handleFocus,clear:e.handleClear},model:{value:e.keywords,callback:function(t){e.keywords="string"==typeof t?t.trim():t},expression:"keywords"}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.popVisible,expression:"popVisible"}],staticClass:"search-keywords-pop"},[e.showLoading?o("div",{staticClass:"search-keywords-loading"},[o("klk-loading")],1):o("div",{staticClass:"search-keywords-content"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.isNotMatch,expression:"isNotMatch"}],staticClass:"search-keywords-none"},[o("div",{staticClass:"search-keywords-none-text",attrs:{"data-spm-module":"LocationSearch_NoResult"}},[e._v("\n            "+e._s(e.isSearchNone?e.translateI18n("106268"):e.translateI18n("104307"))+"\n          ")]),e._v(" "),e.isSearchNone?o("div",{staticClass:"search-keywords-none-button"},[o("klk-button",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"LocationSearch_FreeText"},expression:"{ spm: 'LocationSearch_FreeText' }"}],attrs:{type:"outlined","data-spm-module":"LocationSearch_FreeText","data-spm-virtual-item":"__virtual"},on:{click:function(t){return e.handleSelect(e.keywords)}}},[e._v("\n              "+e._s(e.translateI18n("106269"))+"\n            ")])],1):e.searchResultList.length?[o("klk-divider",{staticClass:"search-keywords-none-divider"}),e._v(" "),o("div",{staticClass:"search-keywords-none-title"},[e._v("\n              "+e._s(e.translateI18n("104308"))+"\n            ")])]:e._e()],2),e._v(" "),o("div",e._b({},"div",e.locationSearchResultTracker,!1)),e._v(" "),e._l(e.renderList,(function(t,r){return o("div",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"LocationSearch_SelectResult"},expression:"{ spm: 'LocationSearch_SelectResult' }"}],key:r,class:["search-keywords-item",e.checkSelected(t)&&"active"],attrs:{"data-spm-module":"LocationSearch_SelectResult?ext="+JSON.stringify({InScope:e.inScopeList[t.data_type]}),"data-spm-virtual-item":"__virtual"},on:{click:function(o){return e.handleSelect(t)}}},[o("div",{staticClass:"search-keywords-item-title",attrs:{title:t.title}},[e._v("\n            "+e._s(t.title)+"\n          ")]),e._v(" "),e.getTags(t).length?o(e.tagComponent,{tag:"component",staticClass:"search-keywords-item-tags",attrs:{list:e.getTags(t),line:1}}):e._e(),e._v(" "),o("div",{staticClass:"search-keywords-item-desc",attrs:{title:t.sub_title}},[e._v("\n            "+e._s(t.sub_title)+"\n          ")])],1)}))],2)])],1),e._v(" "),e.warningText?o("div",{class:["search-keywords-warning",e.isWarningError&&"is-error"]},[o("klk-icon",{staticClass:"search-keywords-warning-icon",attrs:{size:"16",type:"icon_feedback_warning"}}),e._v(" "),o("span",{staticClass:"search-keywords-warning-text"},[e._v("\n      "+e._s(e.warningText)+"\n    ")])],1):e._e()])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isWarningError=!1,t.warningText="",t.popVisible=!1,t.showLoading=!1,t.cancelToken=null,t.isPopReversed=!1,t.inScopeList=["","Available","Extra fee","Not offered"],t.searchTimer=0,t}return B(t,e),Object.defineProperty(t.prototype,"tagComponent",{get:function(){var e;return(null===(e=this.customCompObj)||void 0===e?void 0:e.tagComponent)||Mt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locationSearchResultTracker",{get:function(){return!this.isNotMatch&&this.searchResultList.length?{"data-spm-module":"LocationSearch_Result"}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSearchNone",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldHidePop",{get:function(){return this.isScope&&!this.keywords},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNotOffered",{get:function(){var e;return 3===(null===(e=this.selected)||void 0===e?void 0:e.data_type)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExtraFee",{get:function(){var e;return 2===(null===(e=this.selected)||void 0===e?void 0:e.data_type)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRealWarningError",{get:function(){return this.isNotOffered},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realWarningText",{get:function(){return this.isNotOffered?this.translateI18n("104310"):this.isExtraFee?this.translateI18n("106531"):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedLocation",{get:function(){var e;return(null===(e=this.selected)||void 0===e?void 0:e.location)||""},enumerable:!1,configurable:!0}),t.prototype.mounted=function(){document.addEventListener("click",this.handleClickOutside)},t.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickOutside)},t.prototype.validateSearch=function(){this.isWarningError=this.isRealWarningError,this.warningText=this.realWarningText},t.prototype.handleFocus=function(){this.isSimplified?this.handleEmit("pickUpClick"):this.handleSearch()},t.prototype.cancelSearch=function(){this.cancelToken&&(this.cancelToken.cancel("cancel"),this.cancelToken=null)},t.prototype.handleSearch=function(){if(!this.keywords)return this.defaultResult.length?this.openPop():this.closePop(),void(this.isNotMatch=!1);this.popVisible||(this.showLoading=!0),this.openPop(),clearTimeout(this.searchTimer),this.searchTimer=setTimeout(this.search,300)},t.prototype.search=function(){var e;return H(this,void 0,void 0,(function(){var t,o;return V(this,(function(r){switch(r.label){case 0:return t={input:this.keywords,package_id:this.packageId,show_meet_up:1,current_google_place_id:(null===(e=this.selected)||void 0===e?void 0:e.google_place_id)||""},this.isNotMatch=!1,o=this,[4,this.getSearchFun(t)];case 1:return o.searchResultList=r.sent(),this.isNotMatch=!this.searchResultList.length&&!!this.keywords,this.showLoading=!1,[2]}}))}))},t.prototype.handleClear=function(){this.keywords="",this.$emit("clear")},t.prototype.handleInput=function(){this.isWarningError=!1,this.warningText="",this.handleSearch()},t.prototype.checkSelected=function(e){return(null==e?void 0:e.location)===this.selectedLocation},t.prototype.setOrder=function(data){var e=this;void 0===data&&(data=[]);var t=this.selected;if(t){var o=t.location;return data.reduce((function(t,r){var n,l;return(null!==(l=null===(n=r.detail_data)||void 0===n?void 0:n.location)&&void 0!==l?l:"")===o?t.unshift(e.initResult(r)):t.push(r),t}),[])}return data},t.prototype.handleClickOutside=function(e){if(this.popVisible&&this.$el){var t=this.$el.querySelector(".search-keywords-input"),o=this.$el.querySelector(".search-keywords-pop");(null==t?void 0:t.contains(e.target))||(null==o?void 0:o.contains(e.target))||(this.cancelSearch(),this.closePop())}},t.prototype.handleSelect=function(e){var t;return H(this,void 0,void 0,(function(){var o,r,n,l,c,d;return V(this,(function(h){switch(h.label){case 0:return r=(o=e||{}).detail_data,n=void 0===r?null:r,l=o.place_id,c=o.is_default,d=null,c||n?(d=n,[3,3]):[3,1];case 1:return e.loading=!0,[4,this.getPoiDetail({package_id:this.packageId,place_id:l})];case 2:d=h.sent(),this.$set(e,"detail_data",d),e.loading=!1,h.label=3;case 3:return 3===(null!==(t=null==d?void 0:d.data_type)&&void 0!==t?t:-1)?[2,L()(this.translateI18n("161196"))]:(this.keywords=e.title,this.$emit("update:selected",d),this.$emit("change",d),this.closePop(),setTimeout(this.validateSearch,30),[2])}}))}))},t.prototype.openPop=function(){this.popVisible=!0},t.prototype.closePop=function(){this.searchResultList=[],this.popVisible=!1},t.prototype.getTags=function(data){var e,t;return null!==(t=null===(e=null==data?void 0:data.detail_data)||void 0===e?void 0:e.tag)&&void 0!==t?t:[]},U([se({default:!1})],t.prototype,"isScope",void 0),U([se({default:null})],t.prototype,"selected",void 0),U([re({default:null})],t.prototype,"customCompObj",void 0),U([re({default:function(){return 1}})],t.prototype,"customAxios",void 0),U([re({default:!1})],t.prototype,"isSimplified",void 0),U([re({default:function(){return 1}})],t.prototype,"handleEmit",void 0),U([re({default:function(){return""}})],t.prototype,"translateI18n",void 0),U([re({default:0})],t.prototype,"packageId",void 0),t=U([ie({components:{KlkInput:S.a,KlkLoading:P.a,KlkDivider:l.a,KlkButton:O.a}})],t)}(Dt),"data-v-47f10efc",!1,void 0,!1,void 0,void 0,void 0);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Nt=function(e){return"object"!==At(e)?{}:[{key:"trg",type:"string",def:"auto"},{key:"oid",type:"string",def:void 0},{key:"ext",type:"string",def:void 0},{key:"evt",type:"string",def:"click"},{key:"typ",type:"string",def:void 0},{key:"idx",type:"number",def:void 0,handleFilter:function(q){return q.len>0}},{key:"len",type:"number",def:void 0,handleFilter:function(q){return q.len>0}}].filter((function(t){return t.handleFilter?t.handleFilter(e):e[t.key]})).reduce((function(t,o){return t[o.key]=e[o.key],t}),{})},Ft=function(e){var t={};if(!e||"object"!==At(e))return t;var o=d()(e),r=o.type,n=void 0===r?"":r,l=o.spm,c=void 0===l?"":l,h=o.exposure,v=void 0===h||h,f=o.action,m=void 0===f||f;if(!n||!c)return t;var y=o.query,w="",_="";if("object"===At(y)&&y){y=Nt(y);var k=["evt","mod","typ"],x=k.reduce((function(e,t){var o=y[t];return o&&(e[t]=o),e}),{});_="?"+Object.keys(x).reduce((function(e,t){var o=void 0===x[t]?"":x[t];return e.push("".concat(t,"=").concat(o)),e}),[]).join("&"),v||(y.trg=y.trg||"manual"),y=Nt(y),w="?"+Object.keys(y).reduce((function(e,t){if(!k.includes(t)){var o=void 0===y[t]?"":y[t];e.push("".concat(t,"=").concat(o))}return e}),[]).join("&")}switch(n){case"module":t["data-spm-module"]=c+w,m&&(t["data-spm-virtual-item"]="__virtual"+_);break;case"page":case"item":t["data-spm-".concat(n)]=c+w}return t},Bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),t.prototype.getGeomByIdList=function(e){return this.customAxios.$get("/v1/experiencesrv/area/strative_area_service/get_geom_by_id_list",{params:e})},t.prototype.initFenceData=function(e,t){void 0===t&&(t=[]);var o=e.reduce((function(e,o){var r,n=o.area_id,l=t.find((function(e){return e.area_id===n})),c=(null==l?void 0:l.area_properties)||{},d=c.stroke,h=c.fill;return((null===(r=null==o?void 0:o.geom)||void 0===r?void 0:r.coordinates)||[]).forEach((function(t){var r;e.push({polygonList:"Polygon"===(null===(r=null==o?void 0:o.geom)||void 0===r?void 0:r.type)?[t]:t,polygonConfig:{strokeColor:d,fillColor:h}})})),e}),[]);return Object.freeze(o)},t.prototype.isArea=function(marker){return 2===marker.pick_up_type},t.prototype.getUuid=function(){return parseInt(String(1e7*Math.random()))},t.prototype.initMarker=function(data,e,t){void 0===e&&(e=!1),void 0===t&&(t={});var o=data.location,r=data.icon,n=data.address_desc,l=data.area_id,c=data.tips,d=void 0===c?{}:c,h=data.pick_up_type,v=data.group_icon_v2,m=data.itinerary_attr_value_id,y=void 0===m?0:m,w=d,_=w.text,text=void 0===_?"":_,k=w.bg_color,x=void 0===k?"":k,C=w.border_color,S=void 0===C?"":C,I=w.font_color,P=void 0===I?"":I,M=w.border_width,O=void 0===M?"":M,T=this.isArea(data)?text:n,style={backgroundColor:x,borderColor:S,color:P,borderWidth:O+"px"},L=v||{select:r,unselect:r};return W(W({data:data,location:o,isTemporary:e,center:f.f.formatLatLng(o),poptip:T,tips_text:text,options:{anchor:"bottom"},area_id:l,style:style,pick_up_type:h,groupIcon:L},t),{id:y||this.getUuid()})},t.prototype.initPoisMarker=function(e){return void 0===e&&(e=[]),e.map((function(e){var t=e.group_key,o=void 0===t?"":t,r=e.icon_url,n=void 0===r?"":r,l=e.map,c=l.name,d=l.location,h=e.group_icon_v2,v=e.attr_id,m={marker_type:o},y={type:"module",spm:"ItineraryMapMarkerClick",exposure:!1,query:{ext:JSON.stringify(m)}},w=h||{select:n,unselect:n};return{data:e,location:d,isTemporary:!1,center:f.f.formatLatLng(d),poptip:c,options:{anchor:"bottom"},area_id:0,style:{},pick_up_type:1,tracker:y,groupIcon:w,icon_url:n,id:v}}))},t.prototype.initCards=function(e){void 0===e&&(e=[]);var t=[],o=e.reduce((function(e,t){if(2===t.pick_up_type)e.areas.push(t);else{var o=t.data,r=o.location,n=o.address_desc,l=o.location_name,c=o.group_name,d=void 0===c?"":c,h=o.group_time,v=void 0===h?"":h,f=t.id;e.points.push({imgs:[],title:l,group_time:v,group_name:d,icons:[],map:{address_desc:n,location:r},card_id:f})}return e}),{points:[],areas:[]}),r=o.points;if(o.areas.length){var n=(this.pickupInfo||{}).i18n,l=void 0===n?{}:n,c=l.search_title,d=void 0===c?"":c,h=l.search_description,v=void 0===h?"":h,f=l.search_text,m=void 0===f?"":f;t.push({is_static_card:!0,imgs:[],title:d,group_time:"",group_name:"",icons:[],map:{address_desc:v,location:""},search_placeholder:m})}return Y(Y([],t,!0),r,!0)},t.prototype.getBindTracker=function(e){return Ft(e)},t.prototype.getValidAreaId=function(e){return void 0===e&&(e=[]),e.reduce((function(e,t){var o=t.area_id;return o&&e.push(o),e}),[])},U([re({default:function(){return null}})],t.prototype,"customAxios",void 0),U([re({default:function(){return function(){return""}}})],t.prototype,"translateI18n",void 0),U([se({type:Object,default:function(){return null}})],t.prototype,"pickupInfo",void 0),t=U([ie],t)}(r.default),Wt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 16 16",fill:"none"}},[t("path",{attrs:{d:"M1.667 9v5.333H7M14.333 7V1.667H9",stroke:"#212121","stroke-width":"1.4","stroke-linecap":"round","stroke-linejoin":"round"}}),t("path",{attrs:{d:"M2 14l4.007-4.007M14 2L9.993 6.007",stroke:"#212121","stroke-width":"1.4","stroke-linecap":"round"}})])}},Ut={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 32 32",fill:"none"}},[t("path",{attrs:{d:"M8.623 6.528c-.582-.596-1.421-.703-1.874-.24-.453.464-.348 1.323.234 1.919l7.377 7.554-7.845 8.032c-.582.596-.686 1.455-.233 1.919.452.463 1.291.356 1.873-.24L16 17.44l7.845 8.032c.582.596 1.42.703 1.873.24.453-.464.349-1.323-.233-1.92l-7.845-8.031 7.377-7.554c.582-.596.687-1.455.234-1.918-.453-.464-1.292-.357-1.874.24L16 14.08 8.623 6.528z",fill:"#fff"}})])}},Ht=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:[e.fullscreen&&"pick-up-map-fixed_container"],on:{click:e.handleFullscreen}},[o("div",{staticClass:"pick-up-map-wrapper",class:{fullscreen:e.fullscreen},on:{click:function(e){e.stopPropagation()}}},[e.fullscreen?o("CloseSvg",{staticClass:"map-close",nativeOn:{click:function(t){return e.handleFullscreen(t)}}}):e._e(),e._v(" "),e.isFenceLoading?o("klk-loading"):o("klk-map",e._b({ref:"mapRef",staticClass:"pick-up-map"},"klk-map",e.mapConfig,!1),[e._l(e.geoFenceConf,(function(e,t){return o("klk-map-geo-fence",{key:t,attrs:{"geo-fence-conf":e,isWgs84:!0}})})),e._v(" "),e._l(e.markerList,(function(marker,t){return o("klk-map-marker",e._b({directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker:markerClick",value:{spm:"",autoTrackSpm:!0},expression:"{spm: '', autoTrackSpm: true}",arg:"markerClick"}],key:t,class:{"marker-active":e.checkSelected(marker),"is-area":e.isArea(marker)},attrs:{center:marker.center,options:marker.options,"z-index":e.isArea(marker)?200:e.checkSelected(marker)?202:100}},"klk-map-marker",e.getBindTracker(marker.tracker),!1),[e.isArea(marker)?marker.poptip?o("div",{staticClass:"pick-up-map-area-marker-wrap"},[o("div",{staticClass:"pick-up-map-area-marker",style:marker.style},[e._v("\n            "+e._s(marker.poptip)+"\n          ")]),e._v(" "),o("div",{staticClass:"marker-after",style:marker.style})]):o("div"):o("klk-poptip",{attrs:{value:e.getPoptips(marker),"z-index":9999,offset:[0,22],trigger:"none"}},[marker.poptip||marker.tips_text?o("div",{attrs:{slot:"content"},slot:"content"},[marker.tips_text?o("div",{staticClass:"marker-tips"},[e._v("\n              "+e._s(e.translateI18n("161201"))+": "+e._s(marker.tips_text)+"\n            ")]):e._e(),e._v(" "),marker.poptip?o("div",[e._v("\n              "+e._s(e.translateI18n("12032"))+": "+e._s(marker.poptip)+"\n            ")]):e._e()]):e._e(),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:!e.checkSelected(marker),expression:"!checkSelected(marker)"}],staticClass:"pick-up-map-marker",attrs:{src:marker.groupIcon.unselect},on:{click:function(t){return e.handleMarkerClick(marker)}}}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.checkSelected(marker),expression:"checkSelected(marker)"}],staticClass:"pick-up-map-marker",class:{active:e.checkSelected(marker)},attrs:{src:marker.groupIcon.select}})])],1)})),e._v(" "),o("klk-map-user-location",e._b({staticClass:"user-location"},"klk-map-user-location",e.getBindTracker({type:"module",spm:"ItineraryMapFindMyPositionButton",exposure:!1}),!1)),e._v(" "),o("div",{staticClass:"pick-up-map-zoom"},[o("div",{staticClass:"pick-up-map-zoom-plus",on:{click:function(t){return e.handleZoom(1)}}},[o("klk-icon",{attrs:{type:"icon_other_plus_xs",size:"20"}})],1),e._v(" "),o("klk-divider"),e._v(" "),o("div",{staticClass:"pick-up-map-zoom-minus",on:{click:function(t){return e.handleZoom(-1)}}},[o("klk-icon",{attrs:{type:"icon_other_minus_xs",size:"20"}})],1)],1),e._v(" "),e.fullscreen?e._e():o("div",{staticClass:"icon-wrap enlarge",on:{click:function(t){return t.stopPropagation(),e.handleFullscreen(t)}}},[o("EnlargeIcon",{staticClass:"enlarge-icon"})],1)],2)],1)])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hidePoptip=!1,t.markerList=[],t.geoFenceConf=[],t.isFenceLoading=!1,t.fullscreen=!1,t}return B(t,e),Object.defineProperty(t.prototype,"locationPointList",{get:function(){return(this.locationList||[]).map((function(e){return f.f.formatLatLng(e.location)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fencePointList",{get:function(){var e=this.geoFenceConf.reduce((function(e,t){return(t.polygonList||[]).forEach((function(t){Array.isArray(t)&&e.push.apply(e,t.map((function(e){return f.f.formatLatLng(e.reverse().join(","))})))})),e}),[]);return Object.freeze(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapConfig",{get:function(){var e=this.mapType,t=this.locationPointList[0];return{language:this.language,center:t,type:e,height:"100%",interactive:"cooperative",fullscreenControl:!1,zoom:16,mapTracker:W(W({},this.realMapTracker||{}),{mapPlace:"PlayAPI_Activity_ItineraryPickUpMap"})}},enumerable:!1,configurable:!0}),t.prototype.selectedChange=function(e){this.modifyMarker(e)},t.prototype.resizeMap=function(){var e,t;(null===(t=null===(e=this.map)||void 0===e?void 0:e.map)||void 0===t?void 0:t.resize)&&this.map.map.resize()},t.prototype.handleFullscreen=function(){var e=this;this.fullscreen=!this.fullscreen,this.$nextTick((function(){e.resizeMap(),e.fitMapBounds()}))},t.prototype.mounted=function(){return H(this,void 0,void 0,(function(){return V(this,(function(e){switch(e.label){case 0:return[4,this.initMarkerAndFence()];case 1:return e.sent(),this.initMap(),[2]}}))}))},t.prototype.getPoptips=function(marker){return!!this.isArea(marker)||!this.hidePoptip&&this.checkSelected(marker)},t.prototype.checkSelected=function(marker){var e;return!!this.isArea(marker)||(null===(e=this.selected)||void 0===e?void 0:e.location)===(null==marker?void 0:marker.location)},t.prototype.initMarkerAndFence=function(){return H(this,void 0,void 0,(function(){var e=this;return V(this,(function(t){switch(t.label){case 0:return[4,this.getGeoFenceConf()];case 1:return t.sent(),this.markerList=(this.locationList||[]).map((function(t){return e.formatMarker(t)})),[2]}}))}))},t.prototype.formatMarker=function(data,e){return void 0===e&&(e=!1),this.initMarker(data,e,{tracker:{type:"module",spm:"ViewPickUpPoint",exposure:!0,query:{ext:JSON.stringify({Type:e?"customed":"fixed"})}}})},t.prototype.initMap=function(){var e,t=this;(null===(e=this.mapRef)||void 0===e?void 0:e.$getMapTool)&&this.mapRef.$getMapTool.then((function(map){var e,o;if(t.map=map,"function"==typeof(null===(o=null===(e=t.map)||void 0===e?void 0:e.map)||void 0===o?void 0:o.setOptions)){t.map.map.setOptions({styles:[{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]}]})}t.resizeMap(),t.fitMapBounds()}))},t.prototype.fitMapBounds=function(){var e;return H(this,void 0,void 0,(function(){var t,o,r;return V(this,(function(n){switch(n.label){case 0:return this.map?(null===(e=this.extraPoint)||void 0===e?void 0:e.location)?(this.flyTo(this.formatMarker(this.extraPoint,!0)),[2]):(t=Y(Y([],this.fencePointList,!0),this.markerList.map((function(e){return e.center})),!0)).length?[4,f.f.turfBbox(t,this.mapType)]:[3,2]:[3,2];case 1:o=n.sent(),r=this.map.createBounds(o.sw,o.ne,{formatLngLat:!1}),this.map.fitBounds(r,{padding:{top:20,left:20,bottom:20,right:20}}),n.label=2;case 2:return[2]}}))}))},t.prototype.flyTo=function(marker){var e=marker.center;this.map&&e&&this.map.flyTo(e)},t.prototype.handleMarkerClick=function(marker){this.$emit("update:selected",marker.data)},t.prototype.modifyMarker=function(e){this.markerList=this.markerList.filter((function(marker){return!marker.isTemporary})),e&&e.location&&!this.markerList.find((function(marker){return marker.location===e.location}))&&this.markerList.push(this.formatMarker(e,!0)),this.fitMapBounds(),this.hackPoptip()},t.prototype.hackPoptip=function(){var e=this;this.hidePoptip=!0,this.$nextTick((function(){e.hidePoptip=!1}))},t.prototype.handleZoom=function(e){var t,o;if(null===(o=null===(t=this.map)||void 0===t?void 0:t.map)||void 0===o?void 0:o.getZoom){var r=this.map.map.getZoom();this.map.setZoom(r+e)}},t.prototype.getGeoFenceConf=function(){var e;return H(this,void 0,void 0,(function(){var t,o;return V(this,(function(r){switch(r.label){case 0:return(t=this.getValidAreaId(this.locationList||[])).length?(this.isFenceLoading=!0,[4,this.getGeomByIdList({area_id_list:t.join(",")})]):[3,2];case 1:o=r.sent(),this.geoFenceConf=this.initFenceData((null===(e=null==o?void 0:o.result)||void 0===e?void 0:e.geom_list)||[],this.locationList),this.isFenceLoading=!1,r.label=2;case 2:return[2]}}))}))},U([se({default:function(){return[]}})],t.prototype,"locationList",void 0),U([se({default:null})],t.prototype,"selected",void 0),U([se({default:null})],t.prototype,"extraPoint",void 0),U([se({type:String,default:"mapbox"})],t.prototype,"mapType",void 0),U([re("language2provide")],t.prototype,"language",void 0),U([re("realMapTracker")],t.prototype,"realMapTracker",void 0),U([ce()],t.prototype,"mapRef",void 0),U([le("extraPoint")],t.prototype,"selectedChange",null),t=U([ie({components:{KlkIcon:$.a,KlkDivider:l.a,KlkLoading:P.a,KlkMap:f.a,KlkMapMarker:f.d,KlkMapGeoFence:f.c,KlkMapUserLocation:f.e,EnlargeIcon:Wt,CloseSvg:Ut}})],t)}(Bt),"data-v-b300ee04",!1,void 0,!1,void 0,void 0,void 0),Vt=Ke({render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"lazyComponent_wrap",class:{loading:!this.initLoad}},[this.initLoad?this._t("default"):this._t("skeleton")],2)},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initLoad=!1,t}return B(t,e),t.prototype.mounted=function(){var e=this,t=function(e){var t=e.root,o=void 0===t?null:t,r=e.rootMargin,n=void 0===r?"0px":r,l=e.threshold,c=void 0===l?[.01,.05]:l,d=e.once,h=void 0===d||d,v=e.callBack,f=e.observeDom;if(!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))return f&&(f instanceof Element?v(f):Array.from(f).forEach((function(e){return v(e)}))),null;var m=new Set,y=new IntersectionObserver((function(e,t){e.length<=0&&(t&&t.disconnect(),m=null),e.forEach((function(e){(void 0===t.thresholds||e.intersectionRatio>t.thresholds[0])&&(h?(t.unobserve(e.target),m&&(m.has(e.target)||setTimeout((function(){return v(e.target,t)})),m.add(e.target),m.size===(f.length||1)&&(t.disconnect(),m=null))):v&&setTimeout((function(){return v(e.target,t)})))}))}),{root:o,rootMargin:n,threshold:c});return f&&(f instanceof Element?y.observe(f):Array.from(f).forEach((function(e){return y.observe(e)}))),y}({rootMargin:this.rootMargin,callBack:function(){return H(e,void 0,void 0,(function(){return V(this,(function(e){switch(e.label){case 0:return[4,this.beforeLoad(void 0,{isClientReport:!0})];case 1:return e.sent(),this.$emit("inited"),this.initLoad=!0,[2]}}))}))},observeDom:this.$el});this.$once("hook:beforeDestroy",(function(){t&&t.disconnect()}))},U([se({type:Function,default:function(e,t){return Promise.resolve()}})],t.prototype,"beforeLoad",void 0),U([se({type:String,default:"100px"})],t.prototype,"rootMargin",void 0),t=U([ie],t)}(r.default),void 0,!1,void 0,!1,void 0,void 0,void 0),Yt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pick-up-desktop",attrs:{"data-spm-module":e.spmModule}},[e.showEntry&&e.info?o("PickUpInfo",{staticStyle:{"margin-bottom":"12px"},attrs:{info:e.info,"is-scope":e.isScope}}):e._e(),e._v(" "),o("SearchKeywords",{staticStyle:{"margin-bottom":"16px"},attrs:{selected:e.selected,"is-scope":!0,"map-data":e.locationList},on:{"update:selected":function(t){e.selected=t},change:e.handleSearchChange,clear:e.handleClear}}),e._v(" "),e.isSimplified?e._e():o("LazyComponent",{staticClass:"pickup-wrapper",attrs:{"root-margin":"50px"}},[o("PickUpMap",{attrs:{selected:e.selected,"location-list":e.locationList,"extra-point":e.extraPoint,"map-type":e.currentMapType||"google"},on:{"update:selected":function(t){e.selected=t},fullscreen:e.handleFullscreen}})],1)],1)},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selected=null,t.extraPoint=null,t.showModal=!1,t}return B(t,e),t.prototype.handleFullscreen=function(){this.showModal=!0},Object.defineProperty(t.prototype,"spmModule",{get:function(){var e=this.locationList.reduce((function(e,t){var o=t.pick_up_type,r=t.is_customized_area;return 1===o?e.push("pick_up_fixed"):e.push(r?"pick_up_customized":"pick_up_scope"),e}),[]),t=Array.from(new Set(e)).join(",");return"PickMeetUpInformation?ext=".concat(JSON.stringify({type:t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isScope",{get:function(){var e,t;return 2===(null===(t=null===(e=this.info)||void 0===e?void 0:e.map_data)||void 0===t?void 0:t.pick_up_type)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locationList",{get:function(){var e,t;return(null===(t=null===(e=this.info)||void 0===e?void 0:e.map_data)||void 0===t?void 0:t.map)||[]},enumerable:!1,configurable:!0}),t.prototype.selectedChange=function(e,t){e&&t&&e!==t&&this.customInhouseTrack("custom","body",{spm:"SwitchPickUpPoint"})},t.prototype.handleSearchChange=function(e){this.extraPoint=e},t.prototype.handleClear=function(){this.selected&&this.extraPoint&&this.selected.location===this.extraPoint.location&&(this.selected=null),this.extraPoint=null},U([se({default:null})],t.prototype,"info",void 0),U([re({default:!1})],t.prototype,"isSimplified",void 0),U([re({default:function(){return null}})],t.prototype,"customInhouseTrack",void 0),U([re("currentMapType")],t.prototype,"currentMapType",void 0),U([le("selected")],t.prototype,"selectedChange",null),t=U([ie({components:{PickUpInfo:$t,SearchKeywords:zt,PickUpMap:Ht,LazyComponent:Vt}})],t)}(r.default),"data-v-e242af06",!1,void 0,!1,void 0,void 0,void 0),Xt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 16 16",fill:"none"}},[t("path",{attrs:{d:"M6 4.72c0-.31.25-.56.56-.56h4.64a.56.56 0 110 1.12H6.56A.56.56 0 016 4.72zM6.56 6.56a.56.56 0 100 1.12h3.2a.56.56 0 100-1.12h-3.2zM6 9.52c0-.31.25-.56.56-.56h1.6a.56.56 0 110 1.12h-1.6A.56.56 0 016 9.52z",fill:"#212121"}}),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.743 12.609A2.667 2.667 0 0014 9.973V4.267A2.667 2.667 0 0011.333 1.6H6.427A2.667 2.667 0 003.8 3.8a2.667 2.667 0 00-2.2 2.627v5.466a2.667 2.667 0 002.666 2.667h4.906a2.668 2.668 0 002.57-1.951zm-.41-9.889H6.427c-.854 0-1.547.693-1.547 1.547v5.706c0 .855.693 1.547 1.547 1.547h4.906c.855 0 1.547-.692 1.547-1.547V4.267c0-.854-.692-1.547-1.547-1.547zM3.76 4.965c-.605.21-1.04.785-1.04 1.462v5.466c0 .855.693 1.547 1.547 1.547h4.906c.584 0 1.092-.323 1.355-.8H6.427A2.667 2.667 0 013.76 9.973V4.965z",fill:"#212121"}})])}},Kt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"location-info"},[o("h3",{staticClass:"location-info-title"},[e._v(e._s(e.info.title))]),e._v(" "),e.tags.length>0?o("Tag",{staticClass:"location-info-tags",attrs:{list:e.tags,line:e.line}}):e._e(),e._v(" "),o("div",{staticClass:"location-info-address",on:{click:e.handleCopy}},[o("p",{staticClass:"location-info-address-text"},[e._v(e._s(e.info.sub_title))]),e._v(" "),e.showCopyIcon?o("div",{staticClass:"location-info-address-copy-wrap"},[o("CopyIconSvg",{staticClass:"copy-icon"})],1):e._e()])],1)},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),Object.defineProperty(t.prototype,"tags",{get:function(){var e,t,o;return null!==(o=null===(t=null===(e=this.info)||void 0===e?void 0:e.detail_data)||void 0===t?void 0:t.tag)&&void 0!==o?o:[]},enumerable:!1,configurable:!0}),t.prototype.handleCopy=function(){var e,t;return H(this,void 0,void 0,(function(){var text;return V(this,(function(o){switch(o.label){case 0:return this.showCopyIcon?(text=null!==(t=null===(e=this.info)||void 0===e?void 0:e.sub_title)&&void 0!==t?t:"",[4,tt(text)]):[2];case 1:return o.sent()&&L()(this.translateI18n("copy_success")),[2]}}))}))},U([se({type:Object,default:function(){}})],t.prototype,"info",void 0),U([se({type:Number,default:1})],t.prototype,"line",void 0),U([se({type:Boolean,default:!1})],t.prototype,"showCopyIcon",void 0),U([re({default:function(){return null}})],t.prototype,"translateI18n",void 0),t=U([ie({components:{Tag:Mt,Toast:L.a,CopyIconSvg:Xt}})],t)}(r.default),"data-v-5567af68",!1,void 0,!1,void 0,void 0,void 0),Gt=Ke({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"map-card"},[this._t("default",[t("LocationInfoCard",{staticClass:"card-info",attrs:{info:this.data,"show-copy-icon":!0}})],{data:this.data})],2)},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),U([se({type:Object,default:function(){}})],t.prototype,"data",void 0),t=U([ie({components:{LocationInfoCard:Kt}})],t)}(r.default),"data-v-627db60e",!1,void 0,!1,void 0,void 0,void 0),qt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 20 20",fill:"none"}},[t("path",{attrs:{d:"M9.166 16.667a7.5 7.5 0 100-15 7.5 7.5 0 000 15z",stroke:"#212121","stroke-width":"1.625"}}),t("path",{attrs:{d:"M14.584 14.583l3.75 3.75",stroke:"#212121","stroke-width":"1.625","stroke-linecap":"round"}})])}},Qt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 16 16",fill:"none"}},[t("path",{attrs:{d:"M8 15A7 7 0 108 1a7 7 0 000 14z",fill:"#A8A8A8",stroke:"#A8A8A8","stroke-width":"1.4"}}),t("path",{attrs:{d:"M5.879 5.879l4.242 4.242M5.879 10.121L10.12 5.88",stroke:"#fff","stroke-width":"1.4","stroke-linecap":"round"}})])}},Zt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 20 20",fill:"none"}},[t("mask",{staticStyle:{"mask-type":"luminance"},attrs:{id:"a",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20"}},[t("path",{attrs:{d:"M20 0H0v20h20V0z",fill:"#fff"}})]),t("g",{attrs:{mask:"url(#a)"}},[t("path",{attrs:{d:"M2.664 10.965l6.194 5.352L17.754 4.29",stroke:"#FF5B00","stroke-width":"1.75","stroke-linecap":"round","stroke-linejoin":"round"}})])])}},Jt=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"keywords-search-modal",attrs:{"data-spm-page":"LocationSearch_ResultPage"}},[o("div",{staticClass:"keywords-search-modal-header"},[o("div",{staticClass:"keywords-search-modal-header_right"},[o("SearchGlassIcon",{staticClass:"search-icon"}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.keywords,expression:"keywords",modifiers:{trim:!0}}],ref:"searchInput",staticClass:"search-input",attrs:{placeholder:e.translateI18n("104304")},domProps:{value:e.keywords},on:{input:[function(t){t.target.composing||(e.keywords=t.target.value.trim())},e.handleInput],blur:function(t){return e.$forceUpdate()}}}),e._v(" "),o("div",{staticClass:"icon-box"},[o("SearchClearIcon",{directives:[{name:"show",rawName:"v-show",value:e.keywords,expression:"keywords"}],staticClass:"search-clear-icon",nativeOn:{click:function(t){return t.stopPropagation(),e.handleClear(t)}}})],1)],1),e._v(" "),o("div",{staticClass:"keywords-search-modal-header_cancel-button",on:{click:function(t){return t.stopPropagation(),e.back(t)}}},[e._v("\n      "+e._s(e.translateI18n("161204"))+"\n    ")])]),e._v(" "),o("div",{staticClass:"keywords-search-modal-body"},["fetching"===e.status?o("div",{staticClass:"loading-box"},[o("klk-loading",{attrs:{"show-overlay":"","overlay-color":"rgba(255, 255, 255, 0.7)"}})],1):e._e(),e._v(" "),o("div",[e.isNotMatch?o("div",{staticClass:"search-keywords-none"},[e.isScope?o("div",{staticClass:"search-keywords-none-scope"},[o("p",{staticClass:"search-keywords-none-text"},[e._v(" "+e._s(e.translateI18n("104307")))])]):o("div",{staticClass:"search-keywords-none-point"},[o("div",{staticClass:"search-keywords-none-text"},[e._v("\n            "+e._s(e.translateI18n("104307"))+"\n          ")]),e._v(" "),e.hasResult?o("div",{staticClass:"search-keywords-none-point-below"},[o("div",{staticClass:"gap"}),e._v(" "),o("p",{staticClass:"sugguest"},[e._v(" "+e._s(e.translateI18n("104308")))])]):e._e()])]):e._e(),e._v(" "),o("div",{staticClass:"search-keywords-result-list"},e._l(e.renderList,(function(t,r){return o("div",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"LocationSearch_SelectResult"},expression:"{ spm: 'LocationSearch_SelectResult' }"}],key:r,staticClass:"search-keywords-result-list-item",class:{selected:e.checkIsActive(t)},attrs:{"data-spm-module":e.getSearchResultSpm(t),"data-spm-virtual-item":"__virtual"},on:{click:function(o){return o.stopPropagation(),e.handleItemClick(t,r)}}},[o("div",{staticClass:"search-keywords-result-list-item-info"},[o("LocationInfoCard",{attrs:{info:t}})],1),e._v(" "),o("div",{staticClass:"search-keywords-result-list-item-right"},[e.checkIsActive(t)?o("IconSelected",{staticClass:"icon-selected"}):e._e(),e._v(" "),e.currentLoadingIndex===r?o("klk-loading",{attrs:{"show-overlay":"","overlay-color":"rgba(255, 255, 255, 0.7)"}}):e._e()],1)])})),0)])])])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.status="default",t.handleKeyWordsChange=R()(t.getSearchResult,400),t}return B(t,e),Object.defineProperty(t.prototype,"hasResult",{get:function(){var e;return(null===(e=this.searchResultList)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype.handleInput=function(){this.handleKeyWordsChange()},t.prototype.checkIsActive=function(e){var t,o,r,n=this.selectedItem;if(!n)return!1;var l=null!==(o=null===(t=null==e?void 0:e.detail_data)||void 0===t?void 0:t.location)&&void 0!==o?o:"",c=null!==(r=null==n?void 0:n.location)&&void 0!==r?r:"";return c&&l===c},t.prototype.reset=function(){this.keywords="",this.searchResultList=[],this.isNotMatch=!1},t.prototype.getSearchResult=function(){var e;return H(this,void 0,void 0,(function(){var t,o;return V(this,(function(r){switch(r.label){case 0:return this.status="fetching",t={input:this.keywords,package_id:this.packageId,show_meet_up:1,current_google_place_id:(null===(e=this.selectedItem)||void 0===e?void 0:e.google_place_id)||""},this.isNotMatch=!1,o=this,[4,this.getSearchFun(t)];case 1:return o.searchResultList=r.sent(),this.isNotMatch=!this.searchResultList.length&&!!this.keywords,this.status="success",[2]}}))}))},t.prototype.setOrder=function(data){var e=this;void 0===data&&(data=[]);var t=this.selectedItem;if(t){var o=t.location;return data.reduce((function(t,r){var n,l;return(null!==(l=null===(n=r.detail_data)||void 0===n?void 0:n.location)&&void 0!==l?l:"")===o?t.unshift(e.initResult(r)):t.push(r),t}),[])}return data},t.prototype.autoFocus=function(){this.keywords||this.focusInput()},t.prototype.focusInput=function(){var e=this.$refs.searchInput;(null==e?void 0:e.focus())&&e.focus()},t.prototype.handleClear=function(){this.autoFocus(),this.reset()},t.prototype.back=function(){this.$emit("closeFullScreenModal")},t.prototype.handleItemClick=function(e,t){var o;return void 0===t&&(t=-1),H(this,void 0,void 0,(function(){var r,n,l,c,d,h;return V(this,(function(v){switch(v.label){case 0:return n=(r=e||{}).detail_data,l=void 0===n?null:n,c=r.place_id,d=r.is_default,h=null,this.currentLoadingIndex=t,d||l?(h=l,[3,3]):[3,1];case 1:return[4,this.getPoiDetail({package_id:this.packageId,place_id:c})];case 2:h=v.sent(),this.$set(e,"detail_data",h),v.label=3;case 3:return this.currentLoadingIndex=-1,3===(null!==(o=null==h?void 0:h.data_type)&&void 0!==o?o:-1)?[2,L()(this.translateI18n("161196"))]:(this.$emit("selected",h),[2])}}))}))},t.prototype.getSearchResultSpm=function(e){var t=e.data_type,o="Available";return 2===t?o="Extra fee":3===t&&(o="Not offered"),"LocationSearch_SelectResult?trg=manual&ext=".concat(JSON.stringify({InScope:o}))},t.prototype.mounted=function(){this.autoFocus()},U([se({default:null})],t.prototype,"selectedItem",void 0),U([se({default:!1})],t.prototype,"isScope",void 0),U([se({default:""})],t.prototype,"customKeywords",void 0),U([re("translateI18n")],t.prototype,"translateI18n",void 0),U([re("customAxios")],t.prototype,"customAxios",void 0),U([re("packageId")],t.prototype,"packageId",void 0),t=U([ie({components:{SearchClearIcon:Qt,SearchGlassIcon:qt,KlkLoading:P.a,LocationInfoCard:Kt,IconSelected:Zt}})],t)}(Dt),"data-v-dac124d2",!1,void 0,!1,void 0,void 0,void 0),ei=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"card-wrap"},[e.info.image?o("img",e._b({staticClass:"image",attrs:{src:e.info.image}},"img",e.getBindTracker({type:"module",spm:"ItineraryMapCardImage",exposure:!1}),!1)):e._e(),e._v(" "),o("div",{staticClass:"info-wrap"},[o("div",{staticClass:"info-top"},[o("div",{staticClass:"info-top-left"},[e.info.title?o("div",{staticClass:"bold-head line-clamp"},[e._v(e._s(e.info.title))]):e._e(),e._v(" "),o("div",{staticClass:"head ellipsis"},[e._v("\n          "+e._s(e.info.group_time)+"\n          "),e.info.group_time?o("span",{staticClass:"dot"}):e._e(),e._v("\n          "+e._s(e.info.group_name)+"\n        ")]),e._v(" "),e._l(e.info.icons,(function(t,r){return o("div",{key:r,staticClass:"head"},[e._v(e._s(t.text))])}))],2)]),e._v(" "),e.info.address?o("div",e._b({staticClass:"sub-head",on:{click:e.copyAddress}},"div",e.getBindTracker({type:"module",spm:"ItineraryMapCardAddress",exposure:!1}),!1),[o("div",{staticClass:"address line-clamp"},[e._v(e._s(e.info.address))]),e._v(" "),e.info.is_static_card?e._e():o("div",{staticClass:"copy-wrap"},[o("CopyIconSvg",{staticStyle:{width:"16px",height:"16px"}})],1)]):e._e(),e._v(" "),e.info.is_static_card?o("div",e._b({staticClass:"search-area",on:{click:function(t){return t.stopPropagation(),e.$emit("search")}}},"div",e.getBindTracker({type:"module",spm:"LocationSearch",exposure:!0}),!1),[o("SearchGlassIcon",{staticClass:"search-icon"}),e._v(" "),o("div",{staticClass:"search-text"},[e._v(e._s(e.info.search_placeholder))])],1):e._e()])])},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),t.prototype.copyAddress=function(){return H(this,void 0,void 0,(function(){var text;return V(this,(function(e){switch(e.label){case 0:return text=this.info.address,[4,tt(text)];case 1:return e.sent()&&L()(this.translateI18n("copy_success")),[2]}}))}))},t.prototype.getBindTracker=function(e){return Ft(e)},Object.defineProperty(t.prototype,"info",{get:function(){var e,t,o,r,n=this.data||{},title=n.title,l=n.icons,map=n.map,c=n.group_name,d=n.group_time,h=n.imgs,v=n.is_static_card,f=n.search_placeholder,m=null!==(e=null==map?void 0:map.location)&&void 0!==e?e:"",address=null!==(t=null==map?void 0:map.address_desc)&&void 0!==t?t:"",image=null!==(r=null===(o=null==h?void 0:h[0])||void 0===o?void 0:o.src)&&void 0!==r?r:"";return{title:title,icons:Array.isArray(l)?l.slice(0,1):[],address:address,group_time:d,group_name:c,location:m,image:image&&ot(image,"image/upload/",240,240,0),is_static_card:v,search_placeholder:f}},enumerable:!1,configurable:!0}),U([se()],t.prototype,"data",void 0),U([se({default:function(){return null}})],t.prototype,"translateI18n",void 0),t=U([ie({components:{CopyIconSvg:Xt,SearchGlassIcon:qt}})],t)}(r.default),"data-v-0d64ffc2",!1,void 0,!1,void 0,void 0,void 0),ti=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("klk-map",e._b({ref:"mapRef",nativeOn:{click:function(t){return e.handleMapClick(t)}}},"klk-map",e.mapConfig,!1),[e._l(e.geoFenceConf,(function(e,t){return o("klk-map-geo-fence",{key:t,attrs:{"geo-fence-conf":e,isWgs84:!0}})})),e._v(" "),e._l(e.allMarkers,(function(marker,t){return o("klk-map-marker",e._b({key:t,ref:"marker",refInFor:!0,class:{"marker-active":e.currentMarker===t,"is-area":e.isArea(marker)},attrs:{center:marker.center,options:marker.options,"z-index":e.isArea(marker)?200:e.currentMarker===t?202:100}},"klk-map-marker",e.getBindTracker(marker.tracker),!1),[e.isArea(marker)?marker.poptip?o("div",{staticClass:"pick-up-map-area-marker-wrap"},[o("div",{staticClass:"pick-up-map-area-marker",style:marker.style},[e._v("\n        "+e._s(marker.poptip)+"\n      ")]),e._v(" "),o("div",{staticClass:"marker-after",style:marker.style})]):o("div"):[o("img",{directives:[{name:"show",rawName:"v-show",value:e.currentMarker!=t,expression:"currentMarker != index"},{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"",autoTrackSpm:!0},expression:"{ spm: '', autoTrackSpm: true }"}],staticClass:"icon-img",attrs:{src:marker.groupIcon.unselect},on:{click:function(o){return o.stopPropagation(),e.markerClick(t)}}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.currentMarker===t,expression:"currentMarker === index"}],staticClass:"icon-img-wrap"},[marker.isTemporary&&marker.tips_text?o("div",{staticClass:"pick-up-map-area-marker-wrap"},[o("div",{staticClass:"pick-up-map-area-marker",style:marker.style},[e._v("\n            "+e._s(marker.tips_text)+"\n          ")]),e._v(" "),o("div",{staticClass:"marker-after",style:marker.style})]):e._e(),e._v(" "),o("img",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"",autoTrackSpm:!0},expression:"{ spm: '', autoTrackSpm: true }"}],staticClass:"icon-img",class:{active:e.currentMarker===t},attrs:{src:marker.groupIcon.select}})])]],2)})),e._v(" "),e.showSelectedLocation?o("div",{staticClass:"map-card-box"},[o("MapCard",{attrs:{data:e.currentSelectedLocation}})],1):e._e(),e._v(" "),o("div",{staticClass:"top-operator-box"},[o("KlkMapCircleButton",{directives:[{name:"show",rawName:"v-show",value:!e.showSelectedLocation,expression:"!showSelectedLocation"},{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"CloseMap",autoTrackSpm:!0},expression:"{ spm: 'CloseMap', autoTrackSpm: true }"}],staticClass:"close-button",attrs:{"data-spm-module":"CloseMap?trg=manual","data-spm-virtual-item":"__virtual"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleClose(t)}}},[o("klk-icon",{attrs:{type:"icon_navigation_close_m",size:"20"}})],1),e._v(" "),o("KlkMapCircleButton",{directives:[{name:"show",rawName:"v-show",value:e.showSelectedLocation,expression:"showSelectedLocation"}],nativeOn:{click:function(t){return t.stopPropagation(),e.handleBack(t)}}},[o("klk-icon",{attrs:{type:"icon_navigation_chevron_left_xs",size:"18"}})],1)],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.showSelectedLocation,expression:"!showSelectedLocation"}],class:[e.visible&&"active","search-full-srceen-modal"],on:{click:function(e){e.stopPropagation()}}},[o("KeyWordsSearch",{ref:"keywordsSearchRef",attrs:{"selected-item":e.currentSelectedLocation,"is-scope":e.isScope,mapData:e.locationList},on:{closeFullScreenModal:e.handleModalClose,selected:e.handleSelected}})],1),e._v(" "),o("KlkMapUserLocation",e._b({directives:[{name:"show",rawName:"v-show",value:!e.showSelectedLocation,expression:"!showSelectedLocation"}],staticClass:"user-location",style:e.locationBottom},"KlkMapUserLocation",e.getBindTracker({type:"module",spm:"ItineraryMapFindMyPositionButton",exposure:!1}),!1)),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.showSelectedLocation,expression:"!showSelectedLocation"}],staticClass:"klk-scroll-snap-map",on:{touchmove:function(e){e.stopPropagation()}}},[o("klk-scroll-snap",{ref:"scrollSnap",on:{change:e.setMarkerIndex}},e._l(e.allCards,(function(t,r){return o("SnapCard",{key:r,style:e.cardStyle,attrs:{data:t,"translate-i18n":e.translateI18n},on:{search:e.showModal}})})),1)],1)],2)},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.visible=!1,t.currentSelectedLocation=null,t.searchSelectedLocation=null,t.currentMarker=-1,t.geoFenceConf=[],t.markerList=[],t.scrollSnapHeight=0,t.stopChange=!1,t}return B(t,e),Object.defineProperty(t.prototype,"locationBottom",{get:function(){var e=this.scrollSnapHeight+16;return{bottom:"".concat(e,"px")}},enumerable:!1,configurable:!0}),t.prototype.handleBack=function(){this.currentSelectedLocation=null},t.prototype.handleModalClose=function(){this.visible=!1,this.currentSelectedLocation=null,this.searchSelectedLocation=null,this.currentMarker=-1,this.handleClear()},Object.defineProperty(t.prototype,"showSelectedLocation",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allMarkers",{get:function(){var e=this.initPoisMarker(this.itineraryPois||[]);return Y(Y([],this.markerList,!0),e,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allCards",{get:function(){var e=this.initCards(this.markerList||[]),t=this.itineraryPois.map((function(e){return W(W({},e),{card_id:e.attr_id})}));return Y(Y([],e,!0),t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locationList",{get:function(){return(this.mapInfo.map||[]).map((function(e){return W({},e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isScope",{get:function(){return 2===this.mapInfo.pick_up_type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapConfig",{get:function(){var e,t="",o=this.locationList||[],r=this.itineraryPois||[];return o[0]?t=o[0].location:r[0]&&(t=null===(e=r[0].map)||void 0===e?void 0:e.location),{language:this.language,type:this.mapType,height:"100%",interactive:"greedy",zoom:16,center:f.f.formatLatLng(t),mapTracker:W(W({},this.realMapTracker||{}),{mapPlace:"PlayAPI_Activity_ItineraryPickUpMap"})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fencePointList",{get:function(){var e=this.geoFenceConf.reduce((function(e,t){return(t.polygonList||[]).forEach((function(t){Array.isArray(t)&&(Array.isArray(t[0])?e.push.apply(e,t.map((function(e){return f.f.formatLatLng(e.reverse().join(","))}))):2===t.length&&e.push(f.f.formatLatLng(t.reverse().join(","))))})),e}),[]);return Object.freeze(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cardStyle",{get:function(){var e=this.scrollSnapHeight-16,t=this.itineraryPois.length>1?{}:{width:"calc(100% - 40px)"};return W({height:"".concat(e,"px")},t)},enumerable:!1,configurable:!0}),t.prototype.calcHeight=function(){var e=this.scrollSnap.$el;this.scrollSnapHeight=e.offsetHeight},t.prototype.setMarkerIndex=function(e){var t,data=this.allCards[e];if(!this.stopChange&&data){var o=this.allMarkers.findIndex((function(e){return data.card_id===e.id}));this.currentMarker=o,this.flyTo(o);var marker=this.allMarkers[o];this.currentSelectedLocation=null!==(t=null==marker?void 0:marker.data)&&void 0!==t?t:null}else this.stopChange=!1},t.prototype.handleClose=function(){this.visible=!1,this.$emit("close")},t.prototype.getGeoFenceConf=function(){var e;return H(this,void 0,void 0,(function(){var t,o;return V(this,(function(r){switch(r.label){case 0:return(t=this.getValidAreaId(this.locationList||[])).length?[4,this.getGeomByIdList({area_id_list:t.join(",")})]:[3,2];case 1:o=r.sent(),this.geoFenceConf=this.initFenceData((null===(e=null==o?void 0:o.result)||void 0===e?void 0:e.geom_list)||[],this.locationList),r.label=2;case 2:return[2]}}))}))},t.prototype.initMarkerAndFence=function(){return H(this,void 0,void 0,(function(){var e=this;return V(this,(function(t){switch(t.label){case 0:return[4,this.getGeoFenceConf()];case 1:return t.sent(),this.markerList=(this.locationList||[]).map((function(t){return e.formatMarker(t)})),[2]}}))}))},t.prototype.handleCurrentPoiFlyto=function(){var e,t=this,o=this.currentPoi,r=null!==(e=null==o?void 0:o.attr_id)&&void 0!==e?e:0;if(o&&r){var n=(this.allMarkers||[]).findIndex((function(e){return e.id===r}));n>=0&&this.$nextTick((function(){t.markerClick(n)}))}},t.prototype.initMap=function(){var e=this,map=this.$refs.mapRef;(null==map?void 0:map.$getMapTool)&&map.$getMapTool.then((function(t){return H(e,void 0,void 0,(function(){var e,o,r,n,l,c=this;return V(this,(function(d){switch(d.label){case 0:return this.$map=t,"function"==typeof(null===(n=null===(r=this.$map)||void 0===r?void 0:r.map)||void 0===n?void 0:n.setOptions)&&(e=[{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]}],this.$map.map.setOptions({styles:e})),[4,this.fitMapBounds()];case 1:return d.sent(),this.handleCurrentPoiFlyto(),(null===(l=this.currentPoi)||void 0===l?void 0:l.map)&&-1!==(o=this.allCards.findIndex((function(e){var t,o,r,n;return(null===(t=e.map)||void 0===t?void 0:t.google_place_id)===(null===(o=c.currentPoi.map)||void 0===o?void 0:o.google_place_id)||(null===(r=e.map)||void 0===r?void 0:r.location)===(null===(n=c.currentPoi.map)||void 0===n?void 0:n.location)})))&&setTimeout((function(){var e=c.scrollSnap;e&&e.slideTo(o)}),150),[2]}}))}))}))},t.prototype.fitMapBounds=function(e){return H(this,void 0,void 0,(function(){var t,o,r;return V(this,(function(n){switch(n.label){case 0:return this.$map&&(t=e?[e]:Y(Y([],this.fencePointList,!0),this.allMarkers.map((function(e){return e.center})),!0)).length?[4,f.f.turfBbox(t,this.mapType)]:[3,2];case 1:o=n.sent(),r=this.$map.createBounds(o.sw,o.ne,{formatLngLat:!1}),this.$map.fitBounds(r,{padding:{top:this.allMarkers.length?80:20,left:20,bottom:160,right:20}}),this.$map.map.setZoom(Math.min(this.$map.map.getZoom(),12)),n.label=2;case 2:return[2]}}))}))},t.prototype.formatMarker=function(data,e){return void 0===e&&(e=!1),this.initMarker(data,e,{tracker:{type:"module",spm:"ViewPickUpPoint",exposure:!0,query:{ext:JSON.stringify({Type:e?"customed":"fixed"})}}})},t.prototype.markerClick=function(e){var t,data=this.allMarkers[e],o=this.allCards.findIndex((function(e){return e.card_id===data.id}));this.currentMarker=e,this.currentSelectedLocation=null!==(t=null==data?void 0:data.data)&&void 0!==t?t:null,this.flyTo(e),this.stopChange=!0,this.visible=!1;var r=this.scrollSnap;r&&r.slideTo(o)},t.prototype.flyTo=function(e){var marker=this.allMarkers[e];if(marker&&this.$map){var t=marker.center;this.$map.flyTo(t)}},t.prototype.handleClear=function(){var e=this;this.markerList=this.markerList.filter((function(marker){return!marker.isTemporary})),this.$nextTick((function(){e.fitMapBounds()}))},t.prototype.handleMapClick=function(){var e=!!this.searchSelectedLocation;this.visible=!1,e&&(this.currentSelectedLocation=null,this.searchSelectedLocation=null,this.currentMarker=-1,this.handleClear())},t.prototype.addMarker=function(data){var e,t;this.markerList=this.markerList.filter((function(marker){return!marker.isTemporary}));var o=this.markerList.findIndex((function(e){return e.location===data.location}));if(-1===o){var r=this.formatMarker(data,!0);this.markerList.push(r),o=this.markerList.length-1}this.fitMapBounds(null!==(t=null===(e=this.markerList[o])||void 0===e?void 0:e.center)&&void 0!==t?t:null),this.currentMarker=o,this.flyTo(o)},t.prototype.showModal=function(){var e=this;this.visible=!0,setTimeout((function(){var t,o;null===(o=null===(t=e.keywordsSearchRef)||void 0===t?void 0:t.focusInput)||void 0===o||o.call(t)}),400)},t.prototype.handleSelected=function(e){this.currentSelectedLocation=e,this.searchSelectedLocation=e,this.addMarker(e)},t.prototype.mounted=function(){return H(this,void 0,void 0,(function(){return V(this,(function(e){switch(e.label){case 0:return[4,this.initMarkerAndFence()];case 1:return e.sent(),this.initMap(),this.calcHeight(),[2]}}))}))},U([se({type:Object,default:function(){return{}}})],t.prototype,"mapInfo",void 0),U([re("customInhouseTrack")],t.prototype,"customInhouseTrack",void 0),U([se({type:String,default:"mapbox"})],t.prototype,"mapType",void 0),U([re("language2provide")],t.prototype,"language",void 0),U([re("realMapTracker")],t.prototype,"realMapTracker",void 0),U([re({default:function(){return null}})],t.prototype,"translateI18n",void 0),U([se({type:Array,default:function(){return[]}})],t.prototype,"itineraryPois",void 0),U([ce()],t.prototype,"scrollSnap",void 0),U([ce()],t.prototype,"keywordsSearchRef",void 0),U([se()],t.prototype,"currentPoi",void 0),t=U([ie({components:{KlkMap:f.a,KlkMapMarker:f.d,KlkMapCircleButton:f.b,KlkMapUserLocation:f.e,MapCard:Gt,SearchGlassIcon:qt,SearchClearIcon:Qt,KeyWordsSearch:Jt,KlkIcon:$.a,KlkMapGeoFence:f.c,KlkButton:O.a,KlkScrollSnap:D.a,SnapCard:ei}})],t)}(Bt),"data-v-ef73051a",!1,void 0,!1,void 0,void 0,void 0),ii=new r.default({}),oi=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.actualShow?o("div",{class:e.cClass,style:e.style},[o("div",{staticClass:"full-screen-modal-mask"}),e._v(" "),o("div",{staticClass:"full-screen-modal-inner",style:e.innerStyle},[o("div",{staticClass:"full-screen-modal-inner-header"},[e._t("header")],2),e._v(" "),o("div",{staticClass:"full-screen-modal-inner-body"},[e._t("default")],2)])]):e._e()},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.transitionEndFlag=!1,t.actualShow=!1,t.show=!1,t.appendBody=!1,t.transitionEnd=!1,t}return B(t,e),Object.defineProperty(t.prototype,"innerStyle",{get:function(){return{transform:this.show?"translateY(0px)":"translateY(100%)"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cClass",{get:function(){return{"full-screen-modal":!0,"full-screen-modal-hidden":!this.show}},enumerable:!1,configurable:!0}),t.prototype.onVisibleChange=function(e){Qe||(e?this.open():this.close())},t.prototype.close=function(){var e=this;this.show=!1,this.lockOuterScroll(!1),setTimeout((function(){e.actualShow=!1}),350)},t.prototype.open=function(){var e=this;this.actualShow=!0,this.lockOuterScroll(!0),setTimeout((function(){e.show=!0}),0)},t.prototype.lockOuterScroll=function(e){document.body.style.overflow=e?"hidden":"auto"},t.prototype.updateVisible=function(){this.$emit("update:visible",!1)},t.prototype.appendPopupElToBody=function(){var e=this;this.appendBody||this.$nextTick((function(){document.body.appendChild(e.$el),e.appendBody=!0}))},t.prototype.mounted=function(){ii.$on("closeFullScreenModal",this.updateVisible),this.appendPopupElToBody()},t.prototype.beforeDestroy=function(){ii.$off("closeFullScreenModal",this.updateVisible)},U([se()],t.prototype,"title",void 0),U([se()],t.prototype,"visible",void 0),U([le("visible")],t.prototype,"onVisibleChange",null),t=U([ie],t)}(r.default),"data-v-34ddefbc",!1,void 0,!1,void 0,void 0,void 0),ri=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.valid?o("div",{staticClass:"pick-up-info"},[o("h3",{staticClass:"pick-up-info-title"},[e._v(e._s(e.info.title))]),e._v(" "),o("p",{staticClass:"pick-up-info-tips"},[e._v(e._s(e.info.description))]),e._v(" "),o("div",{staticClass:"pick-up-info-text-list"},e._l(e.point_list,(function(text,t){return o("span",{key:t,staticClass:"pick-up-info-text-list-item"},[o("span",[e._v(e._s(text))])])})),0),e._v(" "),e.seeMore&&!e.isScope?o("div",{staticClass:"pick-up-info-see-more",on:{click:e.showMap}},[o("span",[e._v(e._s(e.seeMoreText))])]):e._e(),e._v(" "),o("div",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"ViewPickUpPoint"},expression:"{ spm: 'ViewPickUpPoint' }"}],staticClass:"pick-up-info-btn",attrs:{"data-spm-module":"ViewPickUpPoint","data-spm-virtual-item":"__virtual"},on:{click:e.showMap}},[o("img",{staticClass:"pick-up-info-btn-img",attrs:{src:e.mapData.title_icon,alt:""}}),e._v(" "),o("span",{staticClass:"pick-up-info-btn-text"},[e._v(e._s(e.mapData.title))])])]):e._e()},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.limit=10,t}return B(t,e),Object.defineProperty(t.prototype,"valid",{get:function(){return!x()(this.info)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pick_up_type",{get:function(){return this.isScope?"pick_up_scope":"pick_up_fixed"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"point_list",{get:function(){var e;return(null===(e=this.info)||void 0===e?void 0:e.point_list)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seeMore",{get:function(){return Number(this.info.point_count)>this.limit},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seeMoreText",{get:function(){var e=Number(this.info.point_count)-this.limit;return"".concat(this.translateI18n("see_more")," (").concat(e,"+)")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapData",{get:function(){var e;return(null===(e=this.info)||void 0===e?void 0:e.map_data)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isScope",{get:function(){var e;return 2===(null===(e=this.mapData)||void 0===e?void 0:e.pick_up_type)},enumerable:!1,configurable:!0}),t.prototype.showMap=function(){this.$emit("showMap")},U([re("translateI18n")],t.prototype,"translateI18n",void 0),U([re("currentMapType")],t.prototype,"currentMapType",void 0),U([se({default:function(){}})],t.prototype,"info",void 0),t=U([ie],t)}(r.default),"data-v-f67ec698",!1,void 0,!1,void 0,void 0,void 0),ni=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pick-up-mobile",attrs:{"data-spm-module":e.spmModule}},[e.showEntry&&e.info?o("PickUpInfo",{attrs:{info:e.info},on:{showMap:e.handleShowMap}}):e._e(),e._v(" "),o("FullScreenModal",{staticClass:"pick-up-mobile-full-screen-modal",attrs:{visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[e.createdMap?o("Map",{attrs:{"map-info":e.mapInfo,"map-type":e.currentMapType||"google","itinerary-pois":e.itineraryPois,"current-poi":e.currentPoi,"pickup-info":e.info},on:{close:function(t){e.visible=!1}}}):e._e()],1)],1)},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createdMap=!1,t.visible=!1,t}return B(t,e),Object.defineProperty(t.prototype,"mapInfo",{get:function(){var e;return(null===(e=this.info)||void 0===e?void 0:e.map_data)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spmModule",{get:function(){var e,t=((null===(e=this.mapInfo)||void 0===e?void 0:e.map)||[]).reduce((function(e,t){var o=t.pick_up_type,r=t.is_customized_area;return 1===o?e.push("pick_up_fixed"):e.push(r?"pick_up_customized":"pick_up_scope"),e}),[]),o=Array.from(new Set(t)).join(",");return"PickMeetUpInformation?ext=".concat(JSON.stringify({type:o}))},enumerable:!1,configurable:!0}),t.prototype.currentPoiChange=function(e){e&&this.handleShowMap()},t.prototype.onVisibleChange=function(e){var t=this;e?!Qe&&this.$nextTick((function(){var e=document.querySelector(".pick-up-mobile-full-screen-modal");t.customInhouseTrack("pageview",e,{force:!0})})):this.$emit("close")},t.prototype.handleShowMap=function(){this.visible=!0,this.createdMap=!0},U([se({default:function(){return{}}})],t.prototype,"info",void 0),U([se({type:Array,default:function(){return[]}})],t.prototype,"itineraryPois",void 0),U([re("customInhouseTrack")],t.prototype,"customInhouseTrack",void 0),U([re("currentMapType")],t.prototype,"currentMapType",void 0),U([se({type:Boolean,default:!0})],t.prototype,"showEntry",void 0),U([se({type:Object,default:null})],t.prototype,"currentPoi",void 0),U([le("currentPoi",{deep:!0,immediate:!0})],t.prototype,"currentPoiChange",null),U([le("visible")],t.prototype,"onVisibleChange",null),t=U([ie({components:{Map:ti,FullScreenModal:oi,PickUpInfo:ri}})],t)}(r.default),void 0,!1,void 0,!1,void 0,void 0,void 0),ai=Ke({render:function(){var e=this.$createElement;return(this._self._c||e)(this.componentName,this._g(this._b({tag:"component"},"component",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),Object.defineProperty(t.prototype,"componentName",{get:function(){return this.isMobile?ni:Yt},enumerable:!1,configurable:!0}),U([re("isMobile")],t.prototype,"isMobile",void 0),t=U([ie({components:{PickUpPointsDesktop:Yt,PickUpPointsMobile:ni}})],t)}(r.default),void 0,!1,void 0,!1,void 0,void 0,void 0),si={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 20 21",fill:"none"}},[t("path",{attrs:{d:"M11.054 6.921a1.053 1.053 0 11-2.105 0 1.053 1.053 0 012.105 0zM10.76 9.658a.758.758 0 10-1.516 0v5.053a.758.758 0 101.515 0V9.658z",fill:"#212121"}}),t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.001 18.5a8 8 0 100-16 8 8 0 000 16zm0-1.4a6.6 6.6 0 100-13.2 6.6 6.6 0 000 13.2z",fill:"#212121"}})])}},ci={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.294 7.435a.8.8 0 010 1.13l-6.765 6.766a.8.8 0 01-1.132 0L2.633 8.566a.8.8 0 111.131-1.131l6.2 6.199 6.198-6.2a.8.8 0 011.132 0z"}})])}},pi={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.633 12.566a.8.8 0 010-1.132L9.397 4.67a.8.8 0 011.132 0l6.765 6.764a.8.8 0 01-1.132 1.132l-6.199-6.2-6.199 6.2a.8.8 0 01-1.131 0z"}})])}},di=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"itinerary-day"},[!e.isOneDay&&e.dayData.day_name?o("div",{staticClass:"itinerary-day-title",class:{collapsed:e.collapsed},on:{click:function(t){return e.changeCollapse(t)}}},[o("div",{staticClass:"itinerary-day-title-wrapper"},[e.dayData.day_icon?o("img",{staticClass:"itinerary-day-icon",attrs:{src:e.dayData.day_icon,alt:"icon"}}):e._e(),e._v(" "),o("span",[e._v(e._s(e.dayData.day_name))])]),e._v(" "),o("div",[e.hasPreSummaries?o("span",{staticClass:"itinerary-day-title-arrow"},[o("ArrowDownSvg",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}]}),e._v(" "),o("ArrowUpSvg",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]})],1):e._e()])]):e._e(),e._v(" "),e.showNav?o("div",{staticClass:"itinerary-day-nav",on:{click:function(t){e.collapsed=!e.collapsed}}},[o("CommaText",{staticClass:"itinerary-day-nav-text",attrs:{"text-data":e.dayData.pre_summaries}},[o("ArrowRightSvg",{staticStyle:{width:"16px",height:"16px"}})],1)],1):o("div",{staticClass:"itinerary-day-groups"},[e.dayData.text?o("div",{staticClass:"itinerary-day-header",class:{"itinerary-day-header-new":e.isNewPickUp}},[e.dayData.icon?o("img",{staticClass:"itinerary-day-header-icon",attrs:{src:e.dayData.icon}}):e._e(),e._v(" "),o("div",[e._v(e._s(e.dayData.text))])]):e._e(),e._v(" "),e.isMobile?o("div",{staticClass:"itinerary-day-tips"},[e.dayData.tips.departure_tips?o("div",{staticClass:"itinerary-day-tips-text"},[e._v(e._s(e.dayData.tips.departure_tips))]):e._e(),e._v(" "),e.dayData.tips.departure_more?o("div",{staticClass:"itinerary-day-tips-text"},[e._v(e._s(e.dayData.tips.departure_more))]):e._e(),e._v(" "),e.dayData.tips.return_tips?o("div",{staticClass:"itinerary-day-tips-text"},[e._v(e._s(e.dayData.tips.return_tips))]):e._e()]):e._e(),e._v(" "),e.isValidPickupInfo(0,!0)?o("PickUpPoints",{attrs:{info:e.pickUpInfo,"itinerary-pois":e.calcItineraryPois,"show-entry":!1}}):e._e(),e._v(" "),e._l(e.dayData.groups,(function(t,r){return o("div",{key:t.group_id+"-"+r,staticClass:"itinerary-day-block",attrs:{id:e.getId(t.group_id)}},[e.tipsList[r]&&e.tipsList[r].length>0&&!e.isMobile?o("div",{staticClass:"itinerary-day-tips desktop"},[o("IconTips",{staticClass:"itinerary-day-tips-icon"}),e._v(" "),o("div",{staticClass:"itinerary-day-tips-content"},e._l(e.tipsList[r],(function(text,i){return o("p",{key:i,staticClass:"itinerary-day-tips-text"},[e._v("\n            "+e._s(text||"")+"\n          ")])})),0)],1):e._e(),e._v(" "),e.isValidPickupInfo(r,!1)?o("PickUpPoints",{attrs:{info:e.pickUpInfo,"itinerary-pois":e.calcItineraryPois,"show-entry":!1}}):e._e(),e._v(" "),o("ItineraryGroup",{class:{"no-line":e.isLast(r)},attrs:{"group-data":t,"tips-text":e.tipsList[r],showImageFn:e.showImageFn,hackCloseBtn:e.hackCloseBtn,"pick-up-info":e.pickUpInfo}})],1)}))],2)])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collapsed=!1,t}return B(t,e),t.prototype.isValidPickupInfo=function(e,t){var o,r;return void 0===t&&(t=!1),!this.isMobile&&!this.isPrinting&&(!!(null!==(r=null===(o=this.dayData)||void 0===o?void 0:o.pick_up_info)&&void 0!==r?r:null)&&(t?!this.dayData.groups||!this.dayData.groups.length:0===e))},t.prototype.getId=function(e){return this.isPickUp?"group_".concat(e):""},Object.defineProperty(t.prototype,"hidePickUpInfo",{get:function(){return this.isMobile&&this.isNewPickUp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPreSummaries",{get:function(){var e,t;return!!(null===(t=null===(e=this.dayData)||void 0===e?void 0:e.pre_summaries)||void 0===t?void 0:t.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNav",{get:function(){return!this.isOneDay&&this.hasPreSummaries&&this.collapsed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tipsList",{get:function(){for(var e=this.dayData||{},t=e.groups,o=e.tips,r=[],n=!1,l=!1,c=0,d=t||[];c<d.length;c++){var h=d[c];n||"itinerary_return"!==(null==h?void 0:h.group_key)?l||"itinerary_departure"!==(null==h?void 0:h.group_key)?r.push([]):(l=!0,r.push([(null==o?void 0:o.departure_tips)||"",(null==o?void 0:o.departure_more)||""].filter(Boolean))):(n=!0,r.push([(null==o?void 0:o.return_tips)||""].filter(Boolean)))}return r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calcItineraryPois",{get:function(){return this.itineraryPois.map((function(e){return W(W({},e),{attr_id:e.attr_id||nt()})}))},enumerable:!1,configurable:!0}),t.prototype.isLast=function(e){var t,o;return e+1===(null===(o=null===(t=this.dayData)||void 0===t?void 0:t.groups)||void 0===o?void 0:o.length)},Object.defineProperty(t.prototype,"pickUpInfo",{get:function(){var e;return(null===(e=this.dayData)||void 0===e?void 0:e.pick_up_info)||{}},enumerable:!1,configurable:!0}),t.prototype.changeCollapse=function(e){this.collapsed=!this.collapsed,e&&e.stopPropagation()},U([se()],t.prototype,"dayData",void 0),U([se({default:!1})],t.prototype,"isOneDay",void 0),U([se({default:!1})],t.prototype,"noDivider",void 0),U([se()],t.prototype,"showImageFn",void 0),U([se({default:!1})],t.prototype,"hackCloseBtn",void 0),U([se({type:Array,default:function(){return[]}})],t.prototype,"itineraryPois",void 0),U([re("isPickUp")],t.prototype,"isPickUp",void 0),U([re("isMobile")],t.prototype,"isMobile",void 0),U([re("isNewPickUp")],t.prototype,"isNewPickUp",void 0),U([re("isPrinting")],t.prototype,"isPrinting",void 0),t=U([ie({components:{CommaText:Ge,ItineraryGroup:jt,KlkDivider:l.a,ArrowRightSvg:qe,ArrowDownSvg:ci,ArrowUpSvg:pi,IconTips:si,PickUpPoints:ai}})],t)}(r.default),"data-v-8bd8ecb8",!1,void 0,!1,void 0,void 0,void 0),ui=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"itinerary-footer"},e._l(e.footerData,(function(t,r){return o("p",{key:r,staticClass:"itinerary-footer-item"},[e._v("\n    "+e._s(t)+"\n  ")])})),0)},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),U([se()],t.prototype,"footerData",void 0),t=U([ie({components:{KlkDivider:l.a}})],t)}(r.default),"data-v-527e34d4",!1,void 0,!1,void 0,void 0,void 0),hi=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("klk-map",e._b({ref:"map"},"klk-map",e.mapConfig,!1),[e._l(e.mapMarker,(function(marker,t){return o("klk-map-marker",e._b({key:t,class:{"marker-active":e.currentMarker===t},attrs:{center:marker.center,options:marker.options,"z-index":e.currentMarker===t?202:100}},"klk-map-marker",e.getBindTracker(marker.tracker),!1),[o("img",{directives:[{name:"show",rawName:"v-show",value:e.currentMarker!=t,expression:"currentMarker != index"}],staticClass:"icon-img",attrs:{src:marker.groupIcon.unselect},on:{click:function(o){return e.markerClick(t)}}}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:e.currentMarker===t,expression:"currentMarker === index"}],staticClass:"icon-img",class:{active:e.currentMarker===t},attrs:{src:marker.groupIcon.select}})])})),e._v(" "),o("div",{staticClass:"klk-scroll-snap-map",on:{touchmove:function(e){e.stopPropagation()}}},[o("klk-scroll-snap",{ref:"scrollSnap",on:{change:e.setMarkerIndex}},e._l(e.itineraryMap,(function(t,r){return o("MapCard",{key:r,style:e.cardStyle,attrs:{data:t}})})),1)],1),e._v(" "),o("KlkMapCircleButton",e._b({staticClass:"close-button",nativeOn:{click:function(t){return e.$emit("close")}}},"KlkMapCircleButton",e.getBindTracker({type:"module",spm:"ItineraryMapLayerClose",exposure:!1}),!1),[o("klk-icon",{attrs:{type:"icon_navigation_close_m",size:"20"}})],1),e._v(" "),o("KlkMapUserLocation",e._b({staticClass:"user-location",style:e.locationBottom},"KlkMapUserLocation",e.getBindTracker({type:"module",spm:"ItineraryMapFindMyPositionButton",exposure:!1}),!1))],2)},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentMarker=0,t.scrollSnapHeight=0,t.stopChange=!1,t}return B(t,e),t.prototype.currentPoiChange=function(e){var t,o=this,r=null!==(t=null==e?void 0:e.attr_id)&&void 0!==t?t:0;if(e&&r){var n=(this.itineraryMap||[]).findIndex((function(e){return e.attr_id===r}));n>=0&&this.$nextTick((function(){o.markerClick(n)}))}},Object.defineProperty(t.prototype,"locationBottom",{get:function(){var e=this.scrollSnapHeight+12;return{bottom:"".concat(e,"px")}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cardStyle",{get:function(){var e=this.scrollSnapHeight-16,t=this.itineraryMap.length>1?{}:{width:"calc(100% - 40px)"};return W({height:"".concat(e,"px")},t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapConfig",{get:function(){var e=this.mapType,t=this.itineraryMap[0].map.location.split(","),o=t[0],r=void 0===o?"":o,n=t[1],l=void 0===n?"":n;return{language:this.language,type:e,height:"100%",interactive:"greedy",zoom:16,center:"".concat(l,",").concat(r),mapTracker:W(W({},this.realMapTracker||{}),{mapPlace:"PlayAPI_Activity_ItineraryMap"})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapMarker",{get:function(){return this.initMarker()},enumerable:!1,configurable:!0}),t.prototype.mounted=function(){this.calcHeight(),this.initMap()},t.prototype.initMap=function(){var e=this,map=this.$refs.map;(null==map?void 0:map.$getMapTool)&&map.$getMapTool.then((function(t){return H(e,void 0,void 0,(function(){var e,o,r,n,l,c;return V(this,(function(d){switch(d.label){case 0:return this.$map=t,e=this.mapMarker.map((function(e){return e.center})),[4,f.f.turfBbox(e,this.mapType)];case 1:return o=d.sent(),r=t.createBounds(o.sw,o.ne,{formatLngLat:!1}),t.fitBounds(r,{padding:{top:80,left:40,bottom:this.scrollSnapHeight,right:40}}),"function"==typeof(null===(c=null===(l=this.$map)||void 0===l?void 0:l.map)||void 0===c?void 0:c.setOptions)&&(n=[{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]}],this.$map.map.setOptions({styles:n})),[2]}}))}))}))},t.prototype.initMarker=function(){return(this.itineraryMap||[]).map((function(e){var t=e.map.location,o=e.group_key,r=e.group_icon||"",n={marker_type:o},l={type:"module",spm:"ItineraryMapMarkerClick",exposure:!1,query:{ext:JSON.stringify(n)}},c=e.group_icon_v2||{select:r,unselect:r};return{center:f.f.formatLatLng(t),options:{anchor:"bottom"},tracker:l,icon_url:r,groupIcon:c}}))},t.prototype.getBindTracker=function(e){return Ft(e)},t.prototype.calcHeight=function(){var e=this.$refs.scrollSnap.$el;this.scrollSnapHeight=e.offsetHeight},t.prototype.getMarkerStyle=function(marker){var e;return{background:null!==(e=null==marker?void 0:marker.background)&&void 0!==e?e:"#fff"}},t.prototype.markerClick=function(e){this.stopChange=!0,this.$refs.scrollSnap.slideTo(e),this.currentMarker=e,this.flyTo(e)},t.prototype.setMarkerIndex=function(e){this.stopChange?this.stopChange=!1:(this.currentMarker=e,this.flyTo(e))},t.prototype.flyTo=function(e){var marker=this.mapMarker[e];if(marker&&this.$map){var t=marker.center;this.$map.flyTo(t)}},U([se({type:Object,default:function(){return[]}})],t.prototype,"itineraryMap",void 0),U([se({type:String,default:"mapbox"})],t.prototype,"mapType",void 0),U([se()],t.prototype,"currentPoi",void 0),U([re("language2provide")],t.prototype,"language",void 0),U([re("realMapTracker")],t.prototype,"realMapTracker",void 0),U([le("currentPoi",{deep:!0,immediate:!0})],t.prototype,"currentPoiChange",null),t=U([ie({components:{KlkMap:f.a,KlkMapMarker:f.d,KlkScrollSnap:D.a,KlkMapUserLocation:f.e,KlkMapCircleButton:f.b,KlkIcon:$.a,MapCard:ei}})],t)}(r.default),"data-v-522d6299",!1,void 0,!1,void 0,void 0,void 0),vi=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"map-wrapper"},[e.itineraryPOI.thumbnail_img&&e.itineraryPOI.thumbnail_text?o("div",e._b({staticClass:"map-container",on:{click:e.toggleMap}},"div",e.buttonTracker,!1),[o("div",{staticClass:"static-map"},[o("img",{staticClass:"static-map-img",attrs:{src:e.itineraryPOI.thumbnail_img}})]),e._v(" "),o("klk-button",{staticClass:"map-button",attrs:{size:"small",type:"secondary",icon:"icon_travel_location_fill",round:""}},[e._v("\n      "+e._s(e.itineraryPOI.thumbnail_text)+"\n    ")])],1):e._e(),e._v(" "),o("klk-bottom-sheet",{staticClass:"map-bottom-sheet",attrs:{visible:e.showMap,"can-pull-close":!1,height:"100%","z-index":2030,transfer:""},on:{"update:visible":function(t){e.showMap=t}}},[o("div",{staticClass:"map-wrap"},[e.createdMap?o("Map",{attrs:{"itinerary-map":e.itineraryMap,"current-poi":e.currentPoi,"map-type":e.mapType},on:{close:e.closeMap}}):e._e()],1)])],1)},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showMap=!1,t.createdMap=!1,t}return B(t,e),Object.defineProperty(t.prototype,"itineraryPOI",{get:function(){var e,t;return null!==(t=null===(e=this.itineraryData)||void 0===e?void 0:e.pois)&&void 0!==t?t:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itineraryMap",{get:function(){var e,t;return null!==(t=null===(e=this.itineraryPOI)||void 0===e?void 0:e.poi_data)&&void 0!==t?t:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonTracker",{get:function(){return Ft({type:"module",spm:"ItineraryMapPreview"})},enumerable:!1,configurable:!0}),t.prototype.currentPoiChange=function(e){e&&this.toggleMap()},t.prototype.closeMap=function(){this.toggleMap(),this.$emit("close")},t.prototype.staticMapHash=function(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t&=t}return String(t)},t.prototype.toggleMap=function(){this.showMap=!this.showMap,this.createdMap=!0},U([se()],t.prototype,"itineraryData",void 0),U([se()],t.prototype,"currentPoi",void 0),U([se()],t.prototype,"mapType",void 0),U([le("currentPoi",{deep:!0,immediate:!0})],t.prototype,"currentPoiChange",null),t=U([ie({components:{Map:hi,KlkButton:O.a,KlkBottomSheet:A.a}})],t)}(r.default),"data-v-01268354",!1,void 0,!1,void 0,void 0,void 0);function fi(){var e=[],t=[];function o(e,t){e.forEach((function(e){e(t)}))}this.onSingleTap=function(t){"function"!=typeof t||e.includes(t)||e.push(t)},this.onDoubleTap=function(e){"function"!=typeof e||t.includes(e)||t.push(e)},this.attach=function(e){e instanceof Element&&(e.addEventListener("touchstart",v),e.addEventListener("touchmove",m),e.addEventListener("touchend",f),e.addEventListener("mousedown",y),e.addEventListener("mouseup",w),e.addEventListener("mousemove",_))},this.detach=function(e){e.removeEventListener("touchstart",v),e.removeEventListener("touchmove",m),e.removeEventListener("touchend",f),e.removeEventListener("mousedown",y),e.removeEventListener("mouseup",w),e.removeEventListener("mousemove",_)};var r=!1,n=0,l=0,c=0,d=0,h=0;function v(e){r=!0,1===e.touches.length&&k(e.touches[0].clientX,e.touches[0].clientY)}function f(e){0===e.touches.length&&x()}function m(e){1===e.touches.length&&C(e.touches[0].clientX,e.touches[0].clientY)}function y(e){r||k(e.clientX,e.clientY)}function w(){r||x()}function _(e){r||0===e.button&&C(e.clientX,e.clientY)}function k(e,t){d=e,h=t,c=0}function x(){var r=Date.now();c<10&&(r-n<300?l+=1:l=1,n=Date.now(),o(e,{clientX:d,clientY:h}),2===l&&(o(t,{clientX:d,clientY:h}),l=0)),c=0}function C(e,t){var o=d-e,r=h-t,n=Math.sqrt(o*o+r*r);c+=n,d=e,h=t}}var mi=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"vue-zoomer",style:{backgroundColor:e.backgroundColor},on:{mousewheel:function(t){return t.preventDefault(),e.onMouseWheel(t)},DOMMouseScroll:e.onMouseWheel,mousedown:e.onMouseDown,mouseup:e.onMouseUp,mousemove:e.onMouseMove,mouseout:e.setPointerPosCenter,touchstart:e.onTouchStart,touchend:e.onTouchEnd,touchmove:e.onTouchMove}},[o("div",{staticClass:"zoomer",style:e.wrapperStyle},[e._t("default")],2)])},staticRenderFns:[]},void 0,{props:{minScale:{type:Number,default:1},maxScale:{type:Number,default:5},zoomed:{type:Boolean,default:!1},resetTrigger:{type:Number,default:1e5},aspectRatio:{type:Number,default:1},backgroundColor:{type:String,default:"transparent"},pivot:{type:String,default:"image-center"},limitTranslation:{type:Boolean,default:!0},doubleClickToZoom:{type:Boolean,default:!0}},data:function(){return{containerWidth:1,containerHeight:1,containerLeft:0,containerTop:0,translateX:0,animTranslateX:0,translateY:0,animTranslateY:0,scale:1,animScale:1,lastFullWheelTime:0,lastWheelTime:0,lastWheelDirection:"y",isPointerDown:!1,pointerPosX:-1,pointerPosY:-1,twoFingerInitDist:0,panLocked:!0,raf:null,tapDetector:null}},computed:{wrapperStyle:function(){var e=this.containerWidth*this.animTranslateX,t=this.containerHeight*this.animTranslateY;return{transform:["translate(".concat(e,"px, ").concat(t,"px)"),"scale(".concat(this.animScale,")")].join(" ")}}},watch:{scale:function(e){1!==e&&(this.$emit("update:zoomed",!0),this.panLocked=!1)},resetTrigger:"reset"},mounted:function(){this.tapDetector=new fi,this.tapDetector.attach(this.$el),this.doubleClickToZoom&&this.tapDetector.onDoubleTap(this.onDoubleTap),window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.refreshContainerPos(),this.loop()},destroyed:function(){this.tapDetector.detach(this.$el),window.removeEventListener("resize",this.onWindowResize),window.cancelAnimationFrame(this.raf)},methods:{reset:function(){this.scale=1,this.panLocked=!0,this.translateX=0,this.translateY=0},zoomIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.tryToScale(e),this.onInteractionEnd()},zoomOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;this.tryToScale(e),this.onInteractionEnd()},tryToScale:function(e){var t=this.scale*e;if(t<this.minScale||t>this.maxScale){var o=Math.log2(e);o*=.2,e=Math.pow(2,o),t=this.scale*e}if(e=t/this.scale,this.scale=t,"image-center"!==this.pivot){var r=(this.pointerPosX-this.containerLeft)/this.containerWidth,n=(this.pointerPosY-this.containerTop)/this.containerHeight;this.translateX=(.5+this.translateX-r)*e+r-.5,this.translateY=(.5+this.translateY-n)*e+n-.5}},setPointerPosCenter:function(){this.pointerPosX=this.containerLeft+this.containerWidth/2,this.pointerPosY=this.containerTop+this.containerHeight/2},onPointerMove:function(e,t){if(this.isPointerDown){var o=e-this.pointerPosX,r=t-this.pointerPosY;this.panLocked||(this.translateX+=o/this.containerWidth,this.translateY+=r/this.containerHeight)}this.pointerPosX=e,this.pointerPosY=t},onInteractionEnd:R()((function(){this.limit(),this.panLocked=1===this.scale,this.$emit("update:zoomed",!this.panLocked)}),100),limit:function(){if(this.scale<this.minScale?this.scale=this.minScale:this.scale>this.maxScale&&this.tryToScale(this.maxScale/this.scale),this.limitTranslation){var e=this.calcTranslateLimit();Math.abs(this.translateX)>e.x&&(this.translateX*=e.x/Math.abs(this.translateX)),Math.abs(this.translateY)>e.y&&(this.translateY*=e.y/Math.abs(this.translateY))}},calcTranslateLimit:function(){if("y"===this.getMarginDirection()){var e=this.containerWidth/this.aspectRatio/this.containerHeight,t=(this.scale*e-1)/2;return t<0&&(t=0),{x:(this.scale-1)/2,y:t}}var o=this.containerHeight*this.aspectRatio/this.containerWidth,r=(this.scale*o-1)/2;return r<0&&(r=0),{x:r,y:(this.scale-1)/2}},getMarginDirection:function(){return this.containerWidth/this.containerHeight>this.aspectRatio?"x":"y"},onDoubleTap:function(e){1===this.scale?(e.clientX>0&&(this.pointerPosX=e.clientX,this.pointerPosY=e.clientY),this.tryToScale(Math.min(3,this.maxScale))):this.reset(),this.onInteractionEnd()},onWindowResize:function(){var e=window.getComputedStyle(this.$el);this.containerWidth=parseFloat(e.width),this.containerHeight=parseFloat(e.height),this.setPointerPosCenter(),this.limit()},refreshContainerPos:function(){var rect=this.$el.getBoundingClientRect();this.containerLeft=rect.left,this.containerTop=rect.top},loop:function(){this.animScale=this.gainOn(this.animScale,this.scale),this.animTranslateX=this.gainOn(this.animTranslateX,this.translateX),this.animTranslateY=this.gainOn(this.animTranslateY,this.translateY),this.raf=window.requestAnimationFrame(this.loop)},gainOn:function(e,t){var o=.3*(t-e);return Math.abs(o)>1e-5?e+o:t},onMouseWheel:function(e){e.detail&&(e.wheelDelta=-10*e.detail);var t=Date.now();120===Math.abs(e.wheelDelta)?t-this.lastFullWheelTime>50&&(this.onMouseWheelDo(e.wheelDelta),this.lastFullWheelTime=t):(t-this.lastWheelTime>50&&"number"==typeof e.deltaX&&(this.lastWheelDirection=0===e.detail&&Math.abs(e.deltaX)>Math.abs(e.deltaY)?"x":"y","x"===this.lastWheelDirection&&this.$emit("swipe",e.deltaX>0?"left":"right")),"y"===this.lastWheelDirection&&this.onMouseWheelDo(e.wheelDelta)),this.lastWheelTime=t},onMouseWheelDo:function(e){var t=Math.pow(1.25,e/120);this.tryToScale(t),this.onInteractionEnd()},onMouseDown:function(e){this.refreshContainerPos(),this.isPointerDown=!0,this.pointerPosX=e.clientX,this.pointerPosY=e.clientY},onMouseUp:function(){this.isPointerDown=!1,this.onInteractionEnd()},onMouseMove:function(e){this.onPointerMove(e.clientX,e.clientY)},onTouchStart:function(e){if(1===e.touches.length)this.refreshContainerPos(),this.pointerPosX=e.touches[0].clientX,this.pointerPosY=e.touches[0].clientY,this.isPointerDown=!0;else if(2===e.touches.length){this.isPointerDown=!0,this.pointerPosX=(e.touches[0].clientX+e.touches[1].clientX)/2,this.pointerPosY=(e.touches[0].clientY+e.touches[1].clientY)/2;var t=e.touches[0].clientX-e.touches[1].clientX,o=e.touches[0].clientY-e.touches[1].clientY;this.twoFingerInitDist=Math.sqrt(t*t+o*o)}},onTouchEnd:function(e){0===e.touches.length?(this.isPointerDown=!1,Math.abs(this.scale-1)<.1&&(this.scale=1),this.onInteractionEnd()):1===e.touches.length&&(this.pointerPosX=e.touches[0].clientX,this.pointerPosY=e.touches[0].clientY)},onTouchMove:function(e){if(1===e.touches.length)this.onPointerMove(e.touches[0].clientX,e.touches[0].clientY);else if(2===e.touches.length){var t=(e.touches[0].clientX+e.touches[1].clientX)/2,o=(e.touches[0].clientY+e.touches[1].clientY)/2;this.onPointerMove(t,o),this.pointerPosX=t,this.pointerPosY=o;var r=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY,l=Math.sqrt(r*r+n*n);this.tryToScale(l/this.twoFingerInitDist),this.twoFingerInitDist=l}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),gi=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"swiper",rawName:"v-swiper:_swiper",value:e.swiperOptions,expression:"swiperOptions",arg:"_swiper"}],staticClass:"activity-image-viewer_swiper_container swiper-container"},[o("div",{staticClass:"image-viewer-top"},[o("closeSvg",{staticClass:"activity-image_icon-close",nativeOn:{click:function(t){return e.close(t)}}}),e._v(" "),o("div",{ref:"pagination",staticClass:"swiper-pagination activity-swiper-pagination"}),e._v(" "),o("klk-button",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"SeeMap"},expression:"{ spm: 'SeeMap' }"}],staticClass:"map-button",attrs:{type:"white-outlined",size:"mini",round:"","data-spm-module":"SeeMap","data-spm-virtual-item":"__virtual"},on:{click:function(t){return e.$emit("showMap")}}},[e._v(e._s(e.buttonText))])],1),e._v(" "),o("div",{staticClass:"image-viewer-title"},[e._v(e._s(e.title))]),e._v(" "),o("div",{staticClass:"swiper-wrapper"},e._l(e.images,(function(image,e){return o("div",{key:e,staticClass:"swiper-slide"},[o("div",{staticClass:"img-box"},[o("ImageZoomer",[o("img",{staticClass:"activity-image",attrs:{src:image.src,alt:"activity-image"}})])],1)])})),0),e._v(" "),e._t("description")],2)},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._swiper=null,t.swiperOptions={slidesPerView:1,initialSlide:t.index,paginationClickable:!0,spaceBetween:16,pagination:{el:".swiper-pagination",type:"fraction"},on:{slideChange:function(){t.slideChange()}}},t}return B(t,e),Object.defineProperty(t.prototype,"buttonText",{get:function(){return this.translateI18n("100787")},enumerable:!1,configurable:!0}),t.prototype.slideChange=function(){this.$emit("swiperChange",this._swiper.realIndex)},t.prototype.close=function(){this.$emit("close")},t.prototype.mounted=function(){this._swiper.slideTo(this.index)},U([se()],t.prototype,"images",void 0),U([se({type:Number,default:0})],t.prototype,"index",void 0),U([se()],t.prototype,"title",void 0),U([re({default:function(){return""}})],t.prototype,"translateI18n",void 0),t=U([ie({components:{ImageZoomer:mi,CloseSvg:ct,KlkButton:O.a}})],t)}(r.default),"data-v-48287a38",!1,void 0,!1,void 0,void 0,void 0),yi=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"layer-head"},[o("SvgIcon",{staticClass:"icon-close",attrs:{name:e.icon},nativeOn:{click:function(t){return e.close(t)}}}),e._v(" "),o("span",{staticClass:"title"},[e._v("\n    "+e._s(e.title)+"\n  ")])],1)},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),t.prototype.close=function(){this.$emit("close")},U([se()],t.prototype,"title",void 0),t=U([ie],t)}(r.default),void 0,!1,void 0,!1,void 0,void 0,void 0),bi=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"fade"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"activity-layer"},[o("div",{staticClass:"activity-layer_mask",on:{click:e.clickMask}}),e._v(" "),o("transition",{attrs:{name:e.transition}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"content",staticClass:"activity-layer_content",style:e.contentStyle},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["activity-layer-header_wrap",{fixed:e.fixed}]},[o("div",{staticClass:"activity-layer-header",style:e.headerStyle},[e._t("title",[e.headerVisible||e.title?o("LayerHeader",{attrs:{title:e.title,icon:e.icon},on:{close:e.close}}):e._e()])],2)]),e._v(" "),e.visible?e._t("default"):e._e(),e._v(" "),e._t("firstRenderContent")],2)])],1)])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fixScrollY=0,t.transfered=!1,t}return B(t,e),t.prototype.visibleChange=function(e){this.notFixed||(e?"fixed"!==document.body.style.position&&(this.fixScrollY=window.pageYOffset,document.body.style.position="fixed",document.body.style.top=-this.fixScrollY+"px"):(document.body.style.position="static",document.body.scrollTop=this.fixScrollY,document.documentElement.scrollTop=this.fixScrollY))},Object.defineProperty(t.prototype,"contentStyle",{get:function(){var style={};return this.height&&(style.height=this.height),this.color&&(style.backgroundColor=this.color),style},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerStyle",{get:function(){if(!this.fixed)return{};var e=parseFloat(this.height);return{top:/%/.test(this.height)?"".concat(100-e,"%"):"calc(100% - ".concat(e,"px)")}},enumerable:!1,configurable:!0}),t.prototype.clickMask=function(){this.overlayClosable&&this.$emit("close")},t.prototype.close=function(){this.$emit("close")},t.prototype.mounted=function(){this.transfer&&!this.transfered&&(document.body.appendChild(this.$el),this.transfered=!0)},t.prototype.beforeDestroy=function(){this.transfer&&this.transfered&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},U([se({type:String,default:"100%"})],t.prototype,"height",void 0),U([se()],t.prototype,"headerVisible",void 0),U([se({type:String,default:"slide-up",validator:function(e){return["slide-up","slide-right","fade"].includes(e)}})],t.prototype,"transition",void 0),U([se()],t.prototype,"visible",void 0),U([se()],t.prototype,"overlayClosable",void 0),U([se()],t.prototype,"title",void 0),U([se()],t.prototype,"icon",void 0),U([se()],t.prototype,"fixed",void 0),U([se()],t.prototype,"color",void 0),U([se()],t.prototype,"transfer",void 0),U([se({default:!1})],t.prototype,"notFixed",void 0),U([le("visible")],t.prototype,"visibleChange",null),t=U([ie({components:{LayerHeader:yi}})],t)}(r.default),"data-v-044d929a",!1,void 0,!1,void 0,void 0,void 0),wi=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("klk-modal",{staticClass:"image-viewer-modal",attrs:{fullscreen:"",open:e.visible},on:{"update:open":function(t){e.visible=t}}},[o("ActivityLayer",{staticClass:"activity-image-viewer",attrs:{visible:e.visible,transfer:e.transfer,"not-fixed":e.notFixed,color:"black",transition:"fade"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.$emit("update:visible",!1)}}},[o("ImageGalleryViewer",{attrs:{index:e.index,images:e.images,title:e.currentPoi.title},on:{showMap:e.showMap,close:function(t){return e.$emit("update:visible",!1)},swiperChange:e.swiperChange},scopedSlots:e._u([{key:"description",fn:function(t){return[e._t("description",null,{image:t.image})]}}],null,!0)})],1),e._v(" "),o("klk-modal")],1)},staticRenderFns:[]},void 0,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),t.prototype.showMap=function(){this.handleShowMap(this.currentPoi)},t.prototype.swiperChange=function(e){this.$emit("swiperChange",e)},U([se()],t.prototype,"visible",void 0),U([se()],t.prototype,"transfer",void 0),U([se()],t.prototype,"notFixed",void 0),U([se()],t.prototype,"images",void 0),U([se()],t.prototype,"title",void 0),U([se({type:Number})],t.prototype,"index",void 0),U([se({type:Object,default:function(){return{}}})],t.prototype,"currentPoi",void 0),U([re({default:function(){return null}})],t.prototype,"handleShowMap",void 0),t=U([ie({components:{ActivityLayer:bi,ImageGalleryViewer:gi}})],t)}(r.default),"data-v-de3810be",!1,void 0,!1,void 0,void 0,void 0),_i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 20 20",fill:"none"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.804 3.578a.833.833 0 011.178 0l5.893 5.892a.833.833 0 010 1.179L8.982 16.54a.833.833 0 01-1.178-1.178l5.303-5.304-5.303-5.303a.833.833 0 010-1.178z",fill:"#fff"}})])}},ki=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"big-image-swiper"},[o("div",{directives:[{name:"swiper",rawName:"v-swiper:$bigImageSwiper",value:e.bigImageSwiperOption,expression:"bigImageSwiperOption",arg:"$bigImageSwiper"}],ref:"$bigImageSwiper",staticClass:"swiper-container js-swiper-container",class:[e.name]},[o("div",{staticClass:"swiper-wrapper"},e._l(e.imageList,(function(t,r){return o("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image.container",value:t.img_url,expression:"item.img_url",arg:"background-image",modifiers:{container:!0}}],key:r,staticClass:"swiper-slide",class:e.highlightSwiperSlideIndex===r&&"current-slide-visible",attrs:{ratio:"1:1","data-image-id":t.image_id}},[o("Logo",{attrs:{ratio:"1:1",width:161}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.imageScroll&&e.isScreened,expression:"imageScroll && isScreened"}],staticClass:"swiper-slide__img-wrap"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img_url,expression:"item.img_url"}],staticClass:"swiper-slide__img"})])],1)})),0),e._v(" "),e.imageScroll&&e.showEnlargeEntry?o("div",{staticClass:"swiper-screen",on:{click:e.handleScreen}},[o("IconEnlarge",{attrs:{theme:"outline",size:"16",fill:"#ffffff"}}),e._v(" "),o("span",{staticClass:"swiper-screen-text"},[e._v(e._s(e.screenText))])],1):e._e(),e._v(" "),o("div",{staticClass:"swiper-pagination swiper-pagination-fraction"},[e._v("\n        "+e._s(e.highlightSwiperSlideIndex+1)+" / "+e._s(e.total)+"\n      ")]),e._v(" "),o("div",{staticClass:"next-prev swiper-next",class:[e.name+"-swiper-next"]},[o("span",{staticClass:"next-prev__icon"},[o("ArrowSvg",{staticClass:"svg-style",attrs:{name:"desktop-common#arrow-right-new",size:"20"}})],1)]),e._v(" "),o("div",{staticClass:"next-prev swiper-prev",class:[e.name+"-swiper-prev"]},[o("span",{staticClass:"next-prev__icon"},[o("ArrowSvg",{staticClass:"svg-style",attrs:{name:"desktop-common#arrow-right-new",size:"20"}})],1)])])]),e._v(" "),o("div",{staticClass:"small-image-swiper"},[o("div",{staticClass:"small-image-swiper-wrapper"},[o("div",{directives:[{name:"swiper",rawName:"v-swiper:$smallImageSwiper",value:e.smallImageSwiperOption,expression:"smallImageSwiperOption",arg:"$smallImageSwiper"}],ref:"$smallImageSwiper",staticClass:"swiper-container"},[o("div",{staticClass:"swiper-wrapper swiper-no-swiping"},e._l(e.imageList,(function(t,r){return o("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image.container",value:t.img_resize_url,expression:"item.img_resize_url",arg:"background-image",modifiers:{container:!0}}],key:r,staticClass:"swiper-slide swiper-no-swiping",class:e.highlightSwiperSlideIndex===r?"high-light-swiper-slide":"",attrs:{ratio:"1:1","data-image-id":t.image_id},on:{click:function(t){return e.highlightSwiperSlide(r)}}},[o("Logo",{attrs:{ratio:"1:1",width:24}})],1)})),0)]),e._v(" "),o("div",{staticClass:"small-next-prev small-swiper-next",class:[e.name+"-small-swiper-next"]},[o("span",{staticClass:"small-next-prev__icon"},[o("ArrowSvg",{staticClass:"svg-style",attrs:{name:"desktop-common#arrow-right-new",size:"20"}})],1)]),e._v(" "),o("div",{staticClass:"small-next-prev small-swiper-prev",class:[e.name+"-small-swiper-prev"]},[o("span",{staticClass:"small-next-prev__icon"},[o("ArrowSvg",{staticClass:"svg-style",attrs:{name:"desktop-common#arrow-right-new",size:"20"}})],1)])])])])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showEnlargeEntry=!1,t.timer=null,t.isScreened=!1,t.$bigImageSwiper=null,t.$smallImageSwiper=null,t.highlightSwiperSlideIndex=0,t.currentReview=null,t.bigImageSwiperOption={navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},on:{init:function(){if(0===t.currentIndex){var e=".".concat(t.name,"-swiper-prev");t.initSwiper(e)}var o=t.bigImageSwiperOption.slidesPerGroup||1;t.imageList.length<=o&&t.initSwiper(".".concat(t.name,"-swiper-next"))},slideChangeTransitionStart:t.handleSlideStart,slideChange:function(){var e=t.name;t.BigSwiperSlideChange(),t.slideChangeTransitionEnd("$bigImageSwiper",{next:".".concat(e,"-swiper-next"),prev:".".concat(e,"-swiper-prev")})}}},t.smallImageSwiperOption={slidesPerView:"auto",centeredSlides:!1,navigation:{nextEl:".small-swiper-next",prevEl:".small-swiper-prev"},lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},spaceBetween:10,slidesPerGroup:8,noSwiping:!0,on:{init:function(){var e=".".concat(t.name,"-small-swiper-prev");t.initSwiper(e);var o=t.smallImageSwiperOption.slidesPerGroup||1,r="banner-swiper"===t.name?11:o;t.imageList.length<=r&&t.initSwiper(".".concat(t.name,"-small-swiper-next"))},slideChange:function(){var e=t.name;t.slideChangeTransitionEnd("$smallImageSwiper",{next:".".concat(e,"-small-swiper-next"),prev:".".concat(e,"-small-swiper-prev")})}}},t}return B(t,e),t.prototype.currentIndexChange=function(e){var t=this;this.$nextTick((function(){t.$bigImageSwiper&&t.$bigImageSwiper.slideTo(e),t.handleImageLoad(e)}))},t.prototype.handleImageLoad=function(e){var t=this,o=this;this.showEnlargeEntry=!1,this.timer=setTimeout((function(){var r,image=t.imageList[e],n=null!==(r=null==image?void 0:image.img_url)&&void 0!==r?r:"";if(n)if(image.width&&image.height)t.getImgSize(image);else{var img=new Image;img.src=n,img.onload=function(){image.width=img.width,image.height=img.height,o.getImgSize({width:img.width,height:img.height})}}}),350)},t.prototype.getImgSize=function(source){if(this.imageScroll){var e=this.$el.querySelector(".js-swiper-container .swiper-wrapper");if(e){var t=e.clientWidth,o=e.clientHeight;if(source){var r=source.width,n=source.height;if(r&&n){var l=t/o,c=r/n;this.showEnlargeEntry=c<=l}}}}},t.prototype.handleScreen=function(){this.isScreened=!this.isScreened},t.prototype.handleSlideStart=function(){this.isScreened=!1},Object.defineProperty(t.prototype,"screenText",{get:function(){return this.isScreened?this.translateI18n("102478"):this.translateI18n("102477")},enumerable:!1,configurable:!0}),t.prototype.updateSwiper=function(){this.$smallImageSwiper.update(),this.$bigImageSwiper.update()},t.prototype.highlightSwiperSlide=function(e){this.$bigImageSwiper.slideTo(e),this.highlightSwiperSlideIndex=e},t.prototype.BigSwiperSlideChange=function(){var e=this.$bigImageSwiper.realIndex;this.highlightSwiperSlideIndex=e,this.$smallImageSwiper.slideTo(e),this.$emit("bigSwiperChange",e),this.handleImageLoad(e)},t.prototype.slideChangeTransitionEnd=function(e,t){var o=this[e],r=document.querySelector(t.next),n=document.querySelector(t.prev);o.isEnd?r.style.display="none":r.style.display="block",o.isBeginning?n.style.display="none":n.style.display="block";var l=o.realIndex;this.imageList.length<this.total&&this.imageList.length-l<=15&&this.$emit("slideToEnd")},t.prototype.initSwiper=function(e){this.$nextTick((function(){var t=document.querySelector(e);(null==t?void 0:t.style)&&(t.style.display="none")}))},U([se()],t.prototype,"imageList",void 0),U([se()],t.prototype,"total",void 0),U([se({default:0})],t.prototype,"currentIndex",void 0),U([se({default:!1})],t.prototype,"imageScroll",void 0),U([se({default:""})],t.prototype,"name",void 0),U([re({default:function(){return""}})],t.prototype,"translateI18n",void 0),U([le("currentIndex",{immediate:!0})],t.prototype,"currentIndexChange",null),t=U([ie({components:{ArrowSvg:_i,Logo:bt,IconEnlarge:N.a}})],t)}(r.default),"data-v-72e09fad",!1,void 0,!1,void 0,void 0,void 0),xi=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("klk-modal",{staticClass:"page-activity-reviews-gallery-modal",attrs:{open:e.showGallery,scrollable:!1,"overlay-closable":!1,padding:0,closable:!e.hackCloseBtn,"show-default-footer":!1,fullscreen:!0,overlay:!1},on:{"update:open":function(t){e.showGallery=t},close:e.closeModal}},[e.hackCloseBtn?o("div",{staticClass:"hack-close-btn-wrap"},[o("span",{staticClass:"hack-close-btn-wrap__close-btn",on:{click:e.closeModal}},[o("svg",[o("use",{attrs:{"xlink:href":"#klk-icon-icon_navigation_close"}})])])]):e._e(),e._v(" "),o("div",{staticClass:"reviews-container",class:!(e.calcTitle||e.calcShowNavTag)&&"hack-hide-nav-tag"},[o("div",{staticClass:"button-group"},[o("span",{staticClass:"title-text"},[e._v(e._s(e.calcTitle))])]),e._v(" "),e.calcShowNavTag?o("div",{staticClass:"button-group"},[o("klk-button",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"OfficialPhoto"},expression:"{spm: 'OfficialPhoto'}"}],staticClass:"button-group-item",class:{active:0===e.currentTab},attrs:{type:"outlined","data-spm-module":"OfficialPhoto?oid=activity_"+e.activityId,"data-spm-virtual-item":"__virtual"},on:{click:function(t){return e.switchTabs(0)}}},[e._v("\n        "+e._s(e.translateI18n("review.merchant_photo_gallery"))+" ("+e._s(e.bannerList.length)+")\n      ")]),e._v(" "),e.total>0?o("klk-button",{directives:[{name:"galileo-click-tracker",rawName:"v-galileo-click-tracker",value:{spm:"CustomerPhotos"},expression:"{spm: 'CustomerPhotos'}"}],staticClass:"button-group-item",class:{active:1===e.currentTab},attrs:{type:"outlined","data-spm-module":"CustomerPhotos?oid=activity_"+e.activityId,"data-spm-virtual-item":"__virtual"},on:{click:function(t){return e.switchTabs(1)}}},[e._v("\n        "+e._s(e.translateI18n("review.customer_photo_gallery"))+" ("+e._s(e.total)+")\n      ")]):e._e()],1):e._e(),e._v(" "),o("div",{staticClass:"image-gallery-container"},[o("div",{directives:[{name:"show",rawName:"v-show",value:0===e.currentTab,expression:"currentTab === 0"}],staticClass:"reviews-container-left banner-swiper"},[o("ImageSwiper",{ref:"gallery0",staticClass:"banner-swiper__img-content",attrs:{"image-list":e.bannerList,total:e.bannerList.length,"current-index":e.currentIndex,"image-scroll":!0,name:"banner-swiper"},on:{bigSwiperChange:e.handleSwiperChange}})],1)])])])},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imageList=[],t.reviews=[],t.page=1,t.pageSize=8,t.total=0,t.currentReview=null,t.currentTab=0,t}return B(t,e),t.prototype.showGalleryChange=function(e){e&&(this.currentTab=this.defaultTag||0)},t.prototype.overrideImagesChange=function(e){e&&this.initImages()},t.prototype.mounted=function(){this.getImages(!0)},Object.defineProperty(t.prototype,"calcTitle",{get:function(){return this.currentPoi?this.currentPoi.title:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calcShowNavTag",{get:function(){var e=this.bannerList,t=this.total;return e&&e.length&&t},enumerable:!1,configurable:!0}),t.prototype.handleSwiperChange=function(e){void 0===e&&(e=0),this.$emit("swiperChange",e)},t.prototype.initImages=function(){var e;(null===(e=this.overrideImages)||void 0===e?void 0:e.length)&&this.overrideReview&&(this.currentTab=this.defaultTag,this.imageList=this.overrideImages.map((function(e){return W(W({},e),{reviewId:e.review_id})})),this.currentReview=this.overrideReview,this.reviews[this.imageList[0].reviewId]=this.overrideReview,this.total=this.imageList.length)},t.prototype.handleBuyNow=function(){var e=this;this.$emit("close"),this.$nextTick((function(){e.$emit("buy-now")}))},t.prototype.changeCommentLike=function(data){var e=this.reviews[data.reviewId];this.$set(e,"like_count",e.like_count+1),this.$set(e,"has_liked",!0)},t.prototype.slideChangeTransitionEnd=function(){},t.prototype.getImages=function(e){return H(this,void 0,void 0,(function(){return V(this,(function(e){return[2]}))}))},t.prototype.arrayToObj=function(e){var t={};return e.forEach((function(e){t[e.review_id]=e})),t},t.prototype.BigSwiperSlideChange=function(e){var t=this.imageList[e].reviewId;this.currentReview=this.reviews[t]},t.prototype.closeModal=function(){this.$emit("close")},t.prototype.switchTabs=function(e){var t=this;this.currentTab=e,this.$nextTick((function(){t.$refs["gallery".concat(e)].updateSwiper()}))},U([se({default:!1})],t.prototype,"hackCloseBtn",void 0),U([se({default:""})],t.prototype,"title",void 0),U([se({default:!1})],t.prototype,"dontGetImages",void 0),U([se({default:function(){return[]}})],t.prototype,"bannerList",void 0),U([se()],t.prototype,"activityId",void 0),U([se()],t.prototype,"showGallery",void 0),U([se()],t.prototype,"defaultTag",void 0),U([se({default:0})],t.prototype,"currentIndex",void 0),U([se({default:null})],t.prototype,"overrideImages",void 0),U([se({default:null})],t.prototype,"overrideReview",void 0),U([se({type:Object,default:function(){return{}}})],t.prototype,"currentPoi",void 0),U([re({default:function(){return""}})],t.prototype,"translateI18n",void 0),U([le("showGallery")],t.prototype,"showGalleryChange",null),U([le("overrideImages",{immediate:!0})],t.prototype,"overrideImagesChange",null),t=U([ie({components:{ImageSwiper:ki}})],t)}(r.default),"data-v-c16c41b4",!1,void 0,!1,void 0,void 0,void 0);r.default.use(Xe,{adapter:{loaded:function(e){var t,o,r,n=e.el,l=n.getAttribute("ratio");if(!Qe&&l){var c=(null===(t=null==n?void 0:n.querySelector)||void 0===t?void 0:t.call(n,".v-lazy-logo"))||(null===(r=null===(o=null==n?void 0:n.parentElement)||void 0===o?void 0:o.querySelector)||void 0===r?void 0:r.call(o,".v-lazy-logo"));c&&(c.style.display="none")}}},error:"https://res.klook.com/image/upload/image_logo_mx7wgd.png"});var Ci=Ke({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"exp-itinerary",class:{"is-large":"large"===e.currentSize}},[e.isValidPickupInfo?o("PickUpPoints",{attrs:{info:e.pickupInfos,"itinerary-pois":e.itineraryPois,"current-poi":e.currentPoi,"show-entry":!1},on:{close:function(t){e.currentPoi=null}}}):e._e(),e._v(" "),e.mapVisible?o("Map",e._b({attrs:{show:e.mapVisible},on:{"update:show":function(t){e.mapVisible=t}}},"Map",e.mapAtrrs,!1)):e._e(),e._v(" "),e.itineraryData.departure_more?o("div",{staticClass:"itinerary-top-tips"},[o("IconTipsSvg",{staticClass:"icon"}),e._v(" "),o("div",{staticClass:"text"},[e._v(e._s(e.itineraryData.departure_more))])],1):e._e(),e._v(" "),e._l(e.dayList,(function(t,r){return o("ItineraryDay",{key:t.day_name+"-"+r,attrs:{"day-data":t,"is-one-day":e.isOneDay,"no-divider":0===r,showImageFn:e.showImageFn,hackCloseBtn:e.hackCloseBtn,"itinerary-pois":e.itineraryPois}})})),e._v(" "),e.footerList&&e.footerList.length>0?o("ItineraryFooter",{attrs:{"footer-data":e.footerList}}):e._e(),e._v(" "),e.allImages&&e.allImages.length>0?[e.isDesktop?o("ImgPreviewDesktop",e._b({attrs:{"activity-id":e.calcAid,hackCloseBtn:e.hackCloseBtn,"current-poi":e.currentImages},on:{close:e.imageGalleryObj.ons.close,swiperChange:e.swiperChange}},"ImgPreviewDesktop",e.imageGalleryObj,!1)):o("div",{attrs:{id:"TNA_ItineraryPhoto_page_spm","data-spm-page":e.pageSpm}},[o("ImgPreviewMobile",{attrs:{images:e.allImages,index:e.currentIndex,visible:e.visible,"current-poi":e.currentImages},on:{"update:visible":function(t){e.visible=t},close:function(t){e.currentImages=null},swiperChange:e.swiperChange}},[o("template",{slot:"description"},[o("div",{staticClass:"merchant-image-description"},[e._v("\n            "+e._s(e.currentImages.text)+"\n          ")])])],2)],1)]:e._e()],2)},staticRenderFns:[]},void 0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPoi=null,t.mapVisible=!1,t.mapAtrrs={},t.visible=!1,t.currentIndex=0,t.currentImages={},t.imageGalleryObj={dontGetImages:!0,showGallery:!1,currentIndex:0,bannerList:[],ons:{close:function(){var e=t.imageGalleryObj;e.itineraryImages=[],e.currentIndex=0,e.showGallery=!1}}},t}return B(t,e),Object.defineProperty(t.prototype,"isValidPickupInfo",{get:function(){return!this.isPrint&&(this.isMobile&&(this.validateMap||this.pickupInfos))},enumerable:!1,configurable:!0}),t.prototype.visibleChange=function(e){e&&"function"==typeof this.inhouseTrack&&this.inhouseTrack("pageview","#TNA_ItineraryPhoto_page_spm",{force:!0})},Object.defineProperty(t.prototype,"pageSpm",{get:function(){return"TNA_ItineraryPhoto?oid=package_".concat(this.packageId,"&trg=manual")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itineraryPois",{get:function(){var e,t,o;return(null!==(o=null===(t=null===(e=this.itineraryData)||void 0===e?void 0:e.pois)||void 0===t?void 0:t.poi_data)&&void 0!==o?o:[]).map((function(e){return W(W({},e),{attr_id:e.attr_id||nt()})}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realMapTracker",{get:function(){return this.mapTracker},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calcLanguage",{get:function(){return this.language},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"provideCardSwiperItemWidth",{get:function(){var e=this.cardSwiperItemWidth;return"number"==typeof e?"".concat(e,"px"):this.cardSwiperItemWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageGroupType",{get:function(){return this.imageGroupStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isImageSwiper",{get:function(){return this.useImageSwiper},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapStyle",{get:function(){return this.mapType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSimplified",{get:function(){return this.simplified},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobile",{get:function(){return"mobile"===this.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrinting",{get:function(){return this.isPrint},enumerable:!1,configurable:!0}),t.prototype.handleTitleClick=function(data,e,t){var o,r,n,l;if(void 0===t&&(t=!1),e&&"function"==typeof this.grounpTitleClick&&this.grounpTitleClick(data),t){var c=(null!==(o=null==data?void 0:data.components)&&void 0!==o?o:[]).filter((function(e){return"poi"===e.type}))[0],d=(null!==(n=null===(r=null==c?void 0:c.data)||void 0===r?void 0:r.poi_data)&&void 0!==n?n:[])[0];if(this.isMobile)this.handleShowMap(d);else if(null==d?void 0:d.map){var h=null!==(l=null==d?void 0:d.map)&&void 0!==l?l:{},address=h.location,v=h.address_desc;this.setMapShow({address:address,addressDesc:v})}}},t.prototype.setMapShow=function(data){this.mapVisible=!0,this.mapAtrrs=data},Object.defineProperty(t.prototype,"isPickUp",{get:function(){return["pick_up_meet_up","pick_up_meet_up_v2"].includes(this.componentType)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewPickUp",{get:function(){return["pick_up_meet_up_v2"].includes(this.componentType)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customMap",{get:function(){return this.useItineraryMap},enumerable:!1,configurable:!0}),t.prototype.handleShowMap=function(map){this.currentPoi=map},t.prototype.handleEmit=function(e,data){this.$emit(e,data)},Object.defineProperty(t.prototype,"customCompObj",{get:function(){return this.customComp},enumerable:!1,configurable:!0}),t.prototype.customInhouseTrack=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.inhouseTrack.apply(this,e)},Object.defineProperty(t.prototype,"currentPlatform",{get:function(){return["mobile","desktop"].includes(this.platform)?this.platform:"mobile"},enumerable:!1,configurable:!0}),t.prototype.translateI18n=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var r=this.getTranslateFunc();return r.apply(void 0,Y([e],t,!1))},Object.defineProperty(t.prototype,"customAxios",{get:function(){return this.getAxiosFunc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packageId",{get:function(){var e,t;return null!==(t=null===(e=this.itineraryData)||void 0===e?void 0:e.package_id)&&void 0!==t?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldDisableLazyload",{get:function(){return this.disableLazyload},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentSize",{get:function(){return["small","large"].includes(this.size)?this.size:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calcAid",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentMapType",{get:function(){return this.mapType},enumerable:!1,configurable:!0}),t.prototype.showImagesViewer=function(e,t){var o="".concat(e.attr_id,"_").concat(t);this.currentIndex=this.allImages.findIndex((function(e){return e.id===o})),this.isDesktop?this.showImageFnHandler(this.currentIndex):(this.swiperChange(this.currentIndex),this.visible=!0)},Object.defineProperty(t.prototype,"calcCropDefined",{get:function(){var e=this.platform;return Ze(e)},enumerable:!1,configurable:!0}),t.prototype.getCropUrl=function(e,t){void 0===e&&(e="");var o=this.calcCropDefined,r=o.uploadUrl,n=o.previewCrop,l=o.adminCrop,c=(null==t?void 0:t.crop)||n;if(-1!==e.indexOf(c))return e;return-1!==e.indexOf(l)?e.replace(l,c):e.replace(r+"/",r+c)},t.prototype.getOfficialImages=function(e){var t=this;return(e||[]).map((function(e,o){var r=e.src,n=e.id,l=t.getCropUrl(r);return{image_id:n,img_resize_url:l,img_url:l}}))},t.prototype.showImageFnHandler=function(e){void 0===e&&(e=0);var t=this.imageGalleryObj;t.bannerList=this.allOfficialImages,t.showGallery=!0,t.currentIndex=e||0,this.swiperChange(e)},t.prototype.swiperChange=function(e){this.currentImages=this.allImages[e]||null},Object.defineProperty(t.prototype,"validateMap",{get:function(){var e,t,o,r=null!==(o=null===(t=null===(e=this.itineraryData)||void 0===e?void 0:e.pois)||void 0===t?void 0:t.poi_data)&&void 0!==o?o:[];return this.isMobile&&Array.isArray(r)&&r.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDesktop",{get:function(){return"desktop"===this.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayList",{get:function(){var e;return(null===(e=this.itineraryData)||void 0===e?void 0:e.days)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerList",{get:function(){var e;return(null===(e=this.itineraryData)||void 0===e?void 0:e.foot_info)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOneDay",{get:function(){return 1===this.dayList.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allOfficialImages",{get:function(){return this.getOfficialImages(this.allImages)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allImages",{get:function(){return this.isNewPickUp?this.getAllImagesV2(this.dayList):this.getAllImages(this.dayList)},enumerable:!1,configurable:!0}),t.prototype.getAllImagesV2=function(e){var t=this;return void 0===e&&(e=[]),e.reduce((function(e,element){var o=(element.groups||[]).reduce((function(e,o){var r,n,l,c,d=o.components||[],h=d.find((function(e){return"texts"===e.type})),v=(null!==(n=null===(r=null==h?void 0:h.data)||void 0===r?void 0:r.texts)&&void 0!==n?n:[]).find((function(e){return["text","bold"].includes(e.type)})),f=d.find((function(e){return"sub_group"===e.type})),m=(null!==(c=null===(l=null==f?void 0:f.data)||void 0===l?void 0:l.sub_data)&&void 0!==c?c:[]).reduce((function(e,o){var r,n,l,title=null!==(n=null===(r=null==o?void 0:o.map)||void 0===r?void 0:r.name)&&void 0!==n?n:"",data=W(W({},o),{text:null!==(l=null==v?void 0:v.text)&&void 0!==l?l:"",title:title}),c=(o.imgs||[]).reduce((function(e,img,o){if("default"===img.type)return e;var r="".concat(data.attr_id,"_").concat(o),n=t.getCropUrl(img.src);return Y(Y([],e,!0),[W(W(W({},img),data),{id:r,src:n})],!1)}),[]);return Y(Y([],e,!0),c,!0)}),[]);return Y(Y([],e,!0),m,!0)}),[]);return Y(Y([],e,!0),o,!0)}),[])},t.prototype.getAllImages=function(e){var t=this;return void 0===e&&(e=[]),e.reduce((function(e,element){var o=(element.groups||[]).reduce((function(e,o){var r,n,l,c,d=o.components||[],h=d.find((function(e){return"texts"===e.type})),v=(null!==(n=null===(r=null==h?void 0:h.data)||void 0===r?void 0:r.texts)&&void 0!==n?n:[]).find((function(e){return"text"===e.type})),f=d.find((function(e){return"poi"===e.type})),m=(null!==(c=null===(l=null==f?void 0:f.data)||void 0===l?void 0:l.poi_data)&&void 0!==c?c:[]).reduce((function(e,o){var r,data=W(W({},o),{text:null!==(r=null==v?void 0:v.text)&&void 0!==r?r:""}),n=(o.imgs||[]).reduce((function(e,img,o){if("default"===img.type)return e;var r="".concat(data.attr_id,"_").concat(o),n=t.getCropUrl(img.src);return Y(Y([],e,!0),[W(W(W({},img),data),{id:r,src:n})],!1)}),[]);return Y(Y([],e,!0),n,!0)}),[]);return Y(Y([],e,!0),m,!0)}),[]);return Y(Y([],e,!0),o,!0)}),[])},U([se({default:null})],t.prototype,"customComp",void 0),U([se({default:"mobile"})],t.prototype,"platform",void 0),U([se({default:""})],t.prototype,"size",void 0),U([se({default:function(){return""}})],t.prototype,"getTranslateFunc",void 0),U([se({default:function(){return function(){return null}}})],t.prototype,"getAxiosFunc",void 0),U([se({default:!1})],t.prototype,"disableLazyload",void 0),U([se({type:Object,default:function(){return{}}})],t.prototype,"itineraryData",void 0),U([se({default:!1})],t.prototype,"useItineraryMap",void 0),U([se({type:String,default:"mapbox"})],t.prototype,"mapType",void 0),U([se()],t.prototype,"showImageFn",void 0),U([se({default:!1})],t.prototype,"hackCloseBtn",void 0),U([se({type:String,default:""})],t.prototype,"componentType",void 0),U([se()],t.prototype,"grounpTitleClick",void 0),U([se({type:Boolean,default:!1})],t.prototype,"isPrint",void 0),U([se({default:function(){return""}})],t.prototype,"inhouseTrack",void 0),U([se({type:Boolean,default:!1})],t.prototype,"useImageSwiper",void 0),U([se({default:!1})],t.prototype,"simplified",void 0),U([se({type:[Number,String],default:248})],t.prototype,"cardSwiperItemWidth",void 0),U([se({type:String,default:""})],t.prototype,"imageGroupStyle",void 0),U([se()],t.prototype,"language",void 0),U([se({type:Object,default:null})],t.prototype,"pickupInfos",void 0),U([se({type:Object,default:null})],t.prototype,"mapTracker",void 0),U([le("visible")],t.prototype,"visibleChange",null),U([ne("realMapTracker")],t.prototype,"realMapTracker",null),U([ne("language2provide")],t.prototype,"calcLanguage",null),U([ne("provideCardSwiperItemWidth")],t.prototype,"provideCardSwiperItemWidth",null),U([ne("imageGroupType")],t.prototype,"imageGroupType",null),U([ne("isImageSwiper")],t.prototype,"isImageSwiper",null),U([ne("mapStyle")],t.prototype,"mapStyle",null),U([ne("isSimplified")],t.prototype,"isSimplified",null),U([ne("isMobile")],t.prototype,"isMobile",null),U([ne("isPrinting")],t.prototype,"isPrinting",null),U([ne("handleTitleClick")],t.prototype,"handleTitleClick",null),U([ne("setMapShow")],t.prototype,"setMapShow",null),U([ne("isPickUp")],t.prototype,"isPickUp",null),U([ne("isNewPickUp")],t.prototype,"isNewPickUp",null),U([ne("customMap")],t.prototype,"customMap",null),U([ne("handleShowMap")],t.prototype,"handleShowMap",null),U([ne("handleEmit")],t.prototype,"handleEmit",null),U([ne("customCompObj")],t.prototype,"customCompObj",null),U([ne("customInhouseTrack")],t.prototype,"customInhouseTrack",null),U([ne("platform")],t.prototype,"currentPlatform",null),U([ne("translateI18n")],t.prototype,"translateI18n",null),U([ne("customAxios")],t.prototype,"customAxios",null),U([ne("packageId")],t.prototype,"packageId",null),U([ne("disableLazyload")],t.prototype,"shouldDisableLazyload",null),U([ne("componentSize")],t.prototype,"currentSize",null),U([ne("currentMapType")],t.prototype,"currentMapType",null),U([ne("showImagesViewer")],t.prototype,"showImagesViewer",null),U([ne("getCropUrl2provide")],t.prototype,"getCropUrl",null),t=U([ie({components:{ItineraryDay:di,ItineraryFooter:ui,ItineraryMap:vi,ImgPreviewMobile:wi,ImgPreviewDesktop:xi,IconTipsSvg:si,Map:pt,PickUpPoints:ai}})],t)}(r.default),"data-v-4925d92d",!1,void 0,!1,void 0,void 0,void 0)},1541:function(e,t,o){},1542:function(e,t,o){},1543:function(e,t,o){},1560:function(e,t,o){},1638:function(e,t,o){},1652:function(e,t,o){"use strict";o.d(t,"a",(function(){return x}));var r=o(2);function n(e,t,o,desc){var r,n=arguments.length,l=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(n<3?r(l):n>3?r(t,o,l):r(t,o))||l);return n>3&&l&&Object.defineProperty(t,o,l),l}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t,o){(o?Reflect.getOwnMetadataKeys(t,o):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var n=o?Reflect.getOwnMetadata(r,t,o):Reflect.getOwnMetadata(r,t);o?Reflect.defineMetadata(r,n,e,o):Reflect.defineMetadata(r,n,e)}))}var h={__proto__:[]}instanceof Array;var v=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var o=e.prototype;Object.getOwnPropertyNames(o).forEach((function(e){if("constructor"!==e)if(v.indexOf(e)>-1)t[e]=o[e];else{var r=Object.getOwnPropertyDescriptor(o,e);void 0!==r.value?"function"==typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t){var o=t.prototype._init;t.prototype._init=function(){var t=this,o=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||o.push(r);o.forEach((function(o){Object.defineProperty(t,o,{get:function(){return e[o]},set:function(t){e[o]=t},configurable:!0})}))};var data=new t;t.prototype._init=o;var r={};return Object.keys(data).forEach((function(e){void 0!==data[e]&&(r[e]=data[e])})),r}(this,e)}});var n=e.__decorators__;n&&(n.forEach((function(e){return e(t)})),delete e.__decorators__);var c,f,y=Object.getPrototypeOf(e.prototype),w=y instanceof r.default?y.constructor:r.default,_=w.extend(t);return function(e,t,o){Object.getOwnPropertyNames(t).forEach((function(r){if(!m[r]){var n=Object.getOwnPropertyDescriptor(e,r);if(!n||n.configurable){var c,d,v=Object.getOwnPropertyDescriptor(t,r);if(!h){if("cid"===r)return;var f=Object.getOwnPropertyDescriptor(o,r);if(c=v.value,d=l(c),null!=c&&("object"===d||"function"===d)&&f&&f.value===v.value)return}Object.defineProperty(e,r,v)}}}))}(_,e,w),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys&&(d(c=_,f=e),Object.getOwnPropertyNames(f.prototype).forEach((function(e){d(c.prototype,f.prototype,e)})),Object.getOwnPropertyNames(f).forEach((function(e){d(c,f,e)}))),_}var m={prototype:!0,arguments:!0,callee:!0,caller:!0};function y(e){return"function"==typeof e?f(e):function(t){return f(t,e)}}y.registerHooks=function(e){v.push.apply(v,c(e))};var w="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function _(e){return void 0===e&&(e={}),function(t,o){var r;!function(e,t,o){if(w&&!Array.isArray(e)&&"function"!=typeof e&&void 0===e.type){var r=Reflect.getMetadata("design:type",t,o);r!==Object&&(e.type=r)}}(e,t,o),(r=function(t,o){(t.props||(t.props={}))[o]=e},function(e,t,o){var n="function"==typeof e?e:e.constructor;n.__decorators__||(n.__decorators__=[]),"number"!=typeof o&&(o=void 0),n.__decorators__.push((function(e){return r(e,t,o)}))})(t,o)}}let k=class extends r.default{constructor(){super(...arguments),this.timer=void 0}get cClass(){return[{"klk-scroll-snap":!0,"klk-scroll-snap-shadow":!0},`klk-scroll-snap--${this.direction}`,`klk-scroll-snap-align--${this.itemAlign}`]}get scrollContainer(){return this.$refs.scroll}mounted(){this.scrollContainer.addEventListener("scroll",this.scrollThrottle)}beforeDestroy(){var e;null===(e=this.scrollContainer)||void 0===e||e.removeEventListener("scroll",this.scrollThrottle)}scrollThrottle(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.countItemIndex()},100)}scrollFinish(){setTimeout(()=>{this.countItemIndex()},350)}getStyle(e,t){return e.currentStyle?e.currentStyle[t]:getComputedStyle(e,null)[t]}countItemIndex(){let e=0;const t=this.scrollContainer.children.length;if(0===t)return;const o="horizontal"===this.direction?"Left":"Top",r=Number(this.getStyle(this.scrollContainer.children[0],`margin${o}`).replace("px",""));for(let i=0;i<t;i++){const t=this.scrollContainer.children[i][`offset${o}`],n=this.scrollContainer[`scroll${o}`];if(t+this.delta-r>=n&&t+this.delta){e=i;break}}this.$emit("change",e)}slideTo(e){const t="horizontal"===this.direction?"Left":"Top",o={};o[t.toLowerCase()]=this.$el.querySelector(`.klk-scroll-snap_scroller > *:nth-child(${e+1})`)[`offset${t}`],this.scrollContainer.scrollTo(Object.assign(Object.assign({},o),{behavior:"smooth"}))}};n([_({type:Boolean,default:!0})],k.prototype,"withShadow",void 0),n([_({type:String,default:"horizontal"})],k.prototype,"direction",void 0),n([_({type:String,default:"center"})],k.prototype,"itemAlign",void 0),n([_({type:Number,default:0})],k.prototype,"delta",void 0),k=n([y({name:"KlkScrollSnap"})],k);const x=function(template,style,script,e,t,o,r,n,l,c){"boolean"!=typeof r&&(l=n,n=r,r=!1);var d,h="function"==typeof script?script.options:script;if(template&&template.render&&(h.render=template.render,h.staticRenderFns=template.staticRenderFns,h._compiled=!0,t&&(h.functional=!0)),e&&(h._scopeId=e),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),style&&style.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=d):style&&(d=r?function(e){style.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){style.call(this,n(e))}),d)if(h.functional){var v=h.render;h.render=function(e,t){return d.call(t),v(e,t)}}else{var f=h.beforeCreate;h.beforeCreate=f?[].concat(f,d):[d]}return script}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.cClass},[t("div",{ref:"scroll",staticClass:"klk-scroll-snap_scroller"},[this._t("default")],2),this._v(" "),this._t("action")],2)},staticRenderFns:[]},void 0,k,"data-v-dd35379e",!1,void 0,!1,void 0,void 0,void 0);x.install=function(e){e.component(x.name,x)}},1653:function(e,t,o){}}]);
//# sourceMappingURL=vendors.experience-package-detail-desktop-module.experience-package-detail-mobile-module.pages-exper.93452f64-68c860.js.map